commit 16ff6718c9668fa6adf00cf447a0b91507d2a88b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 6 00:38:14 2021 +0200

    Make update-po before branching S3_1
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71d231e0eb023a46ebef370b08052dcff25f46de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 2 08:50:11 2021 +0200

    scripts/potfiles: Update to the rename of 'freeciv' domain to 'core'
    
    See osdn #41425
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4669eddb18eb3e736278aa7f32bd6e03e3385394
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 20:15:40 2021 +0200

    sdl2: Make create_bcgnd_surf() state parameter enum widget_state
    
    See hrm Feature #900470
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5104b85852aec502934bde866ef848afd7bf78dd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 22:04:59 2021 +0100

    Allow an action to block a regular move.
    
    An enabler controlled action is able to block another enabler controlled
    action. That means that the blocked action becomes illegal if the blocking
    action is legal.
    
    Regular unit moves aren't enabler controlled actions yet. But certain
    enabler controlled actions needs to be able to block regular moves for
    compatibility reasons. They were handled along with regular moves in a way
    that made regular moves impossible if they were legal.
    
    Introduce actions.move_is_blocked_by as list of actions that block regular
    moves and put it in the ruleset. Add the 3.1 actions "Transport Disembark",
    "Transport Disembark 2" and "Conquer Extras" to it in the ruleset
    compatibility code. Add the same actions to the existing rulesets'
    move_is_blocked_by when they use them.
    
    See hrm Feature #919110

commit 520f3ad4ae637206f04a8de3d5d7e4e8be0f0a2b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 21:09:14 2021 +0100

    Use action stuct in autohelp for action blocker.
    
    Use action struct rather than action id when documenting what actions blocks
    an action a unit is able to do.
    
    See osdn #41456

commit 5b962a1a996b09be1f1448d7f12a60ae9d80d95b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 21:14:55 2021 +0100

    action_is_blocked_by(): from id to action.
    
    Specify the action as an action struct rather than as an action_id.
    
    See hrm Feature #919106

commit a1203c899311983a423c664235b8a960dd8f227e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 11:12:40 2021 +0100

    README.actions: improve Lua example 1.
    
    The action logger example would print potentially wrong ownership
    information about unit stack targets and tile extras targets. Make it write
    text for each target kind separately. Eliminate owner information for unit
    stacks since a unit stack can have units from more than one nation. Correct
    it for tile extras targeted actions.
    
    Add action target kind specific information too now that it is possible:
    Cities get name and id. Individual units gets unit type and id. Unit stacks
    gets coordinates. Tiles and tile extras gets coordinates.
    
    Improve the wording of the actor unit text too.
    
    See osdn #41451

commit bee20b4bc6342801bb6473863e5d1edd3ea86913
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 09:08:25 2021 +0100

    Lua script API: add tile extras_owner.
    
    Export a tile's extras owner to Lua.
    
    v2: change API to tile/extra pair as suggested by Marko Lindqvist
    
    See osdn #41445

commit 53457d5920b1228ad1e840ca1011ce97a6e8d29b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 09:47:06 2021 +0100

    Lua script API: export action target kind.
    
    Export an action's target kind as a string to Lua. It is already exposed to
    the ruleset via the user actions target kind setting.
    
    This can be used to write a call back handler that is registered for
    multiple target kinds but still can get target kind specific information.
    
    See osdn #41446

commit cac8486ad1acfbc6ce2e10cc8db6384bbf0e4170
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Feb 5 10:50:45 2021 +0100

    Updates french translations before S3_1 branching.

commit e4e173dce11854a8e97439555cf1104e2c9f0bc2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 18:09:56 2021 +0200

    Qt: Fix crash when loading of some shortcut has failed
    
    Use default shortcut when one cannot be loaded from the file.
    Null shortcuts were causing client to crash.
    
    Reported by John Robertson
    
    See hrm Bug #909515
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ae20a8297990debf717c8f208959f98f612fe1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 15:56:15 2021 +0200

    Gtk inteldlg: Show unknown information as "(Unknown)"
    
    It used to show dummy values
    
    Requested by fomalhaut pa
    
    See hrm Bug #765366
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce7f183754bcaabbeb5719877617b28002f285a5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 2 20:46:29 2021 +0100

    Expand non domestic obligatory hard requirements.
    
    Tile and Tile Extras targeted actions may also not make sense against
    domestic targets. Set this up and add the "target must be foreign or
    unowned" obligatory hard requirement to the action "Conquer Extras".
    
    See osdn #41435

commit 2707616031c811389acb32317cfddded5c3de622
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 2 19:46:11 2021 +0100

    sandbox: autogame castle storming.
    
    Work around that the AI won't build Castles by placing castles at the start
    of the game so "Capture Extras" gets autogame testing.
    
    See osdn Ticket #41434

commit 75376196700fb2bb2ecf1482051a91a445e04710
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 2 14:31:18 2021 +0100

    sandbox: add "Castle" as a new base type.
    
    A castle expands a fortress with an administration center, allowing it to
    claim terrain, to see cardinally adjacent tiles even when empty and to be
    captured by foreigners.
    
    See osdn #41433

commit f3ad1b5a363f015bdc3eb5cd94ca32cad0450ca7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 13:42:06 2021 +0200

    Clarify that Railroad increases production by half in most rulesets
    
    Text that used to say just that it increases the production everywhere,
    was confusing for the case where the production is less than 2 and
    the increase gets rounded down to zero.
    
    Reported by Chippo Elder
    
    See hrm Bug #918741
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ca83fc9f9509690733aeb32b5b85898f7d09167
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 4 05:25:01 2021 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26050e3d82c6ef09cd8bd2a9f67f12c17f49b7fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 4 04:16:36 2021 +0200

    core/POTFILES.in: Add featured_text.c
    
    Recent combat message change moved some strings to featured_text.c
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fcc98a58feea2bcdac02b0cc41aeb0a86ea4adf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 21:06:58 2021 +0200

    Qt: Drop unused fc_client::game_layout
    
    See hrm Feature #918824
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27b533423d7d26fc8a102026d152bb15a9a2cece
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 18:19:00 2021 +0100

    auto help: list "Conquer Extras" targets.
    
    List a unit's potential "Conquer Extras" targets in the unit's action
    specific help text.
    
    See hrm Feature #918956

commit 38d7ccd971f484147a7f704c23a47743f6dbeda6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 19:42:25 2021 +0100

    webperimental: ban civilian fortresses capturing.
    
    Demonstrate "Conquer Extras" by forbidding civilians from capturing
    fortresses in the webperimental ruleset.
    
    See hrm Feature #918909

commit b9d8cfc501270f73b12a525edabd3a3ff8c9044f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 14 18:18:53 2019 +0100

    New action "Conquer Extras".
    
    Extra conquest used to be a side effect of regular moves. Make it a
    separate action.
    
    Soft code the "no extra owner or at war with the extra owner" requirements.
    
    Changes auto games because the AI starts to put a value on extra capture.
    
    See hrm Feature #850508

commit 481e987bc614ee53b5219d43b8bec61cbf55f9a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 09:46:06 2021 +0200

    sdl2: Drop unused free_bcgd_order_widgets()
    
    See hrm Feature #918801
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 429b16e27b2e55fa4a36200fb3ab96cdf380d389
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 16:22:01 2021 +0100

    CI: reenable Windows build.
    
    Set CI msys2 version to 20201109 by specifying that version 2.1.2 of the
    msys2 GitHub action should be used. This makes GitHub actions able to build
    Freeciv again.
    
    Reported by Marko Lindqvist
    
    See hrm Bug #903493

commit 0a32b72a97c89502215d72fd5b402e42eb24d636
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 3 14:12:51 2021 +0200

    Bump version to 3.0.93.2-dev
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34fda8180c3a7e46d269af153115ef7cd3462795
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 13:11:23 2021 +0100

    Introduce tile extras targeted actions.
    
    Add support for enabler controlled actions that targets all extras at a
    tile. The difference from tile targeted actions is that the player
    target_reqs are evaluated against is the tile's extra owner rather than
    the tile owner.
    
    ATK_EXTRAS has no hard coded users yet but can be used with the user
    actions by setting target_kind to "tile extras".
    
    Example: A Buoy at an unclaimed tile is owned by the player it grants
    vision. An action enabler for "User Action 1" has a local DiplRel War
    requirement. A player at war with the tile's extra owner tries to perform
    "User Action 1" to the tile. If user_action_1_target_kind is set to
    "tile extras" the requirement is fulfilled. If it is set to "tiles" it
    isn't since there is no player (tile owner) to be at war with.
    
    See hrm Feature #918887

commit ebfc84fa24c08202b93221a60279a07607d81fa0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 11:42:18 2021 +0200

    Fix increasing of the packet decompress factor
    
    Code assumed that zlib would return Z_DATA_ERROR when decompress
    buffer is too small, but in reality it returns Z_BUF_ERROR.
    This caused decompress factor never to be increased even if the
    default value turned out to be too small.
    
    Reported by Louis Moureaux
    
    See hrm Bug #918726
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29a5197c7f0380df0aa98ea1907c520091b86466
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 1 12:32:40 2021 +0200

    Bump soundset capstr
    
    New entries have been added to the soundspec format since S3_0.
    Make the capstr to differ from frozen 3.0 one.
    
    See osdn #41411
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0c43cc0bd07522b96287ddc7e8abfaa2310c0c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 08:23:46 2021 +0100

    Document unit activities usages.
    
    Document what each member of unit_activity is used for.
    
    See hrm Feature #918854

commit 0d2a51c5889dd65ee1861d21e6cd17f7850faa68
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 08:08:30 2021 +0100

    Drop conversion of never read activity.
    
    ACTIVITY_PATROL_UNUSED can't be read from savegames. There is therefore no
    need to convert it to ACTIVITY_IDLE.
    
    See hrm Feature #918853

commit a9f6a5ae423c53d4f2de40e1ee3082c4103c4ec2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 08:18:48 2021 +0100

    savegame3: drop pre 3.0 activites.
    
    Remove activity2char()'s support for reading activities that were dropped
    before 3.0 was released.
    
    See hrm Feature #918852

commit b54b06e340c421b34458a50f8c7a13b968175cbe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 2 19:08:13 2021 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27b57cb2e3c507817a02166df8cbf1016c71a2cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 23:10:26 2021 +0200

    README.md: Update patch submit URL to osdn one
    
    See osdn #41402
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfab4d04de098d1025d4330541f768aeea323016
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 15:20:46 2021 +0100

    Add an "Extras Owned" CityTile property.
    
    It works like "Claimed" except that it checks for extra owner rather than
    for tile owner.
    
    See hrm Feature #918819

commit a3f3a388a241914e55ada7214476d741bad1906a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 16:32:34 2021 +0100

    Translate CityStatus property values.
    
    See hrm Bug #918818

commit 1343b450a9ead77e36eef26dfe487e9a2672e298
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 16:18:15 2021 +0100

    Translate CityTile property values.
    
    See hrm Bug #918816

commit dc3a0e63d211d7622530ca1f810e594c944f2dfd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 15:09:43 2021 +0100

    Clean up is_citytile_in_range().
    
    * Convert from if statement to switch statement.
    * Move the no target tile check to the top.
    * Move asserts against illegal ranges to be within switch statement
      (requested by Marko Lindqvist)
    
    See hrm Feature #918815

commit f67dfd3a09f71d29ef6b4ab31b208884b7fdca28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 12:10:35 2021 +0200

    Make year SINT32 in network protocol
    
    Reported by Alina L.
    
    See hrm Bug #918800
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23512a7b88ba5329ce244709e4b0f6b2fd63e6dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 09:14:58 2021 +0200

    Correct api_methods_game_year_text() function header
    
    See osdn #41393
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4af7815b91e88402359eaeb4c0674a5cefc2d3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 30 21:18:46 2021 +0200

    Qt: Fix foreach() inside foreach() shadow warnings from menu.cpp
    
    See hrm Bug #918786
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 110cdbbb11168e6b1a4afddf59aa73672e4a55b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 16:48:14 2021 +0100

    CI: use prebuilt Lua on OS X.
    
    See hrm Feature #918779

commit 4703c41161b2b97200814276af9b5f9f5ed197c9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 13:47:01 2021 +0100

    Ban "Fortress" in unit "Activity" requirements.
    
    The "Fortress" unit activity is there for compatibility with old savegames.
    It should not be exposed to the ruleset.
    
    Ban it from appearing in any "Activity" requirement.
    
    See hrm Bug #918776

commit c391b9903f555ab3beee59a773ed9c159620b5a5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 29 22:08:30 2021 +0100

    Make "Sentry" pure server side client state.
    
    Ban "Sentry" in unit "Activity" requirements. This makes it pure server side
    client state again. This makes Sentry a non action. Remove the "Sentry Unit"
    action introduced in hrm Feature #879674.
    
    I don't think the rules should change based on what the client does to
    implement a better user interface. Not having to think of upgrading rulesets
    that requires it gives us more freedom to move it to a server side client
    state sub system in the future.
    
    Ban "Sentry" from appearing in any "Activity" requirement. Make the
    requirement system see a unit performing "Sentry" as being idle. Remove the
    "Sentry Unit" action.
    
    This reverts commit fc6101ecfd9ee34e3d57230bf9c7679420f9fc4e.
    
    Done because of negative feed back on the "Sentry Unit" action from Ignatus
    on the Freeciv forum. See
    http://forum.freeciv.org/f/viewtopic.php?f=11&t=59607&start=70#p103321
    
    See hrm Feature #918768

commit e7d63729cb6d3a7b9ef8f8fef3345011be11e674
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 11:37:17 2021 +0100

    Ban "Explore" in unit "Activity" requirements.
    
    The "Explore" unit activity controls a server side agent. I don't think the
    rules should change based on if the player moves a unit himself or if a
    server side agent does it on his behalf. Not having to think of upgrading
    rulesets that requires it gives us more freedom to move it to a server side
    agent sub system in the future.
    
    Ban it from appearing in any "Activity" requirement. Make the requirement
    system see a unit performing "Explore" as being idle.
    
    See hrm Feature #918767

commit d73ac0ff7cea627cce63b045a8f948238937edd3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 11:18:09 2021 +0100

    Ban "Goto" in unit "Activity" requirements.
    
    The "Goto" unit activity is there for compatibility with old client-side
    goto. It should not be exposed to the ruleset.
    
    Ban it from appearing in any "Activity" requirement. Make the requirement
    system see a unit performing "Goto" as being idle.
    
    See hrm Bug #918766

commit d85e8de307a95f151644193f8d903a882a310cea
Author: Charlie Galik <Charlie.Galik@cambiumnetworks.com>
Date:   Tue Jan 26 13:43:16 2021 -0600

    Add detailed combat info server message
    
    Patch by myself and Louis Moureaux
    
    See hrm Feature #913055

commit 2ca43f449542d0d1f7bd8f798b62f8fbbeb39017
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 10:08:50 2021 +0100

    Forbid invalid Activity requirements.
    
    The unit activities "Unused Road", "Unused Railroad", "Unused",
    "Unused Airbase" and "Unused Patrol" aren't valid values for the "Activity"
    requirement type.
    
    See hrm Bug #918765

commit 6fae7ee8703d348e7f518456a32c6b7fb2adbf6b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 15:22:52 2021 +0100

    Comment pronuon fix.

commit a7e8c5a1112f3285c4e43ffffc966c6909790018
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Jan 29 19:29:57 2021 +0100

    Fix hard requirement of non-animal actor for Conquer City actions
    
    It should apply to the actor player, not to the target player.
    
    See hrm Bug #918718

commit db1ca595861fe98be54a61ba5a03dff6637bb0b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 10:17:59 2021 +0200

    Comment typofix: "dispalyed" -> "displayed"
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a9f698b6a6fef14bd31bd80cb5871e8b10d3885
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 29 17:34:10 2021 +0200

    Update to crosser-2.0
    
    See hrm Feature #891459
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe382f38fb13b5aee7cbb03d7ea7e3eb8de12492
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 30 08:54:19 2021 +0200

    Granularity: Add Pottery tech
    
    See hrm Feature #908869
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9fb57ad8d9ac0a1261422337629724bbebd2d5f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 24 07:47:56 2020 +0200

    gtk3x: Comment out chatline.c tool buttons code
    
    See hrm Feature #909061
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 626bce5b96e5d528e4d2b2c0ea5b09fda93a500a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 29 14:42:52 2021 +0200

    Fix typos in global_worklist_callback() function header
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e74a332d5645eeec63e7b0f50689d2dc45e9e3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 17 15:00:10 2021 +0200

    Qt: Fix map_view::shortcut_pressed() shadow warnings
    
    See hrm Bug #916123
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1547c17802ff465ec55531e4c9273d4a4b8da461
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 27 05:22:15 2021 +0200

    Add --enable-patient-connect configure option
    
    When the option is enabled, client gives spawned server much
    more time to get up. This is needed in some underpowered embedded
    systems. This option is meant to replace custom patch that
    OpenEmbedded meta-games is carrying to increase the time.
    
    See hrm Feature #899259
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abf2d17cf9968ff8fb29cda12f64c35fdc6414b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 00:59:15 2021 +0200

    sdl2: Drop order_auto_attack icon from theme format
    
    See hrm Feature #902918
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e18490ad03e1b8e0247ec6fc3ec7eae21e96923d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 11:47:57 2021 +0200

    Qt: Fix shadow warning from hud_battle_log::timerEvent()
    
    See hrm Bug #914093
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdab6cb064d0706b641131443fa3dc40c35fc12a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 19 02:27:43 2021 +0200

    Control -mwindows flag ourselves, from one place
    
    See hrm Feature #915700
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ed496002dedc0d6b52d35b8d145f323e2a0a0f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 17 03:17:19 2021 +0200

    Drop unnecessary SDL_mixer.h includes
    
    See hrm Bug #898088
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dde28145becd1310dd37d9ab90d2d05ccc7eae5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 11:17:32 2021 +0200

    Update BUG_URL to point to osdn
    
    See osdn #41096
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25050c829fab00032ffd54770f632b81a777b80f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 17 05:42:40 2021 +0200

    Qt: Restore QWheelEvent::source() and QWheelEvent::phase() to use
    
    We couldn't use them in earlier branches that had lower minimum
    Qt requirement.
    
    See osdn #41189
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ef49f2b8ee916d79d7bc97e5ac1851281c01050
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 00:48:02 2021 +0200

    sdl2: Show more accurate unit cost in global worklist editor
    
    Use utype_build_shield_cost(... client_player() ...) instead
    of utype_build_shield_cost_base() so player specific effects
    are considered in the calculation.
    
    See hrm Feature #905452
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49ed82bac36e22eec12404727eb58b5e1cac7ade
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 18 05:24:47 2021 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c7a4f89dc9877566c1111e3bb3a6d54fc5862ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 16 11:26:43 2021 +0200

    Qt: Fix dialogs.cpp shadow warnings
    
    See hrm Bug #915888
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c056a65ee4227f588db21c9426d81776271488a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 16 10:43:17 2021 +0200

    Drop borders_button from sdl2-client theme format
    
    Bump spec capstr as now the format differs from that of stable branches.
    
    See hrm Feature #898699
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a37f40c3480641450675cd635ea49940996a074
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 00:42:23 2021 +0200

    Refactor duplicate PF_IMPOSSIBLE_MC check out from pf_normal_map_iterate()
    
    See hrm Feature #911970
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3591b8c8bed2285a92879e9c321bdd43ec04085b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 21 19:41:23 2020 +0200

    sdl2: Correct create_horizontal() function header
    
    See hrm Feature #899230
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d29b049eb2fffd3a1b4fc699ca9844b4297af8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 12:07:22 2021 +0200

    Qt: Fix cityrep.cpp shadow warnings
    
    See hrm Bug #914100
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47415c2c22b3ddb54683d1f0499620427e357e01
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 12 05:22:33 2021 +0200

    sdl2: Improve wldlg.c coding style
    
    See hrm Feature #914761
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a10500e43b091169403961d4d4ba7f45138aad48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 09:38:47 2021 +0200

    Ruledit: Don't open separate console window in Windows
    
    Reported by Jacob Nevins
    
    See hrm Bug #681310
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1ad781bd913f77eb99a4d841fb09612abc4ace8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 12 03:30:16 2021 +0200

    sdl2: Improve widget_window.c coding style
    
    See hrm Feature #914738
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00f2bf372537f2e15b476fd887ac1ff14d99bff6
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Mon Jan 11 15:23:47 2021 +0200

    Make Despotism penalty and Pollution/Fallout not apply to Gold/Luxury/Science
    
    Some wonders like Hanging Gardens apply a direct Luxury or Science bonuses
    on the city _tile_. The code subjects them to the Output_Penalty_Tile
    effect, unlike the help texts lead the player to assume. The same issue
    applies to Pollution/Fallout via Output_Tile_Punish_Pct.
    
    Fix this by excluding Gold/Luxury/Science from both effects in the affected
    rulesets: civ2civ3 and sandbox.
    
    See hrm #908518

commit dcdef0ad0ade3720c303b418ab39afe433d2bfc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 10 09:10:50 2021 +0200

    sdl2: Improve widget_scrollbar.c coding style
    
    See hrm Feature #914306
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fcdcdc78c2667e8645b701ee84337406708d1ee5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 16:09:11 2021 +0200

    Fix postponing buildings from worklist
    
    They were never postponed, but their building started even when
    it was supposed to be impossible.
    
    Reported by wiederFI
    
    See hrm Bug #912972
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d59336b703330e910649fa546cdee87da48a24b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 03:01:17 2021 +0200

    sdl2: Improve widget_label.c coding style
    
    See hrm Feature #914020
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 124c737a7bfd1d96156f55f5bf4a29892da53b18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 22:24:53 2021 +0200

    Qt: Fix citydlg shadow warnings about 'pcity'
    
    Local variables shadowed data member by the same name
    from city_dialog and impr_item classes.
    
    See hrm Bug #912471
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b295ccfef9362f0e4ed4331310926bc745c87e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 8 07:32:45 2021 +0200

    sdl2: Improve widget_edit.c coding style
    
    See hrm Feature #913754
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d08c5b49104745dae79d7c78c0929d82b21e6e4b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 7 15:04:46 2021 +0200

    Fix Capture Unit's Casus Belli triggering
    
    Reported by Lexxie L
    
    See hrm Bug #913516
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d74b85a4c3967052f613c4ec8ff8ea3e391b8b7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 07:26:25 2020 +0200

    sdl2: Correct create_utf8_str() function header
    
    It talked about parameter called pInTextString, when in reality
    it's called in_text.
    
    See hrm Feature #902490
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d449581923e7ffaa216a822b46584893e7e2930e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 6 12:34:25 2021 +0200

    sdl2: Improve widget_checkbox.c coding style
    
    See hrm Feature #913238
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed073d52b50f08a46a607f0f5cd736b9b93930c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 7 04:02:06 2021 +0200

    configure: Drop detection of SQLITE3_VERSION
    
    The detection code errored when sqlite3.h header was in
    nonstandard location, and even when the detection succeeded,
    the result was not used for anything.
    
    See hrm Feature #913433
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3b03f6d56a71092e5707f585d650e3103026497
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 27 04:54:34 2020 +0200

    sdl2: Remove useless Toggle Mini Map Mode button
    
    It did nothing, just confused user by its existence.
    
    See hrm Bug #898649
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be137f6f7bdb92c4b5967a2fc8dd6f0383280630
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 08:31:47 2021 +0200

    sdl2: Improve widget.c coding style
    
    Some variable renames affect also other source files.
    
    See hrm Feature #912882
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e13ee1951a35be4b4a095cedd545b2b68b17262
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 05:20:15 2020 +0200

    sdl2: Rename get_widget_pointer_form_*() -> ..._from_...()
    
    See hrm Feature #911183
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf091b010b18c2047e564b8f5667dac44cdc8524
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 10:47:15 2021 +0200

    Qt: Fix chat_input::chat_word_list_changed() shadow warning
    
    See hrm Bug #901860
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a712a49e3d0b67640aacf5a45cf67bf2925030d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 4 08:24:19 2021 +0200

    sdl2: Improve widget_button.c coding style
    
    See hrm Feature #912574
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a12fc52083a25552facf3d81566062c0696937b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 23:05:02 2021 +0200

    Adjust formula for barbarian band size
    
    The old formula increased number of cities needed for higher
    band size factor too steeply.
    
    The new table:
    Player cities -> band size factor:
    ...10    -> 1
    11...31  -> 2
    32...80  -> 3
    81...186 -> 4
    
    Reported by Akechi
    
    See hrm Feature #767126
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 814490291d5ee838a8c08cd26ab72a74a9f6efc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 01:51:12 2021 +0200

    sdl2: Improve theme*.c coding style
    
    Some renames affect also other source files.
    
    See hrm Feature #912245
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f5aa81591ff9226189251eec1c2e4f354410fa2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 6 12:16:55 2021 +0200

    msys2: Add 'ci' target for the Makefile, use it in CI
    
    Disable build for now, as latest msys2 packages fetched by the CI
    are incompatible with our codebase (officially supported msys2
    snapshot version)
    
    See hrm Feature #913235
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7e87a3c9d9f6ae10b3c50701e9c88989d72f496
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 12:23:02 2021 +0200

    Meson: Set GDK_VERSION_MIN_REQUIRED, GDK_VERSION_MAX_ALLOWED
    
    Silences deprecation warning from newer gtk+ than our
    minimum supported.
    
    See hrm Feature #912102
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f2c263dae07a6595bcbfe65073a60c586ae606a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 02:00:04 2021 +0200

    sdl2: Improve spaceshipdlg.c coding style
    
    See hrm Feature #911986
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b03409c536a5920b736e44696cc8cbd118b28cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 13:37:08 2021 +0200

    configure.ac: Fix IPv6 support in Haiku
    
    Reported by Luc Schrijvers <Begasus>
    
    See hrm Bug #912369
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5118e0cbe68fce8ce9e6a5d2bd7a41931748a314
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 21:47:51 2021 +0200

    Qt: Fix helpdlg.cpp shadow compiler warnings about 'buffer' variables
    
    See hrm Bug #912464
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90ff9cb2c9c6d3a2487b331b72a032c6f98943c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 00:36:54 2021 +0200

    meson_freeciv_config.h.in: Don't claim to belong to autotools build
    
    See hrm Bug #908841
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a98563c5957075f6fc17f9b62e61b0d0d190f3f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 01:25:54 2021 +0200

    sdl2: Improve repodlgs.c coding style
    
    Some renames affect also other source files.
    
    See hrm Feature #911729
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3466068fa50dae88540e0607d4948988f9878168
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 23:16:16 2021 +0200

    Bump version number to 3.0.93.1-dev
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a22273e65e79ee233e5b701b072898c6cc49e1ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 23:01:41 2021 +0200

    Make ~/config/settings/freeciv the storage directory under Haiku
    
    Requested by Begasus
    
    See hrm Feature #911958
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 183b871c32a77435cca478567aa161d4204b8760
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 16:45:36 2021 +0200

    Qt: Popdown gotodlg when leaving the game
    
    Also fixes a crash when quitting the client, and gotodlg has been
    opened.
    
    Crash reported by John Robertson
    
    See hrm Bug #911885
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec5ab3f557e5bb5cc4fab09c7f5785a704279d3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 01:02:22 2021 +0200

    configure.ac Fix Windows compilation detection for gtk4 modpack installer
    
    See hrm Bug #911974
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1ca2e610cd257ec4d666b342283cd85fe83e41e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 31 16:13:12 2020 +0200

    sdl2: Improve plrdlg.c coding style
    
    See hrm Feature #911637
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5698cf211f017c7d3e0c086bc47bea46259ecd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 15:24:33 2020 +0200

    meson-winbuild.sh: Disable nls
    
    See hrm Feature #908863
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d851e0a444b0ba2e17c5c91e8c888d0963fb3aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 28 14:23:44 2020 +0200

    Rename modified sdl2.m4 as fc-sdl2.m4
    
    See hrm Feature #851202
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff2462fa627cb48cf8ee34d0736381065c941fb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 06:07:04 2020 +0200

    Fix selecting music track after lua play_music() track has played
    
    Reported by Jacob Nevins
    
    See hrm Bug #683570
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d55e3a1c0a0f82569e3274fb6f2779b1a020185c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 05:06:08 2020 +0200

    sdl2: Improve messagewin.c coding style
    
    See hrm Feature #911180
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 604eb362e642ac7020b1d30f84c1c6d8ad14897a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 31 16:29:14 2020 +0200

    Introduce new compat_load_dev() block for the version 3.0.93
    
    See hrm Feature #911639
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdf96a7ff57e4e837813cca68975c449725a2a51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 14:41:38 2021 +0200

    Qt: mr_menu::*(): Rename menu_list as menus
    
    mr_menu class has several member functions with a variable
    called menu_list. Those shadow data member of the class.
    Rename them to 'menus' to avoid the shadow warnings.
    
    See hrm Bug #900975
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9e85534e1cd5cb9c3fed9eef314a13c5c4f11b9
Author: John Robertson <jro.johnro@gmail.com>
Date:   Sat Dec 19 19:30:28 2020 -0700

    Qt: Confirm before distruptive selection
    
    See hrm Feature #907806

commit 9d3b03963eeb15fa95c7af065b34b3b77b333f43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 29 05:02:16 2020 +0200

    sdl2: Improve menu.c coding style
    
    See hrm Feature #910846
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a4fc6d50b7a3cd847441d2b2be2cef44865abdd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 20:50:36 2021 +0200

    AI: Use considered unit's attack count in city bashing consideration
    
    Virtual unit under consideration was assumed to always deliver one
    attack against enemy city. Use its real move rate instead. For example
    units of move rate 2 can both attack and conquer at the same turn.
    
    See hrm Bug #872218
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 463d99c265fc23152db0af2350cfd34cb1df0eab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 14:50:17 2021 +0200

    sdl2: Fix compiler errors when SMALL_SCREEN enabled
    
    See hrm Feature #899569
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d944b5fdd294f1e7c5d923d445d9c878e6e21014
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Sun Jul 12 00:17:37 2020 +0300

    Fix city_landlocked_sell_coastal_improvements() for Aqueducts and Harbors
    
    Aqueducts used to get sold on terrain change among with coastal improvements since the
    actual city tile was not passed to is_req_active. Also add check for TerrainFlag reqs,
    used by Harbors from 2.6, so that they do get sold.
    
    See hrm Bug #880455

commit ae0cda01b29bf52d96df459a25a79a46e4806a31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 28 05:37:37 2020 +0200

    sdl2: Improve mapview.c coding style
    
    See hrm Feature #910530
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e355db22740839b9048a4e6648965a71a7651442
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 28 13:06:07 2020 +0200

    Fix selection of next music track after single-alternative track
    
    Saving correct music tags and setting up the callback was erroneously
    inside a code block that handles alternative tracks for the given tag.
    It was not executed when there is no alternatives for the track.
    Move the code outside that block so it's executed always.
    
    See hrm Bug #910605
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58e6b1a8409607420f253c9a628aaa3eeccc94cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 14:36:44 2021 +0200

    Inline is_city_center()
    
    Some arrangements for includes was needed as headers depend on each other.
    
    See hrm Feature #905143
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b6baa8d5c4c65d06ce3200eb6261dbab7da3648
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 09:05:14 2021 +0200

    Bump version number to 3.0.93-dev for year 2021
    
    See hrm Feature #910554
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a58d84533a8875f6e98f0ebe6b2b93d3eaa14d49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 27 04:49:55 2020 +0200

    sdl2: Improve mapctrl.c coding style
    
    See hrm Feature #910251
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b24adcae463e4c646c804b82a1f7610008288d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 05:55:47 2020 +0200

    Revert hrm #905818 to fix stopping music
    
    What was thought to be fix for Bug #905818 has actully been
    breaking stopping of music. Revert that fix.
    Actual root-cause of Bug #905818 was Bug #910605, which will
    be fixed in a separate commit.
    
    See hrm Bug #910919
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0131720e1c882567735e66073507ac50db1a3963
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 31 13:09:56 2020 +0200

    Update Polish translation by Hubert Kowalewski
    
    msgmerged from S3_0 b79b7d1d8b
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc6e7b77355d0e9cff2483c7caa9ba571becde22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 20 03:45:05 2020 +0200

    Fix buffer overflow in reading score log file
    
    Reported by louis94
    
    See hrm Bug #907791
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5583ab70fa02d16c43f89c591904069813b11563
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 31 07:37:08 2020 +0200

    Update Spanish translation by Jordi Negrevernis i Font.
    
    msgmerged from S2_6 fa280f545a
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfef00afcad597338cd1e2493874683618c3f879
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 26 07:06:27 2020 +0200

    sdl2: Improve helpdlg.c coding style
    
    Some variable renames affect also other source files.
    
    See hrm Feature #909797
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2eb65191cab0ad87449393005428acc52b22fbc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 29 03:47:51 2020 +0200

    gtk: Fix crash on receiving chat with link tags
    
    We did g_object_unref() ourselves to a tag we had created with
    gtk_text_buffer_create_tag(). Its documentation says:
    "The returned tag is owned by the buffer's tag table"
    
    Reported by louis94
    
    See hrm Bug #910832
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9780ca55a89eca92b3ad20935a6282f597f26441
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 16:05:07 2020 +0200

    Update Spanish translation by Jordi Negrevernis i Font.
    
    msgmerged from S2_6 4cc9a34d67
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6749fb2ce2fab627a4c3e37502ad58e23c2d44d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 15:02:23 2020 +0200

    m4/.gitignore: Remove x.m4
    
    The file no longer exist.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc917b084ed8c963d61074468ee6d10250793113
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 06:45:11 2020 +0200

    tools/fcmp/.gitignore: Add gtk4 modpack installer files
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31ab7c7518c404c17eea1df02de34473b079129a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 25 12:48:14 2020 +0200

    sdl2: Improve gui_tilespec.c coding style
    
    See hrm Feature #909610
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 056f282d84998391b2f56dccfbaeded7867486e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 19:25:04 2020 +0200

    Add minimum_turns property for multipliers
    
    It tells how often multiplier can be changed.
    
    See hrm Feature #908582
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0ee24f6eadd318415087d396996e2e3ba31de80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 29 05:15:33 2020 +0200

    sdl2: Drop unistring.[ch]
    
    See hrm Feature #901118
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c3b4f2a7bf29bbde28bd4cd4f8ff129e3b45000
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 14:47:10 2020 +0200

    Meson: Add nls support
    
    See hrm Feature #908818
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0dd9df4767c2e684a46daafc251fda55323c73b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 24 04:57:12 2020 +0200

    sdl2: Improve gui_mouse.c and gui_string.c coding style
    
    See hrm Feature #909028
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54e2a5f62c1cfb7c0fa45a0072c2c5dc749767bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 15:36:42 2020 +0200

    Add .desktop and appdata files for gtk4 modpack installer
    
    See hrm Feature #908486
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95d20bad56b80fd27548d2e9487c6f6a7c495f6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 19 12:36:43 2020 +0200

    Granularity: Add Fishing
    
    Tech Fishing is needed for cities to be able to work Oceanic tiles.
    
    See hrm Feature #907604
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bf38119eda38e8c05a97e06f67dd3a0d69e0cf8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 16:51:44 2020 +0200

    sdl2: Rename i[A-Z]* to adhere coding style
    
    See hrm Feature #908883
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d978370996c4ed27da3b09f33f20e927e28b5d0
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sun Dec 27 20:00:34 2020 +0100

    Updated French translations

commit bc6f0cd6a86a5ec16fd8fb648d630f54f8bb8cfb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 27 15:02:24 2020 +0200

    meson-winbuild.sh: Do ninja install step
    
    See hrm Feature #905637
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a046523fbe0560d681c615c4f39d54bc2e000ca8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 16:29:22 2020 +0200

    Qt: Pass QEnterEvent* as parameter to QWidget::enterEvent()
    
    See hrm Feature #893359
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 125ac4ef1d373affba38a6a2d139e1060b8a0c6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 06:42:53 2020 +0200

    sdl2: Improve gui_main.c coding style
    
    See hrm Feature #908732
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5456c9b2359969d3f2c8c334263fbf0c74738abb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 15:16:21 2020 +0200

    Update gtk3x modpack installer to gtk4 modpack installer
    
    Make it to use final gtk-4 and rename.
    
    See hrm Feature #908451
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5912beae3d81e66cb2d27b0813795007848ed45b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 18:22:16 2020 +0200

    sdl2: Update sdl_create_server_list() function header
    
    See hrm Bug #908900
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c2425945e5d7ff6be950287046eeb0b91139b22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 05:52:21 2020 +0200

    sdl2: Improve graphics.c coding style
    
    Some variable renames affect also other source files.
    
    See hrm Feature #908410
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1949471efaaadf7f85b21d69b7b93ce540d469f3
Author: John Robertson <jro.johnro@gmail.com>
Date:   Tue Dec 22 10:34:59 2020 -0700

    Qt: Update gotodlg when unit selection changes
    
    See hrm Feature #908664

commit c5edb2bead41bf29c69f7127e2174d1ad70821d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 17 06:19:11 2020 +0200

    Meson: Disable nonnull-compare warnings
    
    See hrm Feature #853693
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4002acaf1e55f85dc417cf3b99b2b6cbccf52de7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 18:49:31 2020 +0200

    Rulesave: Save multiplier offset and factor
    
    See hrm Bug #908577
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f093c65e44f91dec98786eb036e4b2973d329c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 21 06:26:12 2020 +0200

    sdl2: Improve gotodlg.c coding style
    
    Some renames affect also other source files.
    
    See hrm Feature #908095
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e9e768f4d8d5d8972ddcdb43d846905079e1617
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 21 23:18:45 2020 +0200

    Support MagickWand-7
    
    See hrm Bug #905573
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 612e7555c7bcf04f300dc20473a63d6a4484c635
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Sun Dec 20 18:58:23 2020 +0200

    Update city info to owner when foreign caravan helps build wonder.
    
    See hrm Bug #907977

commit 62b6c3423bb2ae5efbe3e18e145fc76e7ac292ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 19 07:44:49 2020 +0200

    sdl2: Improve diplodlg.c coding style
    
    Some variable renames affect also other source files.
    
    See hrm Feature #907546
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18d48dd97d0df7c02fbc6f22bb524e672fc78a74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 17 05:42:11 2020 +0200

    Meson: Set QT_DISABLE_DEPRECATED_BEFORE
    
    See hrm Feature #906910
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65f1819dab2784558e6aa18e45e220435065425f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 14:49:23 2020 +0200

    Drop long gone ./ser and ./civ from root .gitignore
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b50a5b0bc6650d4c03992aa1fa71643c26fb5ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 16 00:08:26 2020 +0200

    Increase max number of alternative music tracks to 25
    
    Requested by jwrober
    
    See hrm Feature #905821
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 526e2804e5c0e6f2eb17668373a77fdebf76d1b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 18 05:20:09 2020 +0200

    sdl2: Improve dialogs.c coding style
    
    Some variable renames affect also other source files.
    
    See hrm Feature #907185
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fa1022d9cefe42952a7d22433103a38e1ada6ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 21:03:49 2020 +0200

    Record turn multiplier was changed
    
    See hrm Feature #905098
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ba761b88469c955abc9d462040a7fc74ba12297
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 20:27:58 2020 +0200

    gtk3x: Replace gdk_event_get_coords() calls with gdk_event_get_position()
    
    See hrm Feature #903161
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 119632b7b0ac3d4e7684ceff4fc6ae50b3a49559
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 20:08:58 2020 +0200

    Granularity: Add README.granularity
    
    See hrm Feature #905081
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc226a38b9f61b62c05c60f1ba9cdd272cfa9e32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 17 01:06:02 2020 +0200

    sdl2: Improve connectdlg.c coding style
    
    Some variable renames affect also other source files.
    
    See hrm Feature #906863
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54f08f41f12929dbf84b6936ed17e58d91006c91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 17:28:20 2020 +0200

    Meson: Install Qt-client order icons
    
    See hrm Feature #905391
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd4295d091fe55409779b966ebea5e15e1aef3e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 21 15:32:26 2020 +0200

    Ruledit: Add new meta (moc) files to .gitignore
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49698afd61ff8c33b21dc042c1bb365518b31278
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 18:13:42 2020 +0200

    Qt: Add --shortcutreset command line parameter
    
    Gui specific command line parameter can be used to force
    default shortcuts to use. Like usually, those then get saved when
    the client exits.
    
    See hrm Feature #905784
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e8ef861b74bebf66b71ce84785ab8eff911a5ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 15 23:02:14 2020 +0200

    sdl2: Improve cma_fe.c coding style
    
    Some variable renames affect also other source files.
    
    See hrm Feature #906509
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a8ac746c9b06966102881fa4d0a4c1f883bcc92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 20:35:53 2020 +0200

    Pass player parameter for utype_build_shield_cost()
    
    get_unittype_bonus() asserts that there's a non-NULL player
    passed to it. If there's NULL city passed to utype_build_shield_cost(),
    it can't get city owner to pass to get_unittype_bonus().
    New player parameter is added for utype_build_shield_cost(), so it
    have a player even if city is NULL. There's still fallback to city
    owner if player is NULL and city is not.
    
    See hrm Bug #905411
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb9d5a5d73f08385016ed77e62b9c8e06e299ff7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 21:24:26 2020 +0200

    gtk3x: Replace gdk_event_get_button() calls with gdk_button_event_get_button()
    
    See hrm Feature #903155
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2a800d0e59f84a4cafb3f9fb2fad2b7be4250b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 14 03:47:59 2020 +0200

    sdl2: Rename pMotion* to adhere coding style
    
    See hrm Feature #905884
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba3bbde2326d07caca2bd142cdc2bd2e25df82f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 17:25:10 2020 +0200

    Meson: Install all Qt-client themes
    
    See hrm Feature #897836
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02f708051d0ffff7759e5cbeb53bf22d1900e988
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 19 16:28:18 2020 +0200

    Update .gitignores to .desktop file name changes
    
    Reported by Alain Baeckeroot
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa7b5506d3cea56c4fb5102dbcdbebaa9989ce45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 19:54:59 2020 +0200

    Granularity: Give trade bonus for city center tile
    
    City center gets +25 trade, +100 on cities of size 8 or bigger.
    
    See hrm Feature #905076
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4594dd2cfa918bd7a6d1a76113f40214700f03d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 16:48:24 2020 +0200

    Update included lua to version 5.4.2
    
    See hrm Feature #905343
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ebf3d49994dfded5557afcc9d72eb566ea4521a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 06:32:03 2020 +0200

    sdl2: Improve cityrep.c coding style
    
    See hrm Feature #905719
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 425f3178551268c466408177680234228033a529
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 23:05:57 2020 +0200

    Drop "Infra" user unit type flag
    
    We never took "Infra" flag to use the way it was planned.
    Drop it completely, both from supplied rulesets and from
    the ruleset update code.
    
    See hrm Feature #904738
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6056d3a565fbc28dcdcda4d5536c6d6b48e0f2ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 20:48:43 2020 +0200

    Wrap multiplier value and target to a new multiplier_value struct
    
    See hrm Feature #905090
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c78c4e1771a0f4983e2127ad589f5ea413e9cdef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 18 04:42:49 2020 +0200

    Comment typofix: "stoped" -> "stopped"
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b58342d8d797009847cb4470eb9630f465e3769
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 14:14:21 2020 +0200

    sdl2: Improve citydlg.c coding style
    
    Some variable renames affect also other source files.
    
    See hrm Feature #905330
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6de234c66bfcbd8270853963c91f21bc6454edc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 21:36:26 2020 +0200

    Lua: Add city:is_primary_capital()
    
    See hrm Feature #904702
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a47a6b965386ec8fe847696e7f54e0a8e1cfa771
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 06:08:03 2020 +0200

    Increase CM_MAX_LOOP to 27500
    
    See hrm Feature #905717
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9d4a4dd054d5320bc1afa44b913fd7e3c82a66b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 21:36:45 2020 +0200

    Fix continuing to a new music track when previous one ends
    
    audio_stop_usage() was flagging music ending callback to not to
    select a new track. That's not necessary as the callback is not
    called at all in that case. Instead the flag remained until
    callback's next call, causing it not to continue to new track
    at that point.
    
    Reported by jwrober
    
    See hrm Bug #905818
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e6b6448d3f36896ef4500343740c39f6cee982f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 21:26:28 2020 +0200

    sdl2: Rename p*Name* to adhere coding style
    
    See hrm Feature #905105
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01d6951f199151e9cb239a4d0dfcc40e4f2f7c6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 17 01:34:02 2020 +0200

    Qt: plrdlg.cpp comment typofixes
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58452952060a29384ad3e74851344a4d9e6e2241
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 7 22:56:38 2020 +0200

    gtk3x: Replace gdk_event_get_state() calls with gdk_event_get_modifier_state()
    
    See hrm Feature #903154
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cea65728ff74b88ad989d4897c0110b4c44c684
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 12 04:14:21 2020 +0200

    traderoutes.h: Document enums as part of network protocol
    
    See hrm Feature #905523
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e914d408fd7834764c9051ccadba524b6fd9ca8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 12 02:31:41 2020 +0200

    Update msys2 environment to 201212 level
    
    See hrm Feature #896715
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb236c09091a1dff2c5e193f63f6241f2dc9cfeb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 23:33:57 2020 +0200

    sdl2: Rename p*List to adhere coding style
    
    See hrm Feature #904745
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec5db5057b4e33dd446a8b397a43fff3cc51c869
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 22:07:47 2020 +0200

    Granularity: Rename Generic Ship as Boats
    
    See hrm Feature #903190
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13736bfc92f4e5970e964252a593f95e047c14ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 14 01:34:59 2020 +0200

    audio.c: Rename variable 'keepstyle' as 'keep_old_style'
    
    This should make it clearer that it's not about introducing
    persistent style, but about not touching existing style.
    
    See hrm Feature #905828
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a9d2053b5446315327112f95c45bbea26b9dd35
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 15 11:20:50 2020 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f195b866d376fd13b3cfec6a33a39acf44ce8e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 12 15:31:42 2020 +0200

    Ruledit: Add virtual destructor for req_vec_fix_item
    
    See hrm Bug #905636
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6ea58b2cfe1123e5a8a098035d562565f1636c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 16:38:28 2020 +0200

    sdl2: Rename struct city_icon members to adhere coding style
    
    Unused members are not renamed to make it easier to detect, and
    possibly remove, them later
    
    See hrm Feature #904649
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b930aeecd6f443c2fb0eb633a28a4545df3e3a1c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 5 13:50:43 2020 +0200

    Use untranslated unit name in a debug log message
    
    sell_random_unit() was placing translated unit name to an otherwise
    untranslated debug log message.
    
    See hrm Bug #903432
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4bc9975e08354acf57bddd923cfe2daccb0b51d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 07:23:30 2020 +0200

    Meson: Add support for ruledit build
    
    See hrm Feature #902120
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2334ade9af4b65dff05586fdd7f52026446d8fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 14 08:25:36 2020 +0200

    POTFILES.in: Add traderoutes.h
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7704909dad9203676a52d81f6753f00f632b7ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 8 14:02:08 2020 +0200

    fcgui: Respect @EXEEXT@ on name of executable chosen with --gui
    
    See hrm Bug #904301
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39d1a1c04957477f87f6f88b16a011fcbde5e20d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 7 21:06:59 2020 +0200

    sdl2: Rename struct Theme and members to adhere coding style
    
    See hrm Feature #904053
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 473c24559d6e76a6aec95fc1bd995756cf209184
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 12:52:08 2020 +0200

    Make city_tile() a macro
    
    See hrm Feature #905312
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d157a115a8d821c27a421c891e79d1f5d088ea0a
Author: John Robertson <jro.johnro@gmail.com>
Date:   Sun Dec 6 00:25:13 2020 -0700

    Qt: Fix city-list menu for View/Center/Buy
    
    See hrm Bug #903672

commit 4f72b951b220fbdac7c63fef826cafe0c9a1a470
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 23:45:18 2020 +0200

    Introduce CM_LOOP_NO_LIMIT
    
    The macro, disabled by default, makes cm iteration always to run
    until it finds a solution, and to log how many iterations it took
    if going over the usual max iterations.
    
    See hrm Feature #905132
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 120a59cca85407342586b1d821643368da30eda8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 15:49:04 2020 +0200

    Share intelligence from embassy to team members
    
    Add function team_has_embassy(). Use it instead of player_has_embassy()
    where the question is about getting intelligence information.
    
    Requested by Alexandro Ignatiev
    
    See hrm Feature #878898
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d8ba31294c2ae7f34315e84dc0a1a910c4b275c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 06:08:37 2020 +0200

    sdl2: Improve chatline.c coding style
    
    Rename variables to adhere with the coding style.
    Some minor other changes.
    
    See hrm Feature #903600
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4a7a5b122e086c1d94face055ce0c4bff7b6e28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 09:04:39 2020 +0200

    Qt: Save shortcuts for different versions of freeciv separately
    
    As shortcut ids change between versions, the shortcut storage
    gets incompatible between them. This made shortcuts saved in older
    branches to break master, and vice versa.
    
    Reported by Chippo Elder
    
    See hrm Bug #856551
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 393e90dad8491bb2ccd513a5022906a3a53e5839
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 12:41:37 2020 +0200

    meson-winbuild.sh: Disable audio support
    
    See hrm Feature #901854
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2f73cd12bf159c2e9207a60ef71074c6d4b95c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 22:06:14 2020 +0200

    Drop unused threadid variable from Windows version of fc_init_console()
    
    See hrm Feature #904719
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 582972ab47cf278cf0c3a8c5176e97c6806a939f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 5 14:43:37 2020 +0200

    sdl2: Rename pTmp* to adhere with coding style
    
    See hrm Feature #903449
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 182de97be35eeb7850f99bc51070b78e251635fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 03:27:38 2020 +0200

    Sandbox: Add Chichen Itza wonder
    
    It demonstrates Popcost_Free effect by removing population
    cost of units built in its city.
    
    See hrm Feature #900032
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d82b1027da7329d96e76919d4d5495b8c6580fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 18:55:25 2020 +0200

    gtk3x: Replace gdk_event_get_keyval() calls with gdk_key_event_get_keyval()
    
    See hrm Feature #903153
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5a4dd7859ca7a22c22e82f1067dbab93dd7f42e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 08:08:07 2020 +0200

    AI: Support scenario AI type fallback from tex to classic
    
    If scenario has tex AIs and allow_ai_type_fallback set, fallback
    to classic AI when tex is not available.
    
    See hrm Feature #903631
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e30450319019fd839cf3e2d57fa3571df3145f79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 21:39:19 2020 +0200

    sdl2: Rename p*Dialog to adhere coding style
    
    See hrm Feature #903177
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16b26376b6397b534c3dd6f8e79296a292fbdf3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 04:36:08 2020 +0200

    Granularity: Call default government type "Tribal"
    
    Replace government type name "Generic" by "Tribal"
    
    See hrm Feature #900044
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77a8a13ba9c5f876d9fdd65de59fb88a7859a37b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 12:37:26 2020 +0200

    Meson: Make audio support optional
    
    See hrm Feature #901853
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0090b79096b27ded237ef7af0ade681f91b01fa7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 8 11:49:22 2020 +0200

    AI: Fix unnecessary production changes for away player
    
    Reported by Frelhelm
    
    See hrm Bug #904268
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac6ab41d8e73765ebdbe84c12fb20082dbf58ca0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 03:06:04 2020 +0200

    sdl2: Rename p*Label to adhere coding style
    
    See hrm Feature #902769
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aecb9b7bfc1c7e6dd1458975b8d14ed0a0dc5a31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 5 20:08:12 2020 +0200

    CI: Drop confused '-j$(nproc)' from msys2 installer build
    
    It's the recursive execution of make to compile freeciv as part of
    constructing the installer package where the concurrency needs to
    take place - and by default it does. There is no point to run
    toplevel make with '-j' argument.
    
    See hrm Feature #903504
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39348ec997dd562aab37d70fd63085e57dd2ce20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 03:10:52 2020 +0200

    Add Popcost_Free effect type
    
    See hrm Feature #659540
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c735c219bf94d47b0a36be16dfffaad8f6f116a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 18:15:02 2020 +0200

    Avoid client crash if workertask requiring target does not have one
    
    Server should not send such tasks, but make client robust against
    broken or modified server that does.
    
    Reported by Alexandro Ignatiev
    
    See hrm Bug #885482
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee4a95c2b1652a59a148bff29c26fd5f14530073
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 02:19:20 2020 +0200

    sdl2: Rename pI* to adhere with coding style
    
    Most of those are icons related variables, but there are a couple
    of other variables handled as well.
    
    See hrm Feature #902758
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b4be5af3451b956786e4c7a1020d19dce2246d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 18:36:49 2020 +0200

    gtk3x: Make gtkcompat.c to include gtkcompat.h
    
    Introduce GTKCOMPAT_ITSELF macro for the gtkcompat.h to
    differentiate between gtkcompat.c itself and its users
    as the source file including it.
    
    See hrm Feature #903761
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b90b397f0c8dc8d57f7a11ec81571c0164d0e9f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 03:28:56 2020 +0200

    README.sandbox: Fix a typo "Staring" -> "Starting"
    
    See hrm Bug #900029
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a58eea4bf0fcf075241965ba720a5dcfbcdd0dc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 16:57:59 2020 +0200

    Qt: Clean citydlg.h includes
    
    - Reorder them to correct grouping
    - Drop unneeded Qt includes
    
    See hrm Feature #902626
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef1049b08a58506186e565f2c3cb0b8d44989371
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 06:43:45 2020 +0200

    sdl2: Rename p*Button to adhere with coding style
    
    See hrm Feature #902483
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 972845081c762b19cb399c94cecc235395a72bef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 23:18:51 2020 +0200

    Meson: Install INSTALL.Cygwin
    
    See hrm Feature #902409
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e539d54a92023bd045ad6ae304fd597efde832bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 21:03:40 2020 +0200

    gtk3x: Drop parameter from gtk_window_new() calls
    
    See hrm Feature #892350
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cc170431f672a67d40cc0eabd1f345d8d45a9d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 00:55:10 2020 +0200

    Ruledit: Correctly translate translatable strings with R__()
    
    See hrm Bug #902423
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c331bddf53e7372c2967ce2862f3c3c94c8b420
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 06:29:38 2020 +0200

    sdl2: Rename widget.ID as widget.id
    
    See hrm Feature #902103
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 163701d3d053aa6b70609b1bf38f3f756975da1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 19:56:00 2020 +0200

    Select gtk3.22-client for --enable-client=gtk
    
    See hrm Feature #902365
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73e6311250ab1f9269726919c43119a50f66e0b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 21:01:56 2020 +0200

    gtk3x: Introduce gtkcompat.[ch] module
    
    It will provide compatibility stuff between gtk version we're
    moving away from and the version we are moving to.
    
    See hrm Feature #903167
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f7c41869e53b628a38a757a3bd128d55dcbf82f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 11:18:55 2020 +0200

    Update Finnish translation of the ruledit domain
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9cbc16e22d4bb8628d8aeb072750a4d163cfc02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 20 06:08:40 2020 +0200

    Granularity: Add River
    
    See hrm Feature #898827
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 271226642af2568568b3a81ac4a0c7b840128f96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 06:39:07 2020 +0200

    core/POTFILES.in: Add client/gui-qt/citydlg.h
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2456d0f34c9b90518ba3d1a24369600964a0b37a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 04:56:04 2020 +0200

    sdl2: Improve action_dialog.c coding style
    
    Rename variables to adhere with the coding style.
    Some renames (such as 'cBuf' -> 'cbuf') affect also other
    sdl2-client source files.
    Some minor other changes.
    
    See hrm Feature #901739
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95742e74b130faf5ce147a0bad64abb0437f1d6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 5 21:51:15 2020 +0200

    CI: Build Qt modpack installer with meson
    
    See hrm Feature #899233
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f6a0df57a4f2b0b6ef26786b9e89877c18d3b5a
Author: John Robertson <jrobertson@callware.com>
Date:   Tue Dec 1 12:32:43 2020 -0700

    Qt: Add city size to city info panel
    
    See hrm Feature #901393

commit 0d2572bb293c66f843e5d83497a2efeb77d7c540
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 10:49:05 2020 +0200

    Tell tileset name or filename in scan_specfile() error messages
    
    See hrm Feature #901829
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edefeb2dbc00d4d2582688f931b687e27c5191d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 05:37:54 2020 +0200

    Update mkstemp.m4 to serial 28
    
    See hrm Feature #899697
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73f05c93f813d31007c289441f8b341f9017302a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 29 04:45:48 2020 +0200

    sdl2: Rename p*Dlg to adhere with coding style
    
    See hrm Feature #901113
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 825eebd575702ba26daa0ba39352834941b5d42f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 2 10:14:31 2020 +0100

    sg_order_to_action() isn't used by savegame3.
    
    Move it to savegame2.
    
    See hrm Feature #902242

commit 5c89159627816000eeef9be24d8ba2264bf7ca54
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 3 09:16:31 2020 +0100

    Migrate from travis-ci.org to GitHub actions.
    
    It looks like travis-ci.org is going away. From
    https://docs.travis-ci.com/user/migrate/open-source-repository-migration/#frequently-asked-questions
    Q. What will happen to travis-ci.org after December 31st, 2020?
    A. Travis-ci.org will be switched to a read-only platform, allowing you to
    see your jobs build history from all repositories previously connected to
    travis-ci.org.
    
    Migrate the remaining CI jobs to GitHub actions.
    
    See hrm Task #902085

commit 4d6a6813142ea0558c14bae5ad861d0016a4ed58
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 3 08:59:46 2020 +0100

    README.md: display GitHub actions CI status too.
    
    Some of Freeciv's CI tests run on GitHub actions rather than on travis-ci.org
    
    See hrm Feature #902526

commit 791f6a950c02e0198656a858fb4eb69fb76f5023
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 17:32:20 2020 +0200

    README.modpack_installer: Fix typo "is is" -> "it is"
    
    See hrm Bug #899608
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35933ab308aa02cdbf355fcbf5c94f74b0277127
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 08:54:16 2020 +0200

    Meson: Add support for Qt modpack installer build
    
    See hrm Feature #899232
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b143e3c59725ca5f57a3d1ef0428c1a1eaef844
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 08:57:47 2020 +0200

    Bump version number to 3.0.92.3-dev
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a960c82d8b57bff9238e03f2e819abe120381a25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 09:25:09 2020 +0200

    msys2: Set -Werror on snapshot builds
    
    See hrm Feature #899340
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dfcdda74a18f948afda2ce5b318a4109d31776f
Author: JRo <jro@advops.com>
Date:   Sun Nov 29 18:03:16 2020 -0700

    Correct memory allocation size bug
    
    See hrm Bug #901366

commit 0d1b7ffbd49dbc0cae667b5f72b623119c6bbaca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 27 07:15:52 2020 +0200

    sdl2: Rename pStart*, pBegin*, and pEnd* to adhere coding style
    
    See hrm Feature #900477
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fd2b1d6efc646054e35e22656840e674dc888ce
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 2 08:29:04 2020 +0100

    CI: move the OS X build to GitHub Actions.
    
    It looks like travis-ci.org is going away. Even if we migrate the other
    builds to travis.com and hope the free OSS minutes covers our usage the Mac
    build should move somewhere else since OS X builds are more expensive on
    travis-ci.com according to
    https://blog.travis-ci.com/2020-11-02-travis-ci-new-billing
    
    See hrm Task #902234

commit e32d035e010319c03604ad03e5b520aff764cd32
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 2 06:12:14 2020 +0100

    Travis CI: simplify away sudo usage.
    
    Stop assuming that the user "travis" exits. This makes it easier to run
    travis-build.sh outside of travis-ci.org
    
    It looks like travis-ci.org is going away.
    
    See hrm Feature #902139

commit cc221d5fb8ee3861556b8bc1fc28a23a19a58a7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 15:50:15 2020 +0200

    Fix crash in req_vec_problem_new()
    
    Handle translated description correctly:
    - Fix second use of the variable argument list already consumed
      by moving it to va_start() .. va_end() iteration of its own
    - Use correct field size in fc_vsnprintf()
    - Actually translate the description with gettext
    
    See hrm Bug #901912
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ee20d9ce2c32ca8e8836d87ce50342de18d2157
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Sep 15 08:27:13 2020 +0200

    Validate city worker tasks.
    
    A corrupt worker task can cause corruption issues. Refuse to accept bad
    worker tasks sent over the network. Purge corrupt worker tasks that gets
    into a city via a bug or a savegame.
    
    Thanks to Marko Lindqvist for pointing out that sanitycheck.c only runs
    in debug builds.
    
    See hrm Feature #901938

commit fc6101ecfd9ee34e3d57230bf9c7679420f9fc4e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 31 23:07:24 2020 +0100

    Introduce the new action "Sentry Unit".
    
    There are good arguments against action enabler control over sentry. In the
    current rules it is just server side client state. A user interface detail,
    not a rule. The server will set it when a unit boards a transport to avoid
    the passenger getting focus while transported.  The client will end its
    "Return to Nearest City" order with it if the unit needs to heal. The server
    will unset it to bring the player's attention to events like a hostile unit
    moving too close, restored hit points and the unit being bounced.
    
    The new Activity requirement makes it possible to have rules depend on a
    unit's Sentry state. If I remember correctly other Civ variants have made
    rules depend on a unit's Sentry state. This, together with the fact that a
    Sentry action permits getting rid of activity orders in a follow up patch,
    makes me land on the side of making it an action.
    
    See hrm Feature #879674

commit c95677139605bd360d1c35af3e555dc2c92ffb81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Nov 30 12:34:26 2020 +0100

    Introduce action_by_activity_iterate
    
    Hard coding action ids for activities gets in the way of generic actions.
    
    See hrm Feature #901915

commit d3541d49d5ddc9e53b83af653602e3f67cc541f8
Author: Christoph Reiter <reiter.christoph@gmail.com>
Date:   Sat Aug 1 18:55:12 2020 +0200

    CI: Update to msys2/setup-msys2@v2
    
    See GitHub pull request #24
    See hrm Bug #901959

commit 3ba215388bffbc8628a8051b721421c4b9d1251d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 07:34:24 2020 +0200

    Comment typofixes for sdl2-client
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5eeafc6b0bbfea9d7125ba10c6f2f7eae1722778
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 04:44:08 2020 +0200

    sdl2: Rename pText* to adhere with coding style
    
    See hrm Feature #900047
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a74e99d63fbc7755e6722dd0bec5cbf71abd2ce3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 00:32:17 2020 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b82b025099ebb303e7747be5287f4e5eae4166c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 28 04:18:06 2020 +0200

    Use initials of d)epartures and a)rrivals in airlift capacity message
    
    They replace old initials of s)ource and d)estination. There's
    hoping that meaning of the new ones is a bit easier to figure out
    by end-user.
    
    Reported by Hubert Kowalewski
    
    See hrm Feature #899057
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74e5c47e261861fb5e1e2b47f7485817ea1b8c6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 03:34:06 2020 +0200

    Add gnulib-common.m4 to dependencies/m4
    
    New version of mkstemp.m4 will depend on GL_MDA_DEFINES
    from it.
    
    See hrm Feature #899674
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4369985ffdea746063a0d9fde5ad42488b2ade8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 22 12:00:03 2020 +0200

    Split ChangeLog
    
    Main ChangeLog contains changes since beginning of 3.1 development.
    ChangeLog-1.0-S3_0 contains changes up to S3_0 branching point.
    
    See hrm Feature #899243
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc69ae1e5e58eb2174f191e9f09bd86261e3d954
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 06:59:13 2020 +0200

    doc/man/.gitignore: Add freeciv-ruleup.6
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb188c81dce45466ae80826959a29e2828475155
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 04:16:07 2020 +0200

    sdl2: Rename pEdit and friends to adhere with coding style
    
    See hrm Feature #899680
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6104b9869056657934ae463545be0a6d2b2b1f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 03:56:46 2020 +0200

    Avoid returning too early in assert builds when inf_sanity_check() fails
    
    See hrm Bug #899339
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53a2d3334c42d6fc24c5d6a42d5199b9c36c0f78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 19:24:51 2020 +0200

    meson-winbuild.sh: Explicitly disable syslua
    
    See hrm Feature #898081
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ae99bf6a34a279b40d4b8def2938a5e16596f4a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 1 08:24:29 2020 +0100

    Comment grammar fix

commit d08c3f1561f4c68775cb9f3c6d6109b28882e95f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 12:17:24 2020 +0200

    sdl2: Rename p*_Button to adhere coding style
    
    See hrm Feature #899570
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de9d0291813e88666e42963daadeb0ebd2f476ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 16:48:11 2020 +0200

    data/graphics/README: Drop duplicate "are"
    
    See hrm Bug #899594
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bdd33015632ac3d5dcf4bddc0dea827a09a5c70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 30 16:07:08 2020 +0200

    Turn base flag "NoAggressive" to an extra flag
    
    As it was the last of the base flags, clean out all support
    for base flags.
    
    See hrm Feature #897492
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54ccd92025f7d8d03be53f38b7da205b6410183d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 21:48:32 2020 +0200

    mem.h: Update comment to say "exit(EXIT_FAILURE)" instead of "exit(1)"
    
    See hrm Feature #898117
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc242b373a7a5b432360e57f6c9db2e215ac3929
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 23 19:41:27 2020 +0200

    sdl2: Rename SDL_Client_Flags as sdl2_client_flags
    
    See hrm Feature #899322
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42006e2bd8fbc6ed62270b1e2c58a075e4049778
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 23 17:49:22 2020 +0200

    sdl2: Rename pCity as pcity
    
    See hrm Feature #899316
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2fe8f96dd650935cc47fae015883f8c98ea60f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 13:00:34 2020 +0200

    Meson: Install .serv files with rulesets
    
    See hrm Feature #899804
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7947660c96dda8d2b5ddaa917fa35c12371a7005
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 07:48:17 2020 +0200

    README.packaging: Remove mention of new minimum automake version
    
    Now also S3_0 requires automake-1.13, so the requirement is not new
    with freeciv-3.1
    
    See hrm Feature #899258
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24edd7058223a4c47b62954b99094703007b01a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 23 17:35:51 2020 +0200

    Tell topologies in question in map/tileset topo incompatibility error
    
    See hrm Feature #899315
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 143b968415fa1fd640b74877ddafc9f6b6bf4b19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 04:58:33 2020 +0200

    sdl2: Rename pBuf* as buf*
    
    See hrm Feature #899249
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a104b96190eba5f2816f5bdd22f92bbdb8eae205
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 02:08:31 2020 +0200

    Update stdlib_h.m4 to serial 51
    
    See hrm Feature #899659
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 620c19baa23dffb9c7047798251e9c3c327f20d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 27 12:18:06 2020 +0200

    Msgmerge Spanish translation from S2_6_2
    
    Merged from S2_6_2 1f6782b3d6
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 136760d89f7893380873bff94d719490e508b59b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 02:57:15 2020 +0200

    Qt: Improve plrdlg.cpp coding style
    
    See hrm Feature #899672
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5d3dc64f54add8e745dbf2fd49ac3c5c62f6d02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 22 10:17:57 2020 +0200

    sdl2: Rename p*Window to adhere coding style
    
    See hrm Feature #899241
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc6da371a88bd3ed2513e3e2da6ea7b3496db635
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 19 06:54:03 2020 +0200

    Update diff_ignore
    
    - Drop duplicate fcruledit
    - Add freeciv-gtk3.22
    - Add distribution packages compressed with zip or xz
    
    See hrm Feature #898550
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8463175f9a708b7e51b7042cd6edde57d1604318
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Nov 26 14:57:58 2020 +0100

    * Updated French translations for trunk, 3.0 & 2.6*
    * Updated INSTALL.fr for trunk (only)

commit a9e7bd6b3a586c5fcfb927d7bff260224c004bfb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 02:14:51 2020 +0200

    Granularity: Add Plains
    
    See hrm Feature #897817
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3a8b65c0101222881ffbc664e98ac3d0e8e5f55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 21 19:14:43 2020 +0200

    sdl2: Rename pScroll and related variables and structures
    
    Make their naming to adhere coding style.
    
    See hrm Feature #899229
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aeaa23357d3e9235929291ce5aa2d3424d351085
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 23 01:46:57 2020 +0200

    Drop ACLOCAL_AMFLAGS
    
    Bump minimum automake requirement to 1.13, starting from which
    aclocal can scan m4 directories from AC_CONFIG_MACRO_DIR and
    AC_CONFIG_MACRO_DIRS macros. Drop thus obsoleted ACLOCAL_AMFLAGS usage.
    This prepares us for future versions of automake that drop support
    for ACLOCAL_AMFLAGS
    
    See hrm Feature #899258
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a73cc6c26a1280130eca3d7da2e7e43a24bcaf04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 04:44:38 2020 +0200

    Travis CI: Build Qt-client with meson
    
    See hrm Feature #897842
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b673bbc1fa82333b76fb10b196886290d1bc6756
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 05:05:59 2020 +0200

    Comment typofix: Drop duplicate "are"
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b2d42b933dd81aa72677eddf62703bea217c33e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 20 16:33:15 2020 +0200

    sdl2: Rename pButton as button
    
    Do also some other related renames.
    
    See hrm Feature #898995
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edaf5970dfad2a0b347b5bc1e30a0853ef6f8601
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 22 10:32:09 2020 +0200

    sandbox: Make Ecclesiastical Palace secondary capital
    
    It was already documented as one.
    
    See hrm Feature #899242
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba625298abb38fb4ef254d8344c7a901df105561
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 21:04:59 2020 +0200

    settings.c: Add TRANS comment about "Classic Freeciv" values
    
    See hrm Feature #897732
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6ebd091f6d2bb962a868e4657f95a5c4343f1f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 06:06:32 2020 +0200

    Replace '0' by 'FALSE' as boolean in read_a_line() function header
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ea11c621c1221b5e7efcd90d17d7467e7dbd75d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 19 16:46:34 2020 +0200

    sdl2: Rename pOwner as owner
    
    See hrm Feature #898696
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b17c0672025ef98338c67657e3e525b901c722a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 14 09:48:42 2020 +0200

    Use nanosleep() instead of usleep() when possible
    
    usleep() is deprecated.
    
    See hrm Bug #896807
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7f81feeafe29f30e32b30e61541c88f84e9adbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 21:39:34 2020 +0200

    Improve mem.c coding style
    
    See hrm Feature #898114
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 054e457da3a8d14cc58880d33291c7a0fa67207e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 05:41:04 2020 +0200

    Rename aisettler.[ch] as daisettler.[ch]
    
    See hrm Feature #897851
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3868f3ce85ba4bdb1615cb628dc44cb84771844
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 22:38:32 2020 +0200

    sdl2: Rename pUnit* to adhere coding style standards
    
    See hrm Feature #898126
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9056dce7b5a711aa2d7d0aeeca370b1b21118ce3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 19 02:04:16 2020 +0200

    Add TRANS: comment for deprecation warning against numeric log levels
    
    See hrm Feature #898474
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2c217348df3c4521c155399d0fc501baa845ddb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 04:04:37 2020 +0200

    Meson: Add support for building Qt-client
    
    See hrm Feature #897835
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5526b95f0e470917790f36d9d592b4657b63c34
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 05:29:32 2020 +0200

    README.msys2: Correct default number of build jobs
    
    It's the same as number of processor cores. Document was outdated
    and claimed hardcoded 2.
    
    See hrm Bug #897485
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a2c65ee03397d814f03c815f957fb8ce259da9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 06:20:51 2020 +0200

    sdl2: Rename p*ActiveWidgetList
    
    Make their names to adhere to coding style standards.
    
    See hrm Feature #897860
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb019993da5cd31346c490b0c9dba0edbbe8e974
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 16:34:15 2020 +0200

    Qt: Use QApplication->primaryScreen() instead of QGuiApplication::screens()[0]
    
    Do not assume they are the same thing. We want former.
    
    See hrm Feature #897971
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9017fe1c4400233ce1d368af15cc09afbc8aba6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 16:12:23 2020 +0200

    Meson: Do not redefine _GNU_SOURCE
    
    See hrm Feature #898030
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65ee24f2737b6b7a5bd9c49bbe21d64014081a00
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 02:41:56 2020 +0200

    winbuild.sh: Set default for MAKE_PARAMS if none given
    
    Build with "-j6' by default.
    
    See hrm Feature #896062
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87e29a02646f70ecbe3bd2a1122b398b6c837d93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 21:51:54 2020 +0200

    sdl2: Rename pDock, pStore, pHelpDlg
    
    Make their naming to adhere to coding style.
    
    See hrm Feature #897759
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c0535e64cc1c66213bf1bc2a864af2f6ed84537
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 04:50:18 2020 +0200

    Distribute scripts/replace
    
    See hrm Feature #896096
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 343f85e4b7629ee3c521e397b7e6fdb8a8a0ce0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 05:57:12 2020 +0200

    Metaknowledge: Consider VUT_ROADFLAG a tile targeted requirement
    
    See hrm Bug #897490
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 134ac12909b940d2dd2c3c0302e842ff6fad0f4e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 13 15:15:39 2020 +0200

    Travis CI: Build sdl2-client with meson
    
    See hrm Feature #896569
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 924bb1ba0688044ec4a32157a570b81a4eafa626
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 08:16:11 2020 +0200

    sdl2: Rename pTech as ptech
    
    See hrm Feature #897523
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18fc63d82ce226e5a49f3c08d0c43b2844ada541
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 20:30:14 2020 +0200

    Sandbox: Fix msgstr of Hermit's nest messages
    
    See hrm Bug #897725
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8a8b083cfe1bdd0b9cfe52cfbc48d5cbc4b9e8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 18:14:18 2020 +0200

    Granularity: Add Workers unit
    
    It can Cultivate and Plant.
    
    See hrm Feature #894991
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6209390cf43ff7dad65017e2f3397c305f70298
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 19 00:16:14 2020 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98f98ee7a36bf5a7795b870bf5a83a7a95fbad2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 14 02:18:01 2020 +0200

    sdl2: Rename pSurf as surf
    
    Do also other related renames
    
    See hrm Feature #896725
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7caa4cad4b8a50b1c61c68e8f84017145ccf30d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 09:23:45 2020 +0200

    Set BUG_URL to point to freeciv-dev mailing list
    
    See hrm Feature #894573
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28ce3b30edf23006a3a57cd712c6bd45e93d9199
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 21:21:06 2020 +0200

    Remove no longer true comment about mem.c sanity_check_size()
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49229726007f168fc68d34d537e0bbe2203c723d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 04:36:07 2020 +0200

    Meson: Add support for building sdl2-client
    
    See hrm Feature #896091
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc22720d4572026a13d70ed75af878e53710a37b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 13 13:21:00 2020 +0200

    sdl2: Rename small_dialog members to lower case
    
    Also members of other structures by same names renamed.
    
    See hrm Feature #896534
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cb5b7e3a35312ddf32e0046e0d659dafe1593a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 13 15:00:53 2020 +0200

    Travis CI: Install different builds to different directories
    
    See hrm Feature #896563
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d6f532a1fd7993d337e24375ae215622a4e6248
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 14 08:41:38 2020 +0200

    README.scenarios: Correct name of "prevent_new_cities" field
    
    See hrm Bug #896797
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 724fc3c446d2e4798250ffd2e5ba0c7f8ca496d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 20:28:30 2020 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4a98077eac6beaf35e935f2dac521780efeaee1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 01:30:55 2020 +0200

    sdl2: Rename pBackground, pLogo, and pIcon
    
    Make their names to adhere coding style standards
    
    See hrm Feature #896053
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c6020a02f7c447e82751c8d19cf269e13c7d601
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 03:17:23 2020 +0200

    Msys2: Set default MAKE_PARAMS based on 'nproc'
    
    See hrm Feature #896075
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 970b381ed0cceb11a84556203e3bbd7f68fdb4ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 21:37:24 2020 +0200

    Meson: Add 'syslua' support
    
    See hrm Feature #892307
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 987250e761123ecc0e7493a327e114def2c097ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 11 22:21:28 2020 +0200

    sdl2: Rename DownAdd() as widget_add_as_prev()
    
    See hrm Feature #896016
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b416cc89b4904e8c9d40b26aa511a13e4f3b77cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 02:38:28 2020 +0200

    winbuild.sh: Make each of 'clean', build, and 'install' in separate step
    
    Running 'make install' directly caused problems in that sometimes
    dependencies from the build step were not made in time.
    
    See hrm Bug #865048
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b08090a338e89fc65744ab54c2129c5da2c7a231
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 22:56:50 2020 +0200

    AI: Initiate the spacerace if being tech leader
    
    AI that is leading tech, and will thus alone have required tech
    for spacerace for some time, tries to take advantage of that by
    building spaceship while others are still trying to get the tech.
    
    See hrm Feature #894739
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbd4f7572ff26e929151703d6fb84c344503ff68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 08:16:53 2020 +0200

    gtk3/.22: Drop unused files from theme
    
    See hrm Feature #894559
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0db7cd21ff9aff734604da08b316ce0c33bbff6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 9 07:45:37 2020 +0200

    sdl2: Rename pImprove* to lower case
    
    See hrm Feature #895133
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b38aac84d25928c165bfe15f6d9304ed2ba111a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 23:51:04 2020 +0200

    Document that action_prepare_ui_name() is not thread-safe
    
    Add mention about function not being thread-safe to function header.
    Also for other similar functions - action_prob_to_text() and
    action_prob_explain() - in actions.c
    
    See hrm Feature #895052
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95b6bcb601e788b59036a327f5db5904ac15f542
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 03:55:06 2020 +0200

    gen_headers/.gitignore: Add version_gen.h
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ddaffdae7f37ba065d38e50cd4f3877fa79a779
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 03:13:18 2020 +0200

    Comment typofix: WINACRH -> WINARCH
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8a4e8bc146878f2889319367ebb92a5193fc227
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 12:57:40 2020 +0200

    sdl2: Rename pTerrain* as (p)terrain*
    
    See hrm Feature #894926
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f11c6b84109c9643e6fc5e39e97f4a92a6568f80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 30 18:55:48 2020 +0200

    qt6.m4: Bump QT_DISABLE_DEPRECATED_BEFORE to match Qt-5.15
    
    See hrm Feature #893343
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 334e554d0f60a6bba7caccea78bcdc4c92af7bd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 17:41:58 2020 +0200

    Granularity: Add Spirits and Sacred Grove
    
    See hrm Feature #894986
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78280024974ca989d32676c6b946331100d8fb51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 23:46:43 2020 +0300

    Qt: Avoid using deprecated QLabel::pixmap()
    
    Qt-5.15 deprecates QLabel::pixmap() that returns QPixmap pointer.
    Use overload that returns value instead in --with-qt5x build.
    
    See hrm Feature #892507
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1930308f6ea33f7c474a48e17b6e1b67f63bd082
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 6 21:09:01 2020 +0200

    sdl2: Rename pTile as ptile
    
    See hrm Feature #894445
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f34a882ddf9f7065acb39628fc6cb5b2cf2975dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 15:45:42 2020 +0200

    Fix gcc-11 stringop-overread error at comparing scenario.authors fields
    
    See hrm Bug #894423
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea8d2a6a38382656134eed05ad0836a0558e7cb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 19:02:17 2020 +0200

    Meson: Add test for ICONV_CONST
    
    See hrm Feature #894682
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea34658084a5fb9f95406db54d24003bfc2b2fb6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 02:44:01 2020 +0300

    Fix Small Wonder impr_req for units
    
    There was a strict requirement that impr_req for unit must
    be buildable by the player, unless it's Great Wonder, for unit to
    be buildable. If player already has Small Wonder in the city, it's
    not buildable any more.
    Change this so that unit can also be built if Small Wonder is already
    built
    
    Reported by Lexxie L
    
    See hrm Bug #884993
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74d92715bd45b686da765945416bd75a6ece0214
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 16:05:16 2020 +0200

    sdl2: Rename uppercase widget.h struct names to lower case
    
    See hrm Feature #894652
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6197d34951b95bdb550fd93aa1c9877543ef3e5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 11:03:20 2020 +0200

    Free action ui_name string
    
    See hrm Bug #894582
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5909b91c655ee0f82592867657f6cf45959e26b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 09:42:10 2020 +0200

    Granularity: Make Carving to depend on Fire
    
    See hrm Feature #894577
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81e7d0b0f07c0235b988b1ad78b06f34bc4e68d5
Author: graf wasili <graf.wasili@posteo.net>
Date:   Fri Nov 6 08:43:21 2020 +0100

    Display correct tile output if celebration ends
    
    Reported by Alexandro Ignatiev
    
    See hrm Bug #885093

commit daba44bc8fcff9fa1fa27122d8ac68e95ab34f9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 6 20:49:54 2020 +0200

    sdl2: Fix enabling buttons for activities that require target
    
    See hrm Bug #894434
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36d60f316c8a4fc59018f56171feff5a5cfec261
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 6 16:39:34 2020 +0200

    sdl2: Rename pUnitType as punittype
    
    See hrm Feature #894375
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 888298036b247f7b461bb08de478a0f19c00fe98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 23:51:58 2020 +0300

    Make Qt-5.15 minimum requirement for --with-qt5x build
    
    See hrm Feature #892509
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11fc8730cbb25819ab15b8ae0db04c54b8c37970
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 13:24:54 2020 +0300

    Meson: Install gtk3.22-client theme
    
    See hrm Feature #852974
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71f1619573d7bd8fce50a292438a17ed05e4af90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 03:41:54 2020 +0300

    Qt: Fix hang on trade planning calculation
    
    Reported by Alexandro Ignatiev
    
    See hrm Bug #874406
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9732e1d71d0d3836077f4111fdeb1b4d0e1700e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 6 15:50:16 2020 +0200

    Comment typofix: WARRING -> WARNING
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 895b5b5e67a9a02936936af01fb40814b683fe92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 04:51:13 2020 +0300

    savegame3.c: Clean up unit changed_from_tgt loading
    
    Remove unnecessary compatibility code. Savegame3.c saves have never
    been saved with the outdated format that it was protecting against.
    
    See hrm Feature #824073
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d75624c69eaeb1f48fd7d0f81e42d674c545d98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 4 15:18:47 2020 +0200

    Bump version number to 3.0.92.2-dev
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5087d2cae45815caefbd0dd19776c824e6d2c0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 31 09:03:39 2020 +0200

    Qt: Include QActionGroup to menu.cpp
    
    See hrm Feature #893360
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e677fa6cd30eea0f34677fe1a30badb36645bf27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 31 09:12:13 2020 +0200

    Qt: Change menu_list iterator type to QMultiHash <munit, QAction *>::iterator
    
    See hrm Feature #893361
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c4f9f9e3646e027081a85a3c6169bd1453a5342
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 30 12:40:17 2020 +0200

    Fix clang ndebug build warnings
    
    See hrm Bug #893306
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6485a60422b366a678cc1a9473763b8b654cb98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 27 07:45:25 2020 +0200

    Qt: Avoid using deprecated QTextCodec
    
    See hrm Feature #892826
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b2743f41eb2728ad4ff41fbfd6f422dcb6ad5b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 30 18:44:40 2020 +0200

    sdl2: Rename pWidget as pwidget
    
    See hrm Feature #893342
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 587308c32cc03006b51733f8911ccb6c8372404b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 25 15:42:17 2020 +0200

    Granularity: Add Masonry and City Walls
    
    See hrm Feature #892729
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99c0692475d453e61d2dd19138cbdef1ff55d859
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 27 07:31:08 2020 +0200

    Avoid using deprecated QDesktopWidget
    
    See hrm Feature #892821
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88707231909098f0b66523e402b35c4a028450ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 27 08:14:26 2020 +0200

    sdl2: Rename pRect as prect
    
    See hrm Feature #892829
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e18a6d25c0c38955279520762939ab475c75e0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 24 07:03:39 2020 +0300

    gtk3x: Use g_main_context_iteration() API instead of gtk_main_iteration()
    
    See hrm Feature #892512
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fd52741a6b3264a023aede38bc521dab9abccd1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 24 14:46:54 2020 +0300

    installer_cross: Use moc from crosser environment
    
    See hrm Feature #892712
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36106440bc138de97053df14dbc4c5056a05a08b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 27 07:16:01 2020 +0200

    Qt: Don't assume QStringList to be an class
    
    It's a typedef in Qt6.
    
    See hrm Feature #892819
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ccbad7a3ad296bcc3d0e68c043740e24d0deb040
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 26 20:29:20 2020 +0200

    sdl2: Rename Main as main_data
    
    Also rename its type from 'struct main' to 'struct sdl2_data'
    
    See hrm Feature #892804
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4aa3fcbe64e43b60212e4e2bafff9445e9561316
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 29 21:12:36 2020 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35707026b92252784851a1ce72ae853d22fd9d24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 00:25:09 2020 +0300

    Output /write command result
    
    See hrm Feature #892376
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39183bad0ac0cdc30ca75ebd2048b8ebc7b8b071
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 24 06:48:13 2020 +0300

    Update freeciv-mp-gtk3x to use gtk-3.99
    
    See hrm Feature #892511
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c53e2e428395c525dd7c3eb77b2e54f8abbac454
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 25 17:10:31 2020 +0200

    INSTALL: Document requirements for C++ compiler standard version
    
    See hrm Feature #892394
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfd80fbfbba5c1d85e87dba250a53934db6da51a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 25 14:24:50 2020 +0200

    sdl2: Rename pPlayer* as pplayer*
    
    See hrm Feature #892728
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df34e3e65f8a20521e3b88bfff826b95dae85aee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 00:58:06 2020 +0300

    Rename AI level "Handicapped" as "Restricted"
    
    Requested by T Hall
    
    See hrm Bug #872165
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ec9562bb8fc6bf5920caa42694354bdb99adfb6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 23:29:55 2020 +0300

    Qt: Replace QHash::insertMulti() usage with QMultiHash::insert()
    
    Former is deprecated in Qt-5.15.
    
    See hrm Feature #892505
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ac17deb6febb2f04ecd798bb5ba0e353e4242b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 25 14:10:58 2020 +0200

    Reimplement scripts/replace
    
    See hrm Feature #891558
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 267ea75d7131d8d4ffe217fcb547e19712ddad3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 24 23:07:43 2020 +0300

    sdl2: Rename pSrc* as psrc*
    
    See hrm Feature #892722
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef064e6183df184366ee1cd063e029d756a2dd03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 15:42:02 2020 +0300

    Add space between ',' and type name of next parameter where appropriate.
    
    See hrm Feature #892315
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23c3d4a0f77f29940012b388fd153712f8d77ae4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 07:31:07 2020 +0300

    Require c++17 in --with-qt5x mode
    
    See hrm Feature #892380
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 142af92fca0d9aa816271b060678284133a068df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 16:38:43 2020 +0300

    gtk3x: Rearrange to work without gtk_main()
    
    See hrm Feature #892340
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44e913ca26437d809f96d0afb3213c566624a8e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 00:09:35 2020 +0300

    Add '.serv' extension to file created by /write
    
    Only files with '.serv' extension can be read by /read command, so
    it should always be on files created by /write.
    
    Requested by S.C. L.
    
    See hrm Bug #677584
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ed4d157e4cb144d92f3b9a11a4911106ac38e6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 15:58:42 2020 +0300

    sdl2: Rename pDest* as pdest*
    
    See hrm Feature #892477
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96df3adb753ba260157f4df2bf49f9c42ac7f496
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 10:56:02 2020 +0300

    Rename irrigation_result as cultivate_result
    
    Change cultivation legality checks to depend on cultivate_result only,
    cultivate_time is no longer an factor.
    
    Similarly rename mining_result as plant_result.
    
    See hrm Feature #890287
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35c07f68cdb5d23541ad7a9ab35f9ddf3d875a79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 12:07:49 2020 +0300

    Qt: Avoid using deprecated QWheelEvent constructors
    
    See hrm Feature #892290
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80fb6cf9d0f72f16077ab344133774263dbafb55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 19:37:44 2020 +0300

    gtk: Adjust improvement tooltips in citydlg if they are not sellable
    
    Tooltip used to instruct improvement selling also for wonders that
    cannot se sold.
    
    Requested by Alexandro Ignatiev
    
    Patch by graf wasili
    
    See hrm Bug #885725
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdb42e39603780a7d38c9c31e58f64c5b1a98fdc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 07:25:12 2020 +0300

    Add space between ',' and '"' where appropriate.
    
    See hrm Feature #892240
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c362233a497eb0a6fa9db64f64f77517427d465f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 03:32:59 2020 +0300

    Use shuffled player order when placing startunits
    
    Requested by Jacob Nevins
    
    See hrm Feature #850656
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f82d02fef01dd566968e7551a4b4e69fec78799
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 16:03:45 2020 +0300

    sdl2: Rename pWindow as pwindow
    
    See hrm Feature #892323
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2415c34ff45c75a927cc2a8d2161956e5a12fa7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 06:33:00 2020 +0300

    Update Bridge tech flag documentation
    
    See hrm Bug #741534
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b65549d8f77578cf5fabb7fe6994220cb24dbc7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 11:19:06 2020 +0300

    Qt: Avoid using deprecated QWheelEvent::delta()
    
    See hrm Feature #892283
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4be3e685bac56247eb3d59429cf624e5fbac5d1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 12:15:49 2020 +0300

    gtk3x: Drop gtk_window_set_position() calls
    
    See hrm Feature #891536
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51a545ff5b9cf2ccf732ecc3f6ce91e9641bcefb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 21 23:02:34 2020 +0300

    sdl2: Rename pCity_* as pcity_*
    
    See hrm Feature #892213
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d2c6d9c52eac3464ed4967fa9a738c2fbef033f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 22:49:18 2020 +0300

    Improve climisc.c Coding Style
    
    See hrm Feature #891561
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9fd4cd5397c25f99a4cba4fc27700d54bf087898
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 10:34:08 2020 +0300

    Don't hide allied stealth units on seen tiles
    
    They are expected to be visible. Hiding them lead to duplicate
    unit removal from client when such a unit dies
    
    Reported by Jacob Nevins
    
    See hrm Bug #764976
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit debeec8d0c665c139f50ba9cc55606de2d8b8bfd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 03:19:34 2020 +0300

    Document --with-qt5x
    
    See hrm Feature #853803
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e2b0c425b412c0181cd2fc79df7370344b22d86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 01:23:08 2020 +0300

    Unify writing of Washington-on-the-Brazos between rulesets
    
    Reported by John E. Beach
    
    See hrm Bug #867817
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b0819aae15b552faaeb2570cdb3313fea8e3ded
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 20:54:19 2020 +0300

    sdl2: Rename pCityDlg as pcity_dlg
    
    See hrm Feature #891559
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8b869d7636d8558aca768346b5406709a62c504
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 14:33:35 2020 +0300

    Meson: Add gettimeofday() check
    
    See hrm Feature #891544
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34203c55485121134e983ab075534676a6eedb97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 02:21:38 2020 +0300

    Qt themes: Fix "Specified color without alpha value but alpha given"
    
    See hrm Bug #891563
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af3c4469bcadd093e35ddd43fd04404c12b84728
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 05:27:05 2020 +0300

    Avoid infinite loop when phase from savegame == num phases
    
    Reported by George Koehler
    
    See hrm Bug #815196
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c91bbb9a16cb3165972138643239e07077490e91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 17:34:43 2020 +0300

    sdl2: Rename unit_type *pUnit as punittype
    
    See hrm Feature #891555
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a474dc79e9c3ab1d20354ef2a2090bb06a79d45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 14:55:51 2020 +0300

    meson-winbuild.sh: Use crosser version 1.10
    
    See hrm Feature #891550
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afbf68b798005712a9acd8b0796235e8958ab0d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 13:21:22 2020 +0300

    ruledit: Avoid deprecated usage of Qt::AlignmentFlag value QFlags<T>::Zero
    
    Qt-5.15 recommends using default constructor instead of zero
    for Qt::AlignmentFlag.
    
    See hrm Feature #891537
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07a45acf1f2d47c01bac9fa48bd2f3ebdee52c9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 3 12:49:10 2020 +0300

    Make ACTIVITY_IRRIGATE not to care about irrigation_result
    
    Do not use irrigation_result as means of checking ACTIVITY_IRRIGATE
    legality. Use irrigation_time > 0 instead. Equivalent change is made
    for ACTIVITY_MINE.
    This allows ACTIVITY_IRRIGATE and ACTIVITY_CULTIVATE to not be
    mutually exclusive depending on value of irrigation_result.
    
    See hrm Feature #873061
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d71a63dc39ae5e338cb9a6310ee1bc990d3e95d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 17 18:10:12 2020 +0300

    installer_cross: Explicitly disable nls
    
    See hrm Feature #891515
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d4d781a1af49c9383614ca4382a0cddb27b40a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 12 18:53:48 2020 +0300

    Mark Clean Pollution/Fallout UI name entries for translation
    
    See hrm Bug #891049
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62bc4962ed5798a29ee50a57c749b63425d66129
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 19:06:32 2019 +0200

    Inline city_size_get()
    
    See hrm Feature #854139
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8a497c6d21dfc52762dcd68b8c43df4489c0da0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 15 21:32:17 2020 +0300

    Drop unused AUDIO_SDL2 define
    
    See hrm Feature #891393
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d860f56f35d76fb4f5f3dfc77b34255f551e29b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 12 18:55:05 2020 +0300

    Granularity: Set game.ruleset about.name to "Granularity"
    
    See hrm Feature #891071
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c5b2a7d8a1b6f3e5544f3dba3a9524cda4996d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 17 20:57:51 2020 +0300

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b7998b51a8a373683f6527e4570a99621102649
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 13 01:57:32 2020 +0300

    README.actions: Correct "Cultivate" and "Plant" documentation
    
    See hrm Bug #891083
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a11db3bb92d3015a5ba78ccb900f58840d4b295
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Oct 15 21:18:08 2020 +0300

    Auto-close tags at the end of featured texts
    
    This prevents failure of some clients at wrong tags.
    
    See hrm Bug #887581
    
    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cda9a37fe96d04ed26c524cfc1ce66c2faff56d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 13 04:09:10 2020 +0300

    Do not call mapimg_client_define() when mapimg subsystem is uninitilised
    
    Reported by Olivier Certner
    
    See hrm Bug #886678
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd9cbdfdb06300a3bed512b0a2df14f67c8044ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 12 17:39:32 2020 +0300

    Update included lua to version 5.4.1
    
    See hrm Feature #891047
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f82baa164ad6f5f8a5357a5b596e9dc087fd851
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 18:22:07 2020 +0300

    Drop civmanual.c assert.h include
    
    See hrm Feature #890323
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0cc1da5b49010d540d06d04e6d0a43c6271a399
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 13 01:05:28 2020 +0300

    Give clear error message about missing cultivate_time or plant_time
    
    See hrm Feature #891082
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc69ea09622bd1e42ea2ed326d0c389c9cac00d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:14:49 2020 +0300

    gtk3x: Make gdk_device_get_surface_at_position() args 'double *'
    
    See hrm Feature #853653
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a46f6d1c4465ba848491fd4b2cacee088aa1e16
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:13:46 2020 +0300

    gtk3x: Get rid of gtk_entry_set_width_chars() calls
    
    See hrm Feature #853649
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52d96a47d558ea583562bbc45bb2ed4f9dd14764
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:11:41 2020 +0300

    gtk3x: Replace gtk_box_reorder_child() call with gtk_box_reorder_child_after()
    
    gtk_box_reorder_child() has been removed from gtk-3.96
    
    See hrm Feature #851565
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74d95757083e79b683e9df5b20bff736f84d1b36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:09:58 2020 +0300

    gtk3x: Replace gtk_box_pack_start() calls with gtk_box_insert_child_after()
    
    gtk_box_pack_start() has been removed from gtk-3.96.
    
    See hrm Feature #851564
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 190c941c63edd688ad7c37b83744d5a15b0112c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:04:23 2020 +0300

    Set gtk3x-client to use gtk-3.96
    
    See hrm Feature #851563
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83e6a6daa2480569e6d553b93854acb7485c4341
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 12 11:41:28 2020 +0300

    Qt: Fix clearing of worker tasks
    
    Reported by Alexandro Ignatiev
    
    See hrm Bug #887748
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e3b2ff43af4790ba7c85a7ae798609e8930845c
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Oct 8 05:36:34 2020 +0300

    Make Direction a normal class
    
    Direction objects now have property .id and function find.direction(id)
    to be saved, and property .name to be prettily stringified.
    As additional syntaxic sugar, direction module functions are now callable
    as properties and find.direction(string) calls direction.str2dir(string).
    
    See hrm Bug #880895
    
    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eedacda963b8d1fdb0fd50dd2ea9d431688f84a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 21:00:18 2020 +0300

    sdl2: Drop unused utf8_strlen()
    
    See hrm Feature #858229
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f5a9cde642d86a8808952c2c659b9c6a7bcbb6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 12:56:30 2020 +0300

    gtk3x: Comment out gdk_surface_invalidate_rect() calls
    
    gtk-3.96 has dropped gdk_surface_invalidate_rect() completely.
    Just comment out its use from our code while waiting for gtk4
    compatible drawing code.
    
    See hrm Feature #890400
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a31692eb9a4ea253ae2885ae73be4418693aedfb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 12:39:26 2020 +0300

    gtk3x: Replace GtkLayout usage with GtkFixed usage
    
    GtkLayout has been removed from gtk-3.96
    
    See hrm Feature #890399
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c50f63baa18a4b22e09f992c1f3edbc35e1c03f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 23:07:53 2020 +0300

    Make appdata ids reverse-DNS
    
    Add separate launchable entries for connecting appdata files to
    desktop files.
    
    Also rename desktop files to match reverse-DNS scheme of appdata ids
    
    See hrm Bug #853571
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9789993475765814ea18cb41dab3a93ed5fec30c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 21:32:33 2020 +0300

    Use past tense in Land Ahoy achievement messages
    
    The message is not shown immediately when unit sees a shore,
    but only in next turn change.
    
    Reported by Chippo Elder
    
    See hrm Bug #856804
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20ba13842727abd882085cf0644f805bd36613ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 19:17:22 2020 +0300

    sdl2: Remove dead code to handle terrain changing irrigate/mine
    
    See hrm Bug #890320
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67bdf5d73aace24d769582bbc9a1d1a58358db07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 18:27:31 2020 +0300

    Update diplomatic counters between alive players only
    
    This fixes problems like cease fire running out and turning to a war
    with already dead player.
    
    Reported by fomalhaut pa
    
    See hrm Bug #879055
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6171ce202d82bd5733f8f49f0e5bfe3612cea9e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 13:00:04 2020 +0300

    gtk3x: Comment out GdkDragContext part
    
    gtk-3.96 defines no GdkDragContext. We already comment out a lot of
    gtk+-3 style drag&drop code. Extend that outcommenting to GtkDragContext
    usage.
    
    See hrm Feature #890402
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea1a3ac06977618f54172e0475341fe0a311b5cf
Author: swiftech <awsksupport@gmail.com>
Date:   Fri Oct 9 00:52:56 2020 +0800

    Update Chinese translation

commit 9d4654c5c188f54150ece684acffce19da7a8d1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 14:16:50 2020 +0300

    Update luasql to version 2.6.0
    
    See hrm Feature #890257
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc2b595a108a20b34ccfadc7c45a22d554cb5068
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 16:30:09 2020 +0300

    Qt: Replace "Irrig. Rslt" with "Cultiv. Rslt" in helpdlg
    
    Similarly "Mine Rslt" -> "Plant Rslt"
    
    See hrm Bug #890314
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e8f8c0f506b41669b04b744a6631f5e9f74519a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 07:32:48 2020 +0300

    Fix build with clang-11
    
    See hrm Bug #883284
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6000e1cad9d2b854d125ab30b6dfbe720623c36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 7 06:07:42 2020 +0300

    Update msys2 environment to 200906 level
    
    See hrm Feature #883288
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54267cb9596570dad2aef2db720789d80b8c6cf7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 30 11:28:35 2020 +0300

    configure.ac: Drop use of obsolete AC_HEADER_STDC
    
    Autoconf-2.70 was giving a warning about it. We didn't use its
    results anyway (with any version of autoconf).
    
    See hrm Feature #889544
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20b75101a6d7e98eef27fc49dd2304e6262cc584
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 30 11:12:19 2020 +0300

    configure.ac: Drop use of obsolete AC_HEADER_TIME
    
    Autoconf-2.70 was giving a warning about it. We didn't use its
    results anyway (with any version of autoconf).
    
    See hrm Feature #889543
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31d257b7278274b22690fa72b77d8424512642f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 03:30:25 2020 +0300

    Rename player_capital() as player_primary_capital()
    
    See hrm Feature #872580
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 534358a271c79e8ba9a5cc31e097af4135907c8b
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Sep 25 14:30:27 2020 +0200

    Updated French translation of the README file.
    - default client
    - clients / server app names
    - license
    - modularity
    - mailing lists
    - log levels
    - server auto-start (suppressed)
    
    ... and so many others I can't remember !

commit 954e7369bdd26f28d4d1bd388c95df0b74b4363e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 07:49:25 2020 +0300

    Consider secondary capitals when calculating unit bribe cost
    
    Distance to nearest capital, not necessarily to the named capital,
    is what matters.
    
    See hrm Feature #872579
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc06464a491d1002962df912ba26248b669cad4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 21:23:35 2020 +0300

    Consider secondary capitals when calculating city incite cost
    
    Distance to nearest capital, not necessarily to the named capital,
    is what matters.
    
    See hrm Feature #872575
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5aa534dd94a9a0c3630dca2da4f4a7ba8f6f02e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 5 23:50:02 2020 +0300

    Make top 5 cities report to accurately label number of Great Wonders
    
    Make it clear that Small Wonders do not count by changing mentions
    of "wonders" to "Great Wonders"
    
    Patch by Lexxie L
    
    See hrm Bug #884474
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5315ebb5ea7796701973bf3c0c342c9821e5ae8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 00:32:58 2020 +0300

    civ2civ3: Make Ecclesiastical Palace secondary capital
    
    It was already documented as one.
    
    See hrm Feature #872572
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71eb308f799fd62920077d68d9109448d47cc7a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 5 14:41:02 2020 +0300

    Fix stdinhand.c compiler warning with gcc-10 and -O3
    
    See hrm Bug #886331
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbf6d254b9f89eda2bbc40562197c79591580304
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 10 02:28:18 2020 +0300

    Support multiple cities with positive Capital_City effect value
    
    If multiple cities have Capital_City effect, one with the highest
    value is considered the primary capital. This is updated at turn
    change, unlike the previously used direct effect system check
    taking immediate effect.
    Cities with lower, but still positive, Capital_City value are
    considered secondary capitals.
    
    Requested by Lexxie L
    
    See hrm Feature #871681
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce98082eddcd7be37a477c7f2c55f10dffe9146f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 5 21:31:45 2020 +0300

    Add volume control
    
    Patch by Raymond Martineau
    
    See hrm Feature #885685
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7527315835c16179e68080fe8f7244c76152b656
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 5 14:12:59 2020 +0300

    Fix cvercmp compiler warning with gcc-10 and -O3
    
    See hrm Bug #886330
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4247bee632e4a94064edb72e7c9f4055d6344516
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 27 04:34:41 2020 +0300

    Separate cultivate/plant time from irrigation/mining time
    
    Add entries for terrain sections in terrain ruleset for
    cultivate_time and plant_time. Use those times for cultivate and
    plant activities instead of irrigation and mining times.
    
    See hrm Feature #872777
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30ba62911cfb4cdb8243fc1ed59df6406d325947
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Sep 3 16:40:19 2020 +0200

    3-way coherency check between translations

commit 8c251b99295c5d6c7059e765e20764687210ad01
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 27 06:30:07 2020 +0200

    Worker task creation: transform vs extra act.
    
    "Plant" isn't "Mine" any more. "Irrigate" isn't "Cultivate" any more.
    Separate terrain transformation activities from extra creation actives in
    the worker task creation user interfaces.
    
    See hrm Feature #885497

commit 8539a658f69abc7ccb553a1e104c7b0d8365e4cb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 27 06:12:44 2020 +0200

    Qt client: Fix worker task creation.
    
    It broke when hrm #846914 changed the buttons to pointers.
    
    See hrm Bug #885495

commit e7baacac237bfa8bd65453a71ad43597a0d67461
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 27 05:29:54 2020 +0200

    Remove dual activity meaning remains.
    
    The function can_unit_do_activity_targeted_at() duplicated checks done in
    is_action_possible() for ACTIVITY_MINE, ACTIVITY_PLANT, ACTIVITY_IRRIGATE
    and ACTIVITY_CULTIVATE.
    
    Before hrm Feature #871737 landed the checks were used to find out if the
    original - now extra only - activity was extra creation or terrain
    transformation. It would then check if the appropriate action was enabled.
    Terrain transformation and extra creation are now separate activities. This
    makes the old checks redundant.
    
    See hrm Feature #885494

commit 233fe197ec638b35aca824d3a10763e99513fd48
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Aug 2 17:05:50 2020 +0300

    Scripting: Fix segfaults with Direction objects
    
    Prevent segmentation faults in C applications due to tolua
    botched garbage collection of user objects (Direction). It also makes
    functions return same objects for same directions and nil for invalid
    directions (they hanged the application anyway).
    
    See hrm Bug #880869
    
    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2054ee3a2cab1e90d8df6becedf13e5e96b225fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 2 18:46:41 2020 +0300

    Deprecation warning typofix: "instad" -> "instead"
    
    See hrm Bug #883116
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d3364d2fe5bafe167639bb382a47ad90e30d426
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Aug 2 16:44:37 2020 +0300

    Fix City:is_(un)happy() Lua functions in clients
    
    See hrm Bug #881951
    
    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd9f35c89d946d49fe7bce368d396912e0463f39
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 2 10:56:44 2020 +0300

    Update gettext bootstrap files to gettext-0.21 level
    
    See hrm Feature #883109
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0606b5fc072f2f39c636f2af184dd42eaa5fb047
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 2 12:11:00 2020 +0300

    Add req_vec_fix.cpp to POTFILES.in
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54b7be317172e505223b0980e3fc2adf6e89296c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 11:58:58 2020 +0300

    Granularity: Add Hunters and Horsemen
    
    Also add techs they require.
    
    See hrm Feature #872589
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dbc85feed62ac775dff4b8b676213de42f2173a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 27 18:15:37 2020 +0300

    Drop lua-5.3 from git
    
    See hrm Feature #882571
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6b9baf62d2fcea5eb08525b736b80ca41b4c873
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 27 02:55:35 2020 +0300

    Qt: Drop multipler_rates_dialog Qt::WindowFlags parameter
    
    See hrm Bug #882483
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 078e80728ac70fbb5e3944d5d66b642317ce3638
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 27 03:59:25 2020 +0300

    Qt: Set "Cultivate" as the name of ACTIVITY_CULTIVATE worker task
    
    See hrm Bug #874770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5ba19a13ca83e444d1401fcca5668f98b42790a
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Mon Jul 27 22:16:56 2020 +0200

    Updated French translations :
    - action enablers
    - improved cross-branches coherency

commit 0e6cc3a9525dd5358ca941a09fd221d3e8c67625
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 11:17:44 2020 +0300

    Granularity: Add Road extra
    
    See hrm Feature #872586
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85459532aa8ff8e8b21161032d7c2311b7ee9153
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 17 01:27:23 2020 +0200

    Doxygen: make warnings more visible.
    
    Doxygen warnings used to drown in a sea of other output. Quiet it so the
    warnings becomes visible.
    
    See hrm Feature #881540

commit 0af4c90998a6687da9461a0c246ba251fd4efcf0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 16 14:42:10 2020 +0200

    GitHub Actions: Windows build (for CI).
    
    Use GitHub Actions to do a msys2 build on Windows as a continuous
    integration test.
    
    The build is too slow to expect that the developer is at his computer
    by the time it fails. It still beats waiting for someone's msys2 build
    to fail.
    
    See hrm Feature #880897

commit 9d5a856490db6413f1356a9ea93aed668d3d7537
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 16 15:27:44 2020 +0200

    Fix msys2 ruledit build.
    
    Solution hint from Marko Lindqvist
    Reported by Marko Lindqvist
    
    See hrm Bug #880891

commit 9ade2f212b22c4402f03564170d3d287962ea8fb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 16 15:02:58 2020 +0200

    README.msys2: fix package name spelling.
    
    See hrm Bug #881455

commit 94c3359cd7401665aa5ed6cdace2c2aaa5facd3d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 10:22:43 2020 +0200

    Set target city for tile targeted actions.
    
    See hrm Bug #879610

commit fe06d4ef903109c1a24dc41b10006014beb447c3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 21:35:53 2020 +0200

    Travis CI: test ruleset upgrade.
    
    The test data is the Freeciv 3.0 rulesets from S3_0
    
    See hrm Feature #880591

commit 8cca0393e402279e7cc6ef900c36b384fc2372d4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 9 00:02:15 2020 +0200

    Ruleset upgrade test data preparation script.
    
    See hrm Feature #880653

commit 9536b462c85873e3ed07ca8075166b6aa576905e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 9 12:36:04 2020 +0300

    README.msys2: Correct date of upstream package
    
    See hrm Bug #878462
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eaf83a7da7dc35176f36ae685df0873644ae915d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 21:03:57 2020 +0200

    rscompat: fix "Paradrop Unit"  move cost effect.
    
    The move cost for "Paradrop Unit" should be subtracted from the actor unit,
    not from a target.
    
    See hrm Bug #880587

commit ed44d39a9168cfe92f7e1165ff38d5ad6e24650c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 15:32:24 2020 +0200

    Make "Center" a sub set of "Claimed".
    
    Set the tile owner to the owner of any city on that tile even when borders
    are disabled.
    
    See hrm Feature #879677

commit e3963f141dc404164cd1887b0b55ba41098e997c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 12:43:57 2020 +0200

    req_vec_change: introduce req_vec_num_in_item.
    
    Some ruleset item kinds like action enabler have more than one requirement
    vector. A req_vec_change must therefore specify what vector it applies to.
    Up until now this has been done by a pointer to the requirement vector in
    the ruleset item that was suggested changed. This created extra work when a
    change was supposed to be applied to a copy of the original ruleset item.
    
    Introduce req_vec_num_in_item. A req_vec_num_in_item is a numbering for
    requirement vectors in ruleset items. The numbering is specific to each
    ruleset item kind. Have req_vec_change and functions that work with
    req_vec_change specify the requirement vector the change applies to as a
    req_vec_num_in_item.
    
    See hrm Feature #880564

commit 86adba4ba5cf8d065b56a4b90def8a0dcbf84dd1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 14:28:29 2020 +0200

    Comment header fix

commit 63328bb4b52bafaf3ebcee4218852800810779e7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 09:44:38 2020 +0200

    ruledit: use QListWidgetItem::setSelected().
    
    setItemSelected() is deprecated.
    
    See hrm Bug #880526

commit e47ed6b389067e2bd34535369694abbeec0fc73b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 08:07:06 2020 +0200

    README.actions: expand Lua logging example.
    
    Log all current action target kinds.
    
    See hrm Feature #880514

commit 9f0d1b29cb3eddf9e1283dabae390e13174d310c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 13 11:55:11 2018 +0200

    HACKING: Explain what an "action" is.
    
    Explain that the action concept shouldn't be muddled.
    
    See hrm Feature #880508

commit a8412daa41f3e3910127e8cac05a2b897b930116
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 24 00:01:48 2020 +0300

    Meson: Add option to build json-protocol
    
    See hrm Feature #874813
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e3ec8b26b6d5ae40e0bfcc85964c8214c9926e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 7 14:35:56 2020 +0200

    Travis CI: run make in parallel on OS X build.
    
    See hrm Feature #880452

commit 85d2057fa824887e27f662cc755ff3ea4a8fe5a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 7 06:11:42 2020 +0200

    Delete requirement_vector_contradiction_clean().
    
    It is unused in 3.1.
    
    See hrm Feature #880399

commit 633b455c37b49eb53f5142d7fd1fab426fe6b2bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 16:23:38 2020 +0200

    Comment spell fix: requirment -> requirement

commit 8e2191bf87188bab3d87551168417bc93e83affc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 14:27:02 2020 +0200

    Comment header syntax fix.

commit 8414968cc9b95913ee97eeda0d083a0a71a60926
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 7 04:05:57 2020 +0200

    Travis CI: print config.log on configure failure.
    
    It is easier to debug a failed ../configure run when the log is shown when
    reading the log of the job.
    
    See hrm Feature #880397

commit f34483283f9a442251f58692e8cdcc44df2660d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 7 04:05:25 2020 +0200

    Move class fix_enabler_item out of header.
    
    The class fix_enabler_item is an implementation detail of tab_enablers. It
    inherits req_vec_fix_item. The class req_vec_fix_item is a regular C++
    class that doesn't inherit QObject. There is no need to for fix_enabler_item
    to remain in the header.
    
    See hrm Feature #880396

commit daa4e7b803126850227a06a8e2c3bb28d7213bb9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 21:43:05 2020 +0200

    Travis CI: clang debug build.
    
    Clang catches stuff like an enumerator from the wrong enum being assigned
    to an enum variable. The OS X build is slow and needs lua5.4 before it can
    run in debug mode. Add a Linux clang build.
    
    See hrm Feature #880378

commit d38771cbed16c46201fb22f1a3347e88a98bb350
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 19:53:06 2020 +0200

    Update included lua-5.4 to version 5.4.0
    
    See hrm Feature #880331

commit bf9560ee50005bc02d9ca9b3a59cc7a206c15f9b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jan 1 15:47:08 2020 +0100

    Travis CI: build the Qt client on OS X.
    
    See hrm Feature #880335

commit 894aff809ad1411c47fa110a9f6aca82224d1f83
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 16:58:29 2020 +0200

    Set minimum C++ standard version to 11.
    
    A C++ compiler may support C++11 but default to an older version.
    
    Ask for C++11 when compiling C++ code. All our C++ code uses Qt.
    All Qt versions supported in 3.1 requires C++11.
    
    ax_cxx_compile_stdcxx.m4 was taken from the GNU Autoconf Archive.
    Serial 8 was chosen because it doesn't downgrade C++ version to
    C++11 when to compiler default is a more recent version. (No C++
    standard version downgrades requested by Marko Lindqvist)
    
    See hrm Bug #880321

commit 297d2dab3113a752559750a47075ce0af508bc29
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 12:15:14 2020 +0200

    Travis CI: remove homebrew work around.
    
    Travis' OS X image no longer needs a brew update on each build to
    work around hrm Feature #861472.
    
    See hrm Feature #880296

commit 2ed083f451139f17f13f8bdabcfcc1692a5afd7c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 11:21:05 2020 +0200

    req_vec_fix: update on outside req vec change.
    
    Listen for changed done by others to the requirement vector it is trying
    to fix. Discard all local changes and start over again when the vector
    has changed.
    
    See hrm Feature #880291

commit cd448eaa40cb4c233788ab85f7d84288e9d64070
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 3 11:29:08 2020 +0200

    req_edit: update on outside req vec change.
    
    Listen for changes others do to the edited requirement vector.
    Update the view of the requirement vector if it has changed.
    
    See hrm Feature #879873

commit 1e49fa010ebcee4ced23420c3e3a97cf021f807f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 3 10:29:11 2020 +0200

    Travis CI: build experimental ruledit in normal.
    
    See hrm Feature #880060

commit 7099396239651a36e6fabfa877d342c3f1ec83d7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 2 12:21:24 2020 +0200

    ruledit: mark enablers that has problems
    
    See hrm Feature #879934

commit 31484d078ea2018d7b70636ce68774c1eeeebe2b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 2 11:47:24 2020 +0200

    ruledit: (enabler) problem seriousness detection.
    
    See hrm Feature #879928

commit 968e2abd38ef5c93f0ec0a6a22ffdf48be9b0703
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 20:38:56 2020 +0200

    req_edit: emit signal on rec vec change.
    
    Emit the signal rec_vec_may_have_changed(const requirement_vector *)
    after req_edit changes a requirement vector.
    
    See hrm Feature #879870

commit 0abc30affbd3a72cb01cc8ebd21a23c9bf31ce66
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 20:08:51 2020 +0200

    ruledit: update changed enablers.
    
    Update an action enabler if one of its requirement vectors changes.
    
    See hrm Feature #879864

commit 3d9f38736df5b2014facc500ea74cebadc0c8be2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 13:08:34 2020 +0200

    ruledit_gui: forward rec_vec_may_have_changed().
    
    Forward incoming rec_vec_may_have_changed(const requirement_vector *vec)
    signals.
    
    See hrm Feature #879862

commit 0718783b9a2a95325277cd4be1ca9b5b71d4a44e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 13:06:04 2020 +0200

    req_vec_fix: emit signal on rec vec change.
    
    Emit the new signal rec_vec_may_have_changed(const requirement_vector *)
    after req_vec_fix does all accepted changes to a ruleset item.
    
    See hrm Feature #879745

commit 548f05cea56f7078c99c0c289d00641478c1f550
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 13:07:17 2020 +0200

    ruledit: close redundant req_vec_fix_item.
    
    Make ruledit_gui::open_req_vec_fix() close item_info when another
    req_vec_fix window already is open for the item.
    
    See hrm Bug #879744

commit fcca999cd3847c1f4e9e6454e0c7550a7cae0a38
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 11:39:17 2020 +0200

    ruledit: keep selected enabler marked on refresh.
    
    See hrm Feature #879727

commit c89354001a8662749782dbfa33a56a16d13588b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 11:16:45 2020 +0200

    ruledit: use layout for req_vec_fix problem area.
    
    Replace the hack of using a widget to contain the widget displaying
    the current problem with the use of a QStackedLayout.
    
    See hrm Feature #879718

commit 45d3a28aee047fafbc1803265c9e4bec9a707943
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 16:31:23 2020 +0200

    Client access to the ane_kind enum.
    
    Move the enum ane_kind to common.
    
    Put it in the new header file - explanation.h - so adding a new possible
    reason why an action isn't enabled won't cause a giant rebuild.
    
    See hrm Feature #879630

commit e94229af5a07ae8c64396c0d9247e89ede5f8243
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 11:49:37 2020 +0200

    Action tool tip generation to client text.
    
    The generation of the tool tip for an action button in the
    action selection dialog should be client only. Keep the
    action probability to explanation code in the actions
    module to keep action probability interpretation
    centralized.
    
    See hrm Feature #879607

commit caf6a094c097b3d9d6964c5cc0431a939e9f93fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 12:31:39 2020 +0200

    Action not enabled explain peace blocks.
    
    See hrm Feature #879606

commit 3563e340cf1729b6f68e99111a1e1ba70585f8a7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 23:37:51 2020 +0200

    illegal_action(): fix explanation finding order.
    
    Punishing a unit changes its state. This state change can make the action
    illegal for other reasons than the real reason why it was illegal. The
    reason why the action was illegal must therefore be found before the
    punishment is applied.
    
    Looking for an explanation why the action was illegal after the unit was
    punished can also crash the server if the unit is killed.
    
    This patch creates a new, smaller, bug: A client asking to not be disturbed
    will end up not getting the reason why the unit was punished. Accept this
    for now. (See hrm Bug #879881)
    
    See hrm Bug #879880

commit a3336c029335f28729e15d2fcd132161bb3df952
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 23:15:51 2020 +0200

    A dead unit can't lose MP...
    
    ...but trying to make it lose movement points can crash the server.
    
    See hrm Bug #879879

commit 23de141028420ac9e003c09cfcd89e28d213ef2d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 10:11:39 2020 +0200

    dai_fill_unit_param(): look for attack capability
    
    A unit without the NonMil unit type flag may still be unable to attack.
    
    See hrm Feature #879480

commit 292e41e1d766a97221fa0fc96d213220a6362c76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 29 03:16:31 2020 +0200

    Obligatory hard req rscompat: fix all trivial.
    
    Have rscompat_enabler_add_obligatory_hard_reqs() apply all append only
    fixes during ruleset upgrade.
    
    See hrm Feature #879438

commit 1ee4725db0a9795a486e1b20f7c985a58099caec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 28 23:22:44 2020 +0200

    Bitwise server setting value access.
    
    Add a function that gives access to the value of bitwise server settings to
    fc_interface. This can be used to check the value of bitwise server settings
    that aren't sent in PACKET_GAME_INFO. Add an bitwise server setting value
    getter to the server_settings module.
    
    See hrm Feature #879437

commit 82348097906c0121498829fafce5e1b4997566a8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 28 22:23:55 2020 +0200

    Standardize enabler problem terminology.
    
    Standardize on the clearer terms "repair" and "improve".
    
    See hrm Feature #879431

commit 121e25b073b8ad9c32e180ac5247a2cbe6776be0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 28 12:54:46 2020 +0200

    Mandatory local DiplRel means claimed tile target
    
    Requiring a local DiplRel implies that the target tile is claimed. Make
    explicitly expressing this implicit requirement mandatory from 3.1.
    Action not enabled explanation finding relies on it.
    
    See hrm Feature #879408

commit 39d6b022123202d0e847375281de14d3110ac4d8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 15:40:52 2020 +0200

    Travis CI: move to the next Ubuntu LTS.
    
    This allows dropping the ppa.
    
    See hrm Feature #879251

commit 36ecef5508ba83b66bf79bc69d81ab71d8237809
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 14:59:28 2020 +0200

    --warning: show enabler improvement possibilities
    
    See hrm Feature #879228

commit 5a74d3a9d9c7a8ec0547b14351cd7c42e04d91aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 14:22:26 2020 +0200

    Found City on claimed tile enabler clarification.
    
    Clarify the rules that allows building a city on a claimed tile by
    specifying in the action enablers that the tile is claimed.
    
    See hrm Feature #879232

commit fd3d4bfe612cf5e04cafffd95a07bfa1a087bb1f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 13:45:27 2020 +0200

    ruledit: suggest action enabler clarifications.
    
    A local DiplRel requirement in an enabler for a tile target action implies
    that the target tile is claimed. Suggest clarifying this to ruledit users.
    
    See hrm Feature #879226

commit 6ba7051134dd4728eaa60da2ac1a8663c8590d13
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 13:11:52 2020 +0200

    Detect tile targeted enabler self contradiction.
    
    An enabler for a tile target action can't require a local DiplRel if it
    also requires that the target tile is unclaimed.
    
    See hrm Feature #879225

commit 259568c4987fbb828bbc7dc76a16214397fa779d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 10:10:52 2020 +0200

    ruledit: detect unused action enablers.
    
    See hrm Feature #879199

commit 27f064c2de55a161094d68b785d7348c19ec65dd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 15:18:45 2020 +0200

    Comment fact fix

commit c77bcb298a47386f3937c846c251687024d0e4f7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 00:42:05 2020 +0200

    Non TerrainSpeed are native by terrain.
    
    Transporable units in alien, civ2civ3, classic, experimental, multiplayer
    and sandbox that doesn't have the TerrainSpeed unit type flag are on native
    terrain when they load.
    
    Remove redundant "Transport Disembark" action enabler and !present
    requirement for "Transport Disembark 2".
    
    See hrm Feature #879143

commit e3efcf0f2342bb8774a876f856f9c3b4f0574631
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 21:01:13 2020 +0200

    Increase the max size of problem descriptions.
    
    Around 150 characters was a bit on the short side. Increase the size limit
    to 500 bytes. Long enough to describe the problem, too short for a wall of
    text.
    
    See hrm Feature #879142

commit d0df88f98fe18e619d7c0a271f7a3a0c7e2b99d1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 23:14:40 2020 +0200

    No unit types can join cities in alien.
    
    Remove redundant action enabler and user unit type flag.
    
    See hrm Feature #879141

commit 1fe09b85920684f25c380c6b0e330235832ff4f4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 00:02:11 2020 +0200

    classic and multiplayer have simple native rules.
    
    If a transported unit is in a city in classic or multiplayer it is on a
    native tile.
    
    Remove redundant "Transport Disembark" action enabler and !present
    requirement for "Transport Disembark 2".
    
    See hrm Feature #879140

commit 24e60fceea92de6354e74fa245672139fc307d47
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 23:20:01 2020 +0200

    All unit types in granularity have TerrainSpeed.
    
    Remove redundant "Transport Disembark" action enabler and !present
    requirement for "Transport Disembark 2".
    
    See hrm Feature #879139

commit 2cffec2e9a081d0d1e7fcd9b6482a4d2412be910
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 22:54:24 2020 +0200

    Untransportable units can't board, alight, etc.
    
    Make action_actor_utype_hard_reqs_ok() check that there exists a
    transporter for a unit type before claiming that it can do
    "Transport Alight", "Transport Disembark", "Transport Disembark 2",
    "Transport Board" or "Transport Embark".
    
    See hrm Bug #879134

commit aaf62286c486c13a7a2c82bbd86ce44d5281ce73
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 21:12:44 2020 +0200

    Fix enabler duplication on action change.
    
    See hrm Bug #879130

commit dae0db5e472d49fa08d57857b3e6fd2a772ff112
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 18:57:13 2020 +0200

    New effect Illegal_Action_HP_Cost.
    
    Introduce the new effect Illegal_Action_HP_Cost. It is like the
    Illegal_Action_Move_Cost effect except that it targets a unit's hit points.
    It is able to kill a unit.
    
    If the action always causes the actor unit to end up at the target tile two
    consolation prizes are given. An area with the radius of the actor unit's
    vision_radius_sq tiles is revealed. The player may get contacts with the
    owner of units and cites adjacent to the target tile. This is done for
    compatibility with "Paradrop Unit".
    
    See hrm Feature #879103

commit 6e1679a333de962b0459168c1cb36f9e72090f8c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 17:44:15 2020 +0200

    Get rid of paratroopers_mr_sub.
    
    Move the unit type field paratroopers_mr_sub to the
    Action_Success_Actor_Move_Cost effect.
    
    See hrm Feature #879117

commit 58aa784b3fd0adfc3e942226940683f185f20e36
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 16:36:10 2020 +0200

    Get rid of paratroopers_mr_req.
    
    Move the unit type field paratroopers_mr_req to the action enabler
    requirements of "Paradrop Unit".
    
    See hrm Feature #879114

commit 300f9350bf57db21511e72cb4967ffe60e693030
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 14:57:19 2020 +0200

    Don't punish non revealing illegal moves.
    
    The punishment for an illegal move specified by the
    Illegal_Action_Move_Cost effect should only be triggered
    when trying to perform the illegal action may reveal new
    information.
    
    See hrm Bug #879104

commit 00bc78e09f0e096b6dea27bba4ede2a01a004f13
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 14:18:40 2020 +0200

    Introduce action_prob_unit_vs_tgt(),
    
    an action probability finder that picks the target to evaluate against
    based on what the action in question wants.
    
    See hrm Feature #879100

commit 0a378f1dc1345eb8e3cc1a94864f3bb0203178c8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 12:53:30 2020 +0200

    Refresh non fogged borders on player map load.
    
    The tile owner isn't read when loading a tile from a save player map
    unless  foggedborders is on. Set it during the player map repair
    phase of the savegame loading.
    
    See hrm Bug #879084

commit 47b54cf5befdec7e2d7743e2673283d6aea10026
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 11:07:22 2020 +0200

    Obligatory no "Paradrop Unit" peace invasion.
    
    Make the rule that the player can't use "Paradrop Unit" to move a unit into
    the territory of a player he has peace with an obligatory hard requirement.
    
    See hrm Feature #879085

commit 1286e948d090b5c4ba26d90ece94e3ad7216a577
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 23 13:50:11 2020 +0200

    Shorten auto_settlers_speculate_can_act_at().
    
    Prepare the function auto_settlers_speculate_can_act_at() for replacement
    by something that takes action rather than activity by having it use
    actions rather than activities internally.
    
    See hrm Feature #879062

commit 5b8dfc9563dbe277c772091c730f6af3bb94761e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 14:38:37 2020 +0200

    Comment English fix

commit 0c86c14df246736e227f05e5db1c7c0cb330c34c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 23 15:48:42 2020 +0200

    Meta knowledge for Activity requirements.
    
    See hrm Feature #878873

commit 9d701de08cae244777c663b2bf27fc98db1c4fa1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 23 09:10:39 2020 +0200

    Obligatory hard requirements: support "or".
    
    Make it possible to specify fall back requirements. An obligatory hard
    requirement is considered fulfilled if the action enabler fulfills any
    of the alternative requirements. This makes it a bit less strict.
    
    See hrm Feature #878845

commit 99fcba85b2fdf42fd1cbd357997658cbbacc89aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 23 06:02:37 2020 +0200

    Remove unused obligatory req functions.
    
    The functions action_enabler_obligatory_reqs_missing and
    action_enabler_obligatory_reqs_add() aren't in use any more.
    
    See hrm Feature #878840

commit eb52e173f3d0a5ddada64f8deedde44250e20aa8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:36:27 2020 +0200

    rscompat: upgrade enablers with req_vec_problem.
    
    Use req_vec_problem to add missing hard obligatory requirements to
    action enablers during ruleset upgrade.
    
    See hrm Feature #878829

commit 4a98d0f3959e1cdbaa7f7a011fb9d3e45e4d354b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:34:48 2020 +0200

    ruledit: allow rejecting enabler repairs.
    
    Show the user the individual problems and steps performed to repair an
    action enabler. Allow him to reject them and try to fix the enabler by
    hand.
    
    See hrm Feature #877674

commit 28322d10148de69be553ad0a8416ca4ac1dc670e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 22 22:33:08 2020 +0200

    ruledit: introduce req_vec_fix.
    
    Introduce a generic requirement vector fixer dialog. It shows the user
    problems and allows him to pick the solution if more than one alternative
    is presented.
    
    See hrm Feature #878659

commit bc8ffbaa3690245730b44df5d0ca899fa112d793
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 22 14:46:01 2020 +0200

    Introduce req_vec_change_translation().
    
    See hrm Feature #878586

commit 3b70eec4ed080ca50b8fa4e91e46bd1634ca7e4c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:03:53 2020 +0200

    Translate requirement vector problems...
    
    ...so ruledit can display the texts.
    
    See hrm Feature #877715

commit d733e11b8666d53d9951131e87ef5c742f617370
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 18 11:06:11 2020 +0200

    Simplify need_war_player().
    
    Unify the handling of tile targeted actions with the handling of other
    actions. The criteria for a perceived need for war is now the same for all
    actions. The criteria is that the action is illegal under the current
    diplomatic state but would be legal during war. No checks if another
    diplomatic state than war and the current state would allow the action are
    done. That could be done later in a check for non war diplomatic states.
    
    Bombard and Attack are both unit stack targeted. Per unit war requirements
    are therefore handled by the action enabler. Drop custom check.
    
    See hrm Feature #878193

commit ad85c63ab81bf2a2cf4999fb207d3bcc13d3af9e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 18 09:06:10 2020 +0200

    handle_unit_action_query() by action result.
    
    What additional information is given currently depends on action result
    only. Should other action properties be considered later they should be
    checked by action, not by hard coded action id.
    
    See hrm Feature #878173

commit e4590881521c834af9405367d0fb4285d3c3eb5d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:36:04 2020 +0200

    rssanity: check enablers with req_vec_problem.
    
    Replace the old missing hard obligatory requirements chek with a call to
    action_enabler_suggest_a_fix().
    
    See hrm Feature #878153

commit 2edd14778121e68f6684751912f7ddd330cde1e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 06:24:10 2020 +0300

    meson-winbuild.sh: Setup PKG_CONFIG_PATH
    
    See hrm Feature #874756
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 781cdfa6549b2904994e01cfb8612ae4b60b8b2a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 18 10:04:57 2020 +0200

    expl_act_not_enabl(): fix ACTION_ANY segfault.
    
    Fix hrm Feature #878173 by prevention a segfault when the action is
    unspecified.
    
    See hrm Bug #878181

commit 5b431ecc9d37009eb71be6c6b37ce20f9ba9ea1f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 17:10:09 2020 +0200

    Remove tile target specific foreign explanation.
    
    The normal action not enabled explanation because the target is foreign
    works for tile targets too once hrm Bug #877844 is fixed.
    
    See hrm Feature #877868

commit 8e3156d9a8cb531f1f3a44323a659ca713e3e02f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 16:47:36 2020 +0200

    Modernize expl_act_not_enabl().
    
    * custom feed back by action result rather than by action id
    * pass action rather than action id to functions with an action variant
    * use the action where it is natural to do so
    
    See hrm Feature #877864

commit b0c03248a8e649a0747ca794bb9bdc132c04b4a1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 16:27:10 2020 +0200

    Optimize city_can_be_built_here()
    
    Use cached value in can_utype_do_act_if_tgt_diplrel() rather than looking
    through the action enablers each time a check is needed.
    
    See hrm Feature #877856

commit 58b1d2bb39307e8b5ad55855ebb02ab688c61097
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 14:13:44 2020 +0200

    action_hard_reqs_actor(): actor_city must exist.
    
    Check that actor city exists before checking if it fulfills "Airlift Unit"'s
    hard actor city requirements. action_hard_reqs_actor() is called before any
    action enablers are checked.
    
    See hrm Bug #877827

commit 6b2a77169db22e81fa09c96211a565320daee060
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 20:01:13 2020 +0200

    Do not close action lists by hand.
    
    Use action_list_end() to close the action lists in
    auto_settlers_ruleset_init().
    
    See hrm Feature #877847

commit a4630e795f8b69c4235cf1b3f604e0984ea7b435
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 14:28:57 2020 +0200

    utype action diplrel cache: no relation to nature
    
    Local diplomatic state requirements for tile targeted actions are evaluated
    against the tile owner. This makes local diplomatic requirements unfulfilled
    against unclaimed tiles. An action enabler that requires that the target
    tile is unclaimed will therefore never be active under diplomatic states.
    
    See hrm Bug #877844

commit 8874f21e9b29d258b7a36a02e6388ce0a063a871
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 13:28:15 2020 +0200

    Unit action cache setters: reduce duplication.
    
    Loop over whether the requirement is present or not rather than
    duplicating it.
    
    See hrm Feature #877835

commit 2f27b4bbe8dd2e9a91ef9c7a7d23c250d017896a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 13:13:38 2020 +0200

    need_war_player() by action result.
    
    The special war requirements applies to all actions with the same result.
    
    See hrm Feature #877812

commit 6943e552caf0d4dcc9ee2367b51210874bbbf79c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 12:56:21 2020 +0200

    Drop hostile as an action property.
    
    If an action is hostile or not determines how agents and utilities like
    path finding reacts to it, not what the rules actually are. If an action
    is hostile or not is a matter of interpretation. This interpretation
    should probably care about many action properties.
    
    Move it out of the way for now.
    
    See hrm Feature #877798

commit 9e03f2695842763fabac0a982cfcbd6e3e82607f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 10:35:44 2020 +0200

    Move CanFortify and Cant_Fortify to the ruleset.
    
    See hrm Feature #877577

commit d3f14dabac67a4218a42ce1f705929b6e151b5fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 10:13:46 2020 +0200

    helpdata: consider Fortify_Defense_Bonus.
    
    The bonus a unit gets from fortifying is now controlled by the
    Fortify_Defense_Bonus effect. If it can fortify at all is controlled by
    enablers for the Fortify action.
    
    Get the fortify bonus from the effect. Move the information about what
    happens in the Fortified unit state to the documentation of the Fortify
    action.
    
    The new code can't detect as much as it could before the
    Fortify_Defense_Bonus effect was added.
    
    See hrm Bug #877782

commit a70327afb4d4e6cd4f72c94a43b4784452d54b4c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 09:40:10 2020 +0200

    universal_fulfills_requirement: support CityTile.
    
    Add a universal_found_function for tile properties.
    
    See hrm Feature #877780

commit 941e36ac2a52fadf6e9054d3512c13f1a27abd61
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 09:23:52 2020 +0200

    universal_fulfills_requirement: support Activity.
    
    Add a universal_found_function for unit activities.
    
    See hrm Feature #877779

commit 68c803540329f20ded9fd55b77c8f7c035e112bb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 11:54:42 2020 +0200

    Simplify auto_settlers_speculate_can_act_at().
    
    The special checks are redundant. That are done in the
    action_speculate_*() functions too.
    
    See hrm Feature #877755

commit de5507b969e9b9841a98c4b661522b87d66c8bfa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 14:21:38 2020 +0200

    requirement_vector_contradiction_clean(): port.
    
    Port requirement_vector_contradiction_clean() to use
    req_vec_get_first_contradiction() and req_vec_change_apply() internally.
    
    See hrm Feature #877702

commit 4742bc64e961c30136bb05cb0b337fe7f87fba95
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 21:22:14 2020 +0200

    rulesave: respect disabled enablers.
    
    Respect ruledit's disabled property when saving action enablers.
    
    See hrm Bug #877742

commit b425da5a8e3b4f293d7279b8092c9ec01a31e62f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 19:31:36 2020 +0200

    Central action enabler deallocator.
    
    Introduce action_enabler_free(). Use it in actions_free().
    
    See hrm Feature #877731

commit eb47529dac7bedee08b035d7150b49222aac1002
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:21:50 2020 +0200

    Fix unterminated character constant warning
    
    while generating freeciv-core.pot
    
    See hrm Bug #877727

commit 98bc408986abd72b24eb8b6162e5e9fac4608261
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 17:02:58 2020 +0200

    Mark requirement vector problems for translation.
    
    See hrm Feature #877720

commit 1ec78a3f5faab4dbdb1903cd238fe2339d2fa455
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 14:52:44 2020 +0200

    Interactive friendly enabler changing.
    
    Add functions to the actions module that makes it easier to suggest changes
    to action enabler to the user in an interactive environment like ruledit.
    
    See hrm Feature #877704

commit 3cfa5599af5c0816f406dbc3e21e3aab9f842588
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 14:17:49 2020 +0200

    sanity_check_req_vec(): standard contra detect.
    
    Use req_vec_get_first_contradiction() to detect requirement vector self
    contradictions during sanity checks.
    
    See hrm Feature #877701

commit 1ae47278cb24cef78b77aa9f550276c7fe19c3a1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 12:31:03 2020 +0200

    Interactive friendly requirement vector change.
    
    Add functions and data structures to the requirements module that makes it
    easier to suggest changes to requirement vectors to the user in an
    interactive environment like ruledit.
    
    See hrm Feature #877692

commit b6959c47825b81bfa9c0ecef627e2bcdeb945e0b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 09:51:55 2020 +0200

    ruledit: split enabler repair from action change.
    
    A user may wish to repair an action enabler broken outside of switching its
    action or to switch action and repair the enabler by hand.
    
    See hrm Feature #877669

commit 9da39d52c7e56971c802ef7bdf0fb3ba954173f9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 09:23:26 2020 +0200

    ruledit: can't edit non selected enabler.
    
    Don't offer to delete, to change the action type or to edit the requirements
    of the currently selected action enabler when no enabler is selected.
    
    See hrm Feature #877662

commit 98af429680f50f88611cfc576e50edd3a28fa369
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 00:43:08 2020 +0200

    rscompat: assert enough free user flags.
    
    Assert that no user flag spot not added in the current version is spent.
    That would make old rulesets that used all user flag spots impossible to
    upgrade.
    
    See hrm Feature #877576

commit 19e44fd2a405d8b090d1f12fabb26afd2ea65ef3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 20:43:27 2020 +0200

    find_something_to_kill(): simpler build to chase.
    
    A civilian that can perform a hostile action doesn't count as a civilian.
    
    See hrm Feature #877541

commit ec49940db38b70f38a5d19873c05de8bca53baf4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 00:03:50 2020 +0200

    Make in city hard req obligatory.
    
    The action "Airlift Unit" has a hard requirement that the actor must be
    in a city. Make it visible.
    
    See hrm Feature #877574

commit 9a9fd3f733249ec282bee74ae1a45c200c9d6c69
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 16:26:20 2020 +0200

    Path finding hack by action result.
    
    See hrm Feature #877563

commit 509f204f8023e78d68c748fa1ea409a6811c9131
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 15:49:54 2020 +0200

    Qt client: detect sea and air by action result.
    
    Have city_production_delegate::paint() check what actions a unit can do by
    their action results.
    
    See hrm Feature #877560

commit bc6d83909b4adedab461e02c9a10380628c0aeb9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 15:47:57 2020 +0200

    Intoduce utype_is_consumed_by_action_result().
    
    See hrm Feature #877558

commit 1fd810fccd081e34c26532c74ebe6ce9182d3759
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 15:37:23 2020 +0200

    requirements module: take req_vec_wants_type().
    
    It may be useful elsewhere too.
    
    See hrm Feature #877556

commit 73a138d7add6118ce4681b3bba9017540e9dfb91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 10:14:11 2020 +0200

    get_fortified_defense_power() by action result.
    
    See hrm Feature #877545

commit a22dcb2e1a1cfc73bbd698abea576b6da95edf7b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 09:31:01 2020 +0200

    Make not fortified hard req obligatory.
    
    The action "Fortify" has a hard requirement that the actor can't already
    be fortified. Make it visible.
    
    See hrm Feature #877543

commit 4c8bb242b28ec598501f05cdd5d81399f3fd1785
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 07:44:00 2020 +0200

    can_attack_non_native(): consider actions.
    
    A unit may be unable to perform an attack action because no action enabler
    enables it even if at has a non zero attack.
    
    See hrm Bug #877542

commit edbe26097d72087b273a5a32796a7f75803f7acc
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon May 25 05:51:52 2020 +0300

    Integer calculation of diagonal move cost
    
    See HRM#868646
    
    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit bd5e1d57bc9f6734910d6ed468867868399c4882
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 11 11:13:00 2020 +0300

    Update msys2 environment to 200610 level
    
    See hrm Feature #874451
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11bff5e2a6f56e4282d9f118f363db7407dd9bd4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 20:56:28 2020 +0200

    is_action_possible(): omniscient sees all.
    
    Make the checks for "Spy Attack" respect omniscient.
    
    See hrm Bug #877508

commit 7969022a435f03f9fe024269842ded284963fbd7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 20:31:45 2020 +0200

    action_target_neg_util(): use action result.
    
    See hrm Feature #877504

commit 32c1377bcb902f645aeba61551629b940f9a070b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 18:34:43 2020 +0200

    Move NoFortify to the ruleset.
    
    Soft code the rule that a unit can't fortify on terrain with the NoFortify
    terrain flag unless it has a city.
    
    See hrm Feature #877498

commit 8672f9702e1257471958622329e541ab04fe9ae4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 18:04:53 2020 +0200

    Increase the number of user terrain flags to 10.
    
    See hrm Feature #877497

commit 9453b4c4a561633df32b8aa76f56da0bbd6dfb15
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 16:20:29 2020 +0200

    Make home city hard req obligatory.
    
    The actions "Establish Trade Route" and "Enter Marketplace" has a hard
    requirement that the actor unit has a home city. Make it visible.
    
    See hrm Feature #877487

commit c1e8c565771c8587b58e98e641a9937ee0790e6f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 15:48:11 2020 +0200

    Make no existing embassy hard req obligatory.
    
    The actions "Establish Embassy" and "Establish Embassy Stay" has a hard
    requirement that the actor can't have a real embassy to the target already.
    Make it visible.
    
    See hrm Feature #877481

commit 28a9e621734c71467ef2b950211c20fc439dc4da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 14:44:19 2020 +0200

    is_attack_unit(): consider actions.
    
    A unit may be unable to perform an attack action because no action enabler
    enables it even if at has a non zero attack.
    
    See hrm Bug #877476

commit d8212547496c587dfd252684e413dd197f431320
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 14:37:02 2020 +0200

    utype_is_cityfounder() by action result.
    
    See hrm Feature #877475

commit 3bac8361cd94257c8ff835aca446a5928e252c3e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 12:49:44 2020 +0200

    pf_tools: shorten spy action detection.
    
    Identify spy actions with aia_utype_is_considered_spy() in
    pft_enable_default_actions().
    
    See hrm Feature #877469

commit 4f42030823cb00dafe0335baeeb796d28c257930
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 12:08:14 2020 +0200

    Caravan classification to aiactions.
    
    Factor out classification of unit type as a Caravan based on the actions it
    can perform to the new functions aia_utype_is_considered_caravan_trade()
    and aia_utype_is_considered_caravan().
    
    See hrm Feature #877466

commit c9cc3cbbfb709008bcd7e93b9d121910d4cf92b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 11:59:50 2020 +0200

    Worker classification to aiactions.
    
    Factor out classification of unit type as a Worker based on the actions it
    can perform to the new function aia_utype_is_considered_worker().
    
    See hrm Feature #877464

commit 94e9a5ec5b01c89d00de48b94edb5366092d97d6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 11:13:20 2020 +0200

    Introduce the aiactions module.
    
    Certain reasoning about actions are interesting to path finding and other
    aicore stuff, not just the built in AI modules.
    
    Introduce aiactions. Factor out classification of unit type as a Spy based
    on the actions it can perform to the new functions
    aia_utype_is_considered_spy_vs_city() and aia_utype_is_considered_spy().
    
    See hrm Feature #877462

commit 798443b7ce89db3c2dce3dd819f150ac017a7352
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 13:42:51 2020 +0300

    Fix api_game_methods.c return types
    
    Several functions in api_game_methods.c were returning
    in LUASCRIPT_CHECK_STATE() failure cases returning wrong type
    of value. Non-pointer functions were returning NULL, and non-boolean
    functions returning FALSE.
    
    See hrm Bug #871688
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f5aad1b8cc6d2fea720e260f8c47944b696f32e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 7 23:44:17 2020 +0100

    sandbox: demonstrate "Spread Plague".
    
    See hrm Feature #859160

commit c67cb82f51ef5034cc361738ab8ae74946374262
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 14:49:03 2020 +0200

    sandox: adjust illness_trade_infection
    
    Adjust sandox's probability of plague from trade to compensate for it having
    half the amount of possible trade routes compared to experimental.
    
    See hrm Feature #877397

commit a8e4353a2c571b448c1a8307dc4cf619c1c70552
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 20:43:45 2020 +0200

    Declare "Pillage" a hostile action.
    
    Freeciv keeps track of if an action should be considered hostile for use by
    internal reasoning like path finding, AI and auto settlers. Declare
    "Pillage" to be a hostile action.
    
    See hrm Feature #877390

commit 98b8b1e2e7e9cb2b57d0d6b05fa7ec47000b1e35
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 13:00:13 2020 +0200

    city_can_be_built_here(): check unit can found.
    
    Check that a unit passed to city_can_be_built_here() really can perform
    "Found City". Almost all units, non city founder included, are capable of
    performing some action.
    
    See hrm Bug #877385

commit ed7a20ac9c40e431e88c3ec15f008c92b854dd90
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 23:13:16 2020 +0200

    dai_upgrade_units() by action result.
    
    See hrm Feature #877391

commit 819d35417d2fce9c8ac3cc2fe08d25e3d2f0c24b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 12:00:06 2020 +0200

    city_can_be_built_here(): use action result.
    
    Prepare for a world with more than one city founding action.
    
    See hrm Feature #877382

commit fe0dc144d29be0417d4681cf5590ac89794f24b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 10:47:17 2020 +0200

    Get rid of the enum city_build_result.
    
    Make the function city_build_here_test() about the tile alone and rename it
    city_can_be_built_tile_only(). Move unit checks to city_can_be_built_here().
    
    See hrm Feature #877376

commit 4be807a5bca5b04fe6b06ae246c23ba16499377a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 09:34:17 2020 +0200

    Simplify handle_city_name_suggestion_req().
    
    All errors are forwarded to illegal_action_msg().
    
    See hrm Feature #877370

commit 185d9a9e0331d5e699d6ef6b0ac0f9d94c3ad1ec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 09:16:31 2020 +0200

    expl_act_not_enabl(): direct citymindist detect.
    
    Have the action not enabled explanation for "Found City" use
    citymindist_prevents_city_on_tile() rather than city_build_here_test().
    
    See hrm Feature #877369

commit 6e6ed6505ae98be12ec6a1f82077bbb6cbd8b331
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 08:56:06 2020 +0200

    is_action_possible(): simplify "Found City".
    
    Stop using city_build_here_test() in is_action_possible(). With the
    requirements of absence of the NoCities terrain flag on the target terrain
    is added to the action enabler only one check from city_build_here_test()
    is needed. Factor it out to citymindist_prevents_city_on_tile() and use it
    directly.
    
    See hrm Feature #877366

commit 010ee13f21392f5a865fe2212f87f0a86d8540a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 23:13:40 2020 +0300

    Correct "Conquer City" ui_name format string
    
    Reported by Igx, The Dreaming Drummer
    
    See hrm Bug #874809
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f708a8c38be174b82cef5a8eff8f6f6f6f82b5be
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 20:43:09 2020 +0200

    ai: assess_danger(): simplify harmless check.
    
    City conquest and unit attacking are hostile actions. A "civilian" than
    can do hostile actions isn't harmless.
    
    See hrm Feature #877325

commit 4cc63a8109570f0c20376afb4a40f8580035a83d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 10 11:18:44 2020 +0200

    Update city_production_gets_caravan_shields().
    
    3.0 allows non wonder city production to receive shields from the
    "Help Wonder" action. Make city_production_gets_caravan_shields()
    aware of this.
    
    See hrm Bug #877250

commit 960f8de5551be541b6924a976558a75c398668aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 10 01:14:52 2020 +0200

    Make the no NoCities flag hard req obligatory.
    
    The action "Found City" has a hard requirement that the target tile can't
    have the NoCities terrain flag. Make it visible.
    
    See hrm Feature #877190

commit 8ed128983f69efccba46da8350d819a4ce17e74e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 10 00:12:18 2020 +0200

    Explain illegal because peace with target tile.
    
    Have the action not enabled explanation system detect when an action is
    illegal because the target tile is foreign and the actor isn't at war with
    its owner.
    
    Example: Webperimental allows founding a city on an unclaimed tile or on
    an enemy tile.
    
    See hrm Feature #877189

commit 52cca5e2af6ce23d0d98631c0f9412d500e6dd03
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 23:28:04 2020 +0200

    Explain illegal because foreign target tile.
    
    Action not enabled explanation for when an action is illegal because the
    target tile is foreign for all tile targeted actions.
    
    See hrm Feature #877187

commit c7ea93d4004f32a452c9bacb7cb546ae6c43c1ef
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 15:31:47 2020 +0200

    Action reasoning API clean up.
    
    Rename univs_have_action_enabler() to action_univs_not_blocking(),
    move it to the action reasoning section of the header and have it
    take its action parameter as an action rather than as an action id.
    
    Remove action_blocked_by_situation_act() and
    action_blocked_by_situation_tgt(). Their intended use cases - if I
    remember correctly - can be covered by action_univs_not_blocking().
    
    See hrm Feature #877184

commit bc7f0050261d1677bca336178473fea7702fcdc0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 19:33:30 2020 +0200

    advdata: worry about nukes by action result.
    
    See hrm Feature #877182

commit b9fced8507bd4d69a262ad61ddc2c95bdf21ee10
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 19:02:01 2020 +0200

    Find Manhattan nuke actions by result.
    
    Find nuclear actions that adds the Manhattan project to the actor unit's
    build requirements by action result.
    
    See hrm Feature #877181

commit 8844dcffcbab5a653949b2fc7fde39f9feae97f9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 18:46:10 2020 +0200

    Introduce action_list_end().
    
    See hrm Feature #877180

commit 4bca13fd06253f1f7c4d871b9f0cf315e6c59d62
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 17:15:33 2020 +0200

    helpdata: can convert to by action result.
    
    Document that a unit type can be obtained by conversion of another unit type
    by action result.
    
    See hrm Feature #877171

commit 19c4fb60a053f287fa0dc19d8e2641d6ca2db541
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 17:05:20 2020 +0200

    helpdata: pillages extra in action help.
    
    Mention what extras the extra pillaging action can target under the action's
    section in a unit's help text.
    
    See hrm Feature #877170

commit 55f76caece55b39b439c6818b969872350c30f81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 16:56:42 2020 +0200

    helpdata: cleans extra in action help.
    
    Mention what extras the extra cleaning actions cleans under the action's
    section in a unit's help text.
    
    Delete the action independent mention from the unit's help text.
    
    See hrm Feature #877168

commit acc738fd4c57eadb0bd5248ad913ef042622371b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 16:50:30 2020 +0200

    helpdata: builds extra in action help
    
    Mention what extras the extra creation actions builds under the action's
    section in a unit's help text.
    
    Delete the action independent mention from the unit's help text.
    
    See hrm Feature #877166

commit 25cc3b8e8a8f5d8f6f3fedacdbdab7b4139c09b0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 15:51:17 2020 +0200

    helpdata: converts terrain in action help.
    
    Mention that the terrain conversion actions changes a terrain's type under
    the action's section in a unit's help text.
    
    Delete the action independent mention from the unit's help text.
    
    See hrm Feature #877163

commit 07b3ebb8ec6c3b8a24df2d886012de408b0c3357
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 15:46:00 2020 +0200

    helpdata: custom action help by result.
    
    The additional information given about an action is about its result.
    
    See hrm Feature #877162

commit 08a3b524de37ef9a0a23a1a478f8f1825a6f56ef
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 14:02:36 2020 +0200

    tilespec: centralize server side agent drawing.
    
    Always select a unit's server side agent control indicator sprite in the
    same switch statement.
    
    See hrm Feature #877151

commit d86788e45f6dcd10ec2b7b274294ae3dc5406e25
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 30 16:50:11 2017 +0200

    Won't body guard by action (result).
    
    A civilian may still have no attack capability.
    
    See hrm Feature #877147

commit 7b6296fe952c9f1cc2b4008e0100cb54c1fd51db
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 14:32:35 2020 +0200

    Act sub tgt checkers: take action param as action
    
    Have the action target complexity checker functions action_requires_details()
    and action_has_complex_target() take the action parameter as an action rather
    than as an action id.
    
    See hrm Feature #877145

commit 5d608c46346f3dd68ebfca8bafffed601dcbbb37
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 11:06:34 2020 +0200

    Qt client: Go to and... sub target support.
    
    See hrm Feature #877098

commit 1299007e88638809a875f2cfe3cdebf966e501ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 17:03:49 2020 +0200

    ai *_tile_worker_task_select(): keep action.
    
    Represent the extra removal / creation actions as action rather than as
    activities.
    
    See hrm Feature #876962

commit 023b77d493b697b54015fc3e5509067780d8fb3c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 16:47:29 2020 +0200

    is_extra_*_by_action(): take action as action.
    
    Have is_extra_caused_by_action() and is_extra_removed_by_action() take
    their action parameter as an action rather than as an activity.
    
    See hrm Feature #876960

commit c2ec47481c51ea92f6a13ac6e830ea772f5d6082
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 15:51:03 2020 +0200

    autosettlers: fill action lists by action result.
    
    Fill the lists of actions for terrain transformation, extra creation and
    extra removal based on the action result rather than with hard coded action
    numbers.
    
    See hrm Feature #876952

commit 2f29770d8115128fe60d2d1d26471fcc22d47a78
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 15:50:12 2020 +0200

    Introduce action_list_add_all_by_result().
    
    See hrm Feature #876949

commit 397f4880ea5697698143bd4b86de4131b0af54d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 11:25:17 2020 +0200

    autosettlers: rmextra by action, not by activity.
    
    Iterate over actions that can remove an extra as actions rather than as
    activities. This makes it like the other similar iterations that iterates
    over actions.
    
    See hrm Feature #876935

commit 86f9545c349a02a218e87900628fe8fb6d3c3c91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 10:41:11 2020 +0200

    activity time getters: const extra parameter.
    
    See hrm Feature #876909

commit 823ba253b1852addf57e354ce2cd7afbbdbb28e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 09:22:50 2020 +0200

    action_prob(): custom prob by action result.
    
    The action specific probability is actually action result specific.
    
    See hrm Feature #876898

commit e524c11c369a610d2d861340c44cec8634e6d666
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 08:48:09 2020 +0200

    Perform actions by result.
    
    Call action performer by the action's result in unit_perform_action()
    rather than hard coding the action performer for each action id.
    
    See hrm Feature #876893

commit 205355b7497348afdd8d08bbd259e7226a962fec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 21:51:56 2020 +0200

    Auto explore is a server side agent.
    
    Put Autoexplore under the general server side agent control system.
    
    See hrm Feature #876885

commit 7033c3a61361939d7fa39a3b233fcece95ad7863
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 01:42:12 2020 +0200

    handle_unit_server_side_agent_set(): generalize.
    
    Prepare handle_unit_server_side_agent_set() for non auto settler server side
    agents. Factor out unit_server_side_agent_set() so server side AI can avoid
    the having its unit's plans cleared.
    
    See hrm Feature #876879

commit 45e653061d93f98401d5b8c283969a46bf8924a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 19:59:02 2020 +0200

    client: clear SSA when ordered to perform action.
    
    The client takes back control from any server side agent controlling a unit
    when it orders it to change activity or changes its orders. Be consistent
    and do the same for orders given via the action selection dialog.
    
    See hrm Feature #876854

commit 70d532ead1c5360bac4b87dc1e9ed0a49b6a33ba
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 20:35:02 2020 +0200

    Remove unit order no SSA side effect.
    
    Make taking back control from a server side agent on unit order change
    explicit rather than implicit.
    
    See hrm Feature #876853

commit 7626094445917cd0f47ff468b576a22cbda2ad81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 19:47:46 2020 +0200

    Remove unit activity change no SSA side effect.
    
    Make taking back control from a server side agent on unit activity change
    explicit rather than implicit.
    
    See hrm Feature #876842

commit 34bf2665998791de27fcb965c307039607e4dc46
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 20:15:08 2020 +0200

    Introduce request_unit_ssa_set().
    
    See hrm Feature #876850

commit ac84b0b67ab3524c4f6a354fcd23176d51777dd1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 19:02:53 2020 +0200

    Don't send unit_change_activity directly.
    
    Make request_unit_load() and request_unit_unload() use
    request_new_unit_activity_targeted() rather than sending
    packet_unit_change_activity directly.
    
    This allows request_new_unit_activity_targeted() to intercept their request.
    
    See hrm Feature #876839

commit feb0ce16c23f51bcae70d4ed160745a3c68ae50d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 11:12:44 2020 +0200

    unit_order_list_is_sane(): remove redundant check
    
    No activity unit order with a sub target remains.
    
    See hrm Feature #876808

commit edfd70388ef0c6ab6945b26265559e411194b0ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 12:55:51 2020 +0200

    upgrade_unit_order_targets(): fix action orders.
    
    A 3.0 action unit order that can appear in the middle of a unit's orders may
    move the actor unit to the target tile or have the actor unit remain at its
    current tile.
    
    See hrm Bug #876807

commit 4e7c5a701ab762f15728b4ffda7bf98ff149389d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 22:48:42 2020 +0200

    Comment fact fix

commit 32ad299efcf20c864894c2d275a0a4b81f2c8f76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 10:43:13 2020 +0200

    Fix outdated unit_order field descriptions.

commit 28f4c1c0807d55aadd1337b2621b95f5e03c9693
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 17:02:15 2020 +0200

    clients: support long ranged "Go to and..."
    
    Make it possible to specify a distant target tile for the action of a goto
    unit order by creating a normal path to the tile the actor unit should act
    from - possibly including waypoints - and pressing 'd' before selecting the
    target tile.
    
    This could later be extended to allow long range actions like Airlift in the
    middle of a path by having the user press 'd' again rather than clicking on
    the tile to select the target and then continue.
    
    See hrm Feature #876450

commit 17d0b280ffdfebf5e13278c5d089fd4c0b90a7e5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 14:16:09 2020 +0200

    Remove backward compatibility from savegame*.
    
    Target assignment to a unit's current activity has lived in savegame3 and
    its ancestors for a long time. With post load save game compatibility it can
    move there without breaking save games that used to load in previous
    versions.
    
    See hrm Feature #876410

commit 963dde5041a2a91de1279a1a169c20f542937529
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 13:52:55 2020 +0200

    Dev save compat: rename "Road" to "Build Road".
    
    The action "Road" was renamed to "Build Road" in hrm Bug #851695. Update
    stored action list in development version save games.
    
    See hrm Feature #876406

commit 074005d0aa8d5eb0fe6be7970783e040750f697a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 12:07:45 2020 +0200

    upgrade_unit_order_targets(): upgrade all orders.
    
    unit_order_list_is_sane() expects all orders, executed or not, to be sane.
    
    See hrm Bug #876394

commit 5cb68b00ab4c50778ee6a03d4af2c16326263d28
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 23:18:23 2020 +0200

    Unit order execution: deduplicate action/activity
    
    Don't accept activity orders where an action order would do the same job.
    Simplify execute_orders(). Upgrade save games.
    
    See hrm Feature #876382

commit 5b2e20161d146f34f22606bc745640dad17c0140
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 13:30:05 2020 +0200

    Fix dev compat for unit action order targets.
    
    The call to upgrade_unit_order_targets() should have been called in
    compat_post_load_dev() but it somehow ended up in compat_load_dev().
    
    See hrm Bug #876401

commit d1d6761d48d15d86d21408248723dc46b7100a81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 09:33:54 2020 +0200

    Action server side sub target assignment.
    
    Assign a sub target for actions with a flexible target complexity.
    
    See hrm Feature #876377

commit 86bee177637737020a3f7b5766ff170122e6f0a3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 22:56:02 2020 +0200

    Sanity check action unit order extra is relevant.
    
    unit_order_list_is_sane() checks that the target extra for extra targeted
    activities are relevant for the activity. Do the same for action orders.
    
    See hrm Feature #876210

commit e6a95a342afa14abc2283fda6a0410db36be36b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 17:25:12 2020 +0200

    dai_incident(): assert that the scope is handled.
    
    See hrm Feature #876181

commit fd0504d0c8b78e6211e31acd973fb891ef87f920
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 20:26:39 2020 +0200

    GTK clients: Go to and... sub target support.
    
    See hrm Feature #876178

commit 381d1e24ed62ba7a8cea4284072d7566ccc0b548
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 20:24:18 2020 +0200

    GTK clients: recursive menu item remover.
    
    See hrm Feature #876177

commit 0a0fae9b427292ee847c3b4f40d8f8fcbb88876d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 15:05:11 2020 +0200

    goto: use action order in connect.
    
    See hrm Feature #876154

commit 034fad1930bc31f0f17a5306a96cfca29524f356
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 15:55:37 2020 +0200

    Fix the activity action performers.
    
    The functions unit_activity_handling() and unit_activity_handling_targeted()
    does the wrong thing for actions. They return TRUE even when the activity
    failed to start. They cancel a unit's orders. This is bad when an action
    appears in the middle of a unit order list.
    
    Split out the parts the action performers can use into static functions.
    Have both the action performers and the unit_activity_handling*() functions
    use them.
    
    See hrm Bug #876152

commit 2f09cef25b0e881045cabf46757640318f228c7c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 15:33:03 2020 +0200

    Use do_action_activity() when no extra target.
    
    Have unit_perform_action() use the correct action performer for non extra
    targeted activity actions. Add assertions to the action performers to make
    sure that the correct one is called in the future.
    
    See hrm Feature #876149

commit 69d7d8289b76f9d769dce2aa3f3c948837fc0422
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 11:45:15 2020 +0200

    Skip accomplished action extra targeted orders.
    
    Unit orders activity skips orders removing a non existing extra or creating
    an existing extra. Do the same for action unit orders.
    
    See hrm Feature #876126

commit a94f32e8d2fc16e74641694a582fde3fd8dee20d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 11:28:29 2020 +0200

    Assert that action order has an action.
    
    See hrm Feature #876123

commit 27f2ba715d6e63ac67a502520f0b771f58a4d9ab
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 13:01:27 2020 +0200

    Centralize utype can target extra checks.
    
    Introduce utype_can_create_extra() and utype_can_remove_extra(). Use them in
    the GTK clients' action selection dialog's target extra selection dialog.
    
    See hrm Feature #876117

commit bae7a1ad9f99ef5c56d1dbc0465461aaadf43cd8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 11:44:35 2020 +0200

    Action creates/removes extra checker functions.
    
    Introduce the new functions action_creates_extra() and
    action_removes_extra().
    
    See hrm Feature #876098

commit d3568ce2894ec974867a70182c78c103be9ec443
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 26 12:11:41 2018 +0200

    order_recursive_roads(): check for existing road.
    
    There is no need to order a road that already is there built.
    
    See hrm Feature #876088

commit 53587a0afdd8d8ac5675339a0774e6be98dabecd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 13:14:33 2020 +0200

    Unit order: support long range action targets.
    
    Set the target tile as the explicit target of each action. The target is
    still selected at order execution time. This is needed for backwards
    compatibility: existing orders may order a Settler to go and join a city
    that don't exits yet.
    
    See hrm Feature #876017

commit 722b51bddfc1b30a492cc7eb9c58eb2c4b067138
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 2 08:25:25 2020 +0200

    Make move to ally without questions possible.
    
    Introduce the new client setting popup_last_move_to_allied. If disabled
    the client will do a regular move into an allied unit or unit stack
    without popping up the action selection dialog even if it can act
    against it.
    
    See hrm Feature #875939

commit 8dab4d8383582fbeb3ea53599f369b66b79b4c97
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 2 07:13:16 2020 +0200

    savegame2: keep bad unit orders unit a bit longer
    
    Move the save game loading sanity check and removal of bad unit orders
    to the end of sg_load_sanitycheck(). This allows them to be rescued by
    adjustments in sg_load_post_load_compat() and sg_load_sanitycheck(). The
    tolerance ends with sg_load_sanitycheck().
    
    This was done for savegame3 in hrm Feature #874189
    
    See hrm Feature #875937

commit 12c046869da4319ae12c07de9fbb4108fd2df05d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 12:27:08 2020 +0200

    Comment clarification for dai_incident_simple()

commit 2831d8cdeea3567c090d9f55449fc8f1655580bf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 23:45:58 2020 +0200

    dai_incident(): differentiate action reaction.
    
    Having your city investigated is not as infuriating as losing it.
    
    The handling of the nuclear actions stays the same. The rest are grouped by
    action result and given a badness score from 1 to 10. A badness score of 2
    is about what "Pillage" used to have. A badness score of 5 is what spy
    actions (and all non handled actions) used to have.
    
    Exceptions to the above is that doing something to a player that causes
    International Outrage doubles the amount of AI love its victim removes and
    that a self targeted action that causes International Outrage removes a
    small amount of AI love.
    
    See hrm Feature #875910

commit 24fea0a839d8659b5e2a803ac43aae8d4329ba9d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 20:39:05 2020 +0200

    dai_incident(): handle international outrage.
    
    Reuse ai love change values that used to be written by the victim to the ai
    love of other players where those existed. Add a value for international
    outrage caused by pillage.
    
    See hrm Feature #875899

commit 68be4d3600b0509b57c4f524f20084851e608d5a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 12:54:08 2020 +0200

    Start unifying server side agent unit control.
    
    An agent is an "AI" that the player gives control over an aspect of the game
    to. The agent then plays on the player's behalf. Some agents, like auto
    settler and auto explore, live in the server.
    
    Standardizing server side agent control allows creating something once and
    getting the benefits for all kinds of server side agents. An example from a
    different domain is how unified action handling allows the auto generated
    "Go to and..." menu.
    
    Introduce the standard server side agent handling by putting auto settler
    under the general server side agent control system.
    
    See hrm Feature #750152

commit 10cd2876e395be45bddb9905cb476ec86eccae56
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 13:26:39 2020 +0200

    savecompat: upgrade dev suicide attack orders.
    
    Upgrade the "Attack" order to "Suicide Attack" in saved unit orders for units
    unable to do Attack in older 3.1 development version save games. Upgrade for
    3.0 save games was done in hrm Bug #874169.
    
    See hrm Feature #875817

commit 86dae9780066ae34c09b579530d5f8e559a89706
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 10:19:00 2020 +0200

    Move legacy set activity functions to savecompat.
    
    The functions set_unit_activity_base() and set_unit_activity_road() are only
    used when loading pre 3.0 save games. Move them to the savecompat module.
    
    See hrm Feature #875804

commit 52e1ccbdb456fe375bf77d2143b5a8b192972930
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 09:34:39 2020 +0200

    ai no bribe handicap by action result.
    
    Make the AI handicap that prevents it from bribing worker and city founder
    units detect who it can't bribe by looking for the action results of settler
    actions.
    
    See hrm Feature #875795

commit daa9e4a8215ea5c49f71d184683cb7a35b761dbb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 08:06:08 2020 +0200

    Coding style: change "char* " to "char *"
    
    See hrm Feature #875775

commit 295f81929b44e610a9c7ec135fbd68ddccd3c6db
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 31 02:09:42 2020 +0200

    Check action hard requirements by action result.
    
    See hrm Feature #875706

commit 3876387cd40f65d209cb8217c27026fe68fa69d7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 31 02:16:37 2020 +0200

    Get action battle kind by action result.
    
    See hrm Feature #875707

commit 93a3ea4e851e05a25f82f4cb0e8590363b9ba917
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 31 01:42:08 2020 +0200

    Government action immunity score by action result
    
    See hrm Feature #875704

commit 31d8337c53789cabddeeab645b9f0654334fd396
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 16:34:38 2020 +0200

    ai: diplomatic incident handling API update.
    
    * Pass action, scope and who the AI controls to the AI.
    * Call each AI's incident handling in call_incident() during international
      outrage. This replaces custom calls to third party AI's for actions
      involving nukes.
    
    See hrm Feature #875573

commit 1291daecab5745ae2d5c8e88307d1e1b29533958
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 30 12:04:00 2020 +0200

    Fix "Help Wonder" and "Recycle Unit" distance.
    
    Documentation for "Help Wonder" and "Recycle Unit" claimed that max distance
    to target was 1 while also mentioning that max distance to target was ruleset
    settable. The last one is correct. I forgot to update the first one in
    Feature #875249
    
    See hrm Bug #875668

commit bf98be7433048fad7d0704374598fd5a3a488c57
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 29 12:27:27 2020 +0000

    Initial odds of action dice roll from result.
    
    Port action_dice_roll_initial_odds() to action_result.
    
    See hrm Feature #875565

commit c527cb73171f3fb1e73b2f00280e07e6bc3b427f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 21:07:12 2020 +0200

    Post activity Casus Belli.
    
    "Pillage" currently triggers the Casus_Belli_Success effect when the activity
    begins. Introduce Casus_Belli_Complete that it can trigger once the Pillage
    is completed.
    
    See hrm Feature #875465

commit c8667653c81860006169bbaa89f765a6371d5924
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 16:04:47 2020 +0200

    action_to_incident(): port to action result.
    
    See hrm Feature #875458

commit 61d070bc933e93b3476e45cd531131803a580543
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 16:59:47 2020 +0200

    Port obligatory enabler reqs to action result.
    
    Obligatory hard requirements for action enablers applies because of the action
    performer or other hard coded assumptions in Freeciv, not because of an
    action's action id number.
    
    See hrm Feature #875445

commit 84941df4fd946e29d834732f2e643c62fa22c6b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 00:12:12 2020 +0200

    helpdata: detect directly if a unit can escape.
    
    Check that a unit can perform an action with a MAK_ESCAPE and survive rather
    than hard coding each action id that permits escape.
    
    See hrm Feature #875452

commit 0c6401a4c7b15acb8bf92ebe40cb0dde0ec59c76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 16:25:11 2020 +0200

    Move the enum casus_belli_range to fc_types.h.
    
    See hrm Feature #875441

commit 872e4d9fdfc760fea037da12a2f481378078ee76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 14:16:52 2020 +0200

    Add the new UnitState property "MovedThisTurn"
    
    Requested by nef at the Freeciv forum.
    
    See hrm Feature #875439

commit 07d3edf9f5513232a32d1372709c1f4af4560afa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 00:22:41 2020 +0200

    utype_can_take_over(): check conquer by result.
    
    See hrm Feature #875314

commit 1e4f4aa281f8e43b55ef255f28a114492505bdaa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 00:01:44 2020 +0200

    ai: check if spy unit by action result.
    
    See hrm Feature #875313

commit 73741ff26ca048dad8b992d01ce8c6057c32d16e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 23:28:25 2020 +0200

    Result utype can do action cache functions.
    
    Introduce unit_can_do_action_result() and utype_can_do_action_result(). They
    are action result versions of unit_can_do_action() and utype_can_do_action().
    
    See hrm Feature #875310

commit a40ed6237a338d9d1a7de5f9098b08d3e793f8fe
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Sep 16 14:10:51 2018 +0200

    Adjust action blocking by action result.
    
    Port the forced action blocking in autoadjust_ruleset_data() to use
    action_result rather than gen_action (action id).
    
    See hrm Feature #875307

commit 85c2c309b0e1bfb6dee9d188731c036bf6b384b0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 20:30:00 2020 +0200

    Split action_result enum from gen_action.
    
    Split new action result data type from the hard coded action ids in the
    gen_action enum. Only use it in action_has_result() for now.
    
    See hrm Feature #875306

commit a3a80549f7f3959d752745d5d47152afa9f99622
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 18:24:23 2020 +0200

    Fix "Help Wonder" help unit remaining text.
    
    3.0 lets a ruleset allow "Help Wonder" to help build a unit. But
    build_points_left() only supported calculating it for buildings. This gave
    a bad remaining/surplus value in "Help Wonder"'s user notification text.
    
    See hrm Bug #875289

commit 1cca0d8d6efb66cbdad40a6b9885fe76a6552da8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 16:06:13 2020 +0200

    New utility action_by_result_iterate().
    
    See hrm Feature #875293

commit 6f1e240345bab6e679e7edf65dfbf2cde25bd0ef
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 10:13:30 2020 +0200

    action: store action result in a separate field.
    
    Fake generalized actions and actions with an escape and a non escape variant
    have the same result. All the differences between them are defined by hard
    coded action data and by the ruleset. Checking action result by action id for
    those means a lot of duplicate code.
    
    Add the field result to the action struct and network packet. Its data type
    is currently gen_action. The type will change as the generalized action work
    continues.
    
    Pick one gen_action value as the result number for each group of actions that
    shares the same result. Make action_has_result() assert that the value
    checked for actually is a result.
    
    Replace multiple calls to action_has_result() that checks for multiple
    actions that has the same result with a single call that checks for the
    result alone.
    
    See hrm Feature #875279

commit 2a781facdd32d7290a76dd2d3003d8bf5fbc028b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 12:25:08 2020 +0200

    "Help Wonder" and "Recycle Unit": rs max distance
    
    Allow the ruleset to set max range for "Help Wonder" and "Recycle Unit".
    
    Doing "Recycle Unit" to an adjacent city was made legal for consistency with
    "Help Wonder" in hrm Feature #644449. Make it possible to get the old rule
    back and potentially make "Help Wonder" consistent with it.
    
    See hrm Feature #875249

commit 972174aba8b96c5d8ba146e2795d568da567dcd5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 08:49:14 2020 +0200

    move cost: separate embark from enter city.
    
    Disembark was separated from leaving port as a part of hrm Feature #848684.
    Keep the move cost the same for both cases.
    
    See hrm Feature #875245

commit 8278782830bfb8791cda00e01997a48561eb84fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 07:35:26 2020 +0200

    Remove unused action enablers.
    
    Remove all action enablers that requires the CanOccupyCity unit class flag
    and unit classes that don't have the CanOccupyCity unit class flag at the
    same time. In alien, civ1 and civ2 the unit class without CanOccupyCity was
    required directly. In civ2civ3, classic, experimental, multiplayer, sandbox
    and webperimental a unit class without CanOccupyCity was required by
    requiring AttFromNonNative - a user unit class flag only given to unit
    classes without CanOccupyCity.
    
    See hrm Feature #875243

commit 0299bd091088088b86329f650f9b20ba0ed85e00
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 11:27:54 2020 +0200

    Clarify can't steal tech while expected.
    
    The code is full of checks by action result that does the same for the
    version of an actions that always spends the unit as for the version that
    doesn't. This makes programmers read the checks if a unit has a chance to
    steal a tech even when expected as one of those. Rewrite it to make it
    clearer.
    
    See hrm Feature #875230

commit 451e63c05b200726637b5d6c7963b8be8cdb9a53
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 26 21:53:36 2020 +0200

    README.actions: mention gold theft effects.
    
    See hrm Feature #875196

commit a860f4a6c2499304ee44e055bec02fa3fd6fea61
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 26 12:42:10 2020 +0200

    Merge help production action performers.
    
    "Help Wonder" and "Recycle Unit" are extremely similar. A feature added to
    the action performer function of one should probably also be added to the
    action performer of the other.
    
    Merge unit_do_recycle() and do_unit_help_build_wonder() to the new function
    unit_do_help_build(). This gives "Recycle Unit" notification of city owner
    when receiving help from another player and Casus_Belli_Success support.
    
    See hrm Feature #875079

commit 1f2e52718d280466407a54d6c4a8a3ffd8616fe5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 22:19:24 2020 +0200

    is_action_possible(): avoid action_id_*()
    
    Use the functions that takes an action directly rather than the macros that
    takes an action id and calls the function with action_by_number(action_id).
    
    See hrm Feature #875057

commit a3e85c7e0cb81c2d0b5470015c22647e1fed3052
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 23:12:31 2020 +0200

    unit_type_upgrade: prepare for an action field.
    
    Even if PACKET_UNIT_TYPE_UPGRADE isn't made a general mechanism for ordering
    all units of a given type to perform an action generalized actions will make
    it need to specify what upgrade unit action the units should perform.
    
    See hrm Feature #875054

commit a9afc35974f274b380f6537512381c45591cc55b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 26 03:42:40 2020 +0200

    Fix "Help Wonder" help unit production text.
    
    The player notification would always try to show the building name of the
    current production. But 3.0 lets a ruleset allow "Help Wonder" to help
    build a unit.
    
    See hrm Bug #875020

commit f825b6a130ebb28586a579718b5be27bb753370c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 23 19:33:02 2020 +0200

    Introduce the Unit_Shield_Value_Pct effect.
    
    Unhardcode that a unit's shield value is reduced by 50% during the action
    "Recycle Unit" and when calculating unit upgrade cost. Make it possible to
    alter the shield value during "Help Wonder" too.
    
    My original plan was to make this a unit type and action only effect. Then I
    saw a request from Akechi on the forum to allow taking hit points into
    consideration when calculating "Recycle Unit" shields. Unit_Shield_Value_Pct
    can therefore take unit state when calculating unit shield value for the
    actions "Help Wonder" and "Recycle Unit".
    
    See hrm Feature #874806

commit db5284a8393bc016272ce25815e433d02f5b7e2e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 18:14:12 2020 +0200

    Action not enabled explain missing gold.
    
    See hrm Feature #874987

commit 95dbf86954e50e161c6ec3485005b077bae74533
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 17:30:40 2020 +0200

    do_unit_upgrade(): remove redundant code.
    
    The action is legal if do_unit_upgrade() is reached. It therefore won't show
    any explanation why the upgrade was illegal. This makes its explanation code
    unused.
    
    See hrm Feature #874986

commit 1e60ca3aeaea5fa801bf061006cffba1a76ebe58
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 15:38:11 2020 +0200

    Pass action to all action performers.
    
    See hrm Feature #874985

commit 888ce4b49591a51f09dae06e3aadcdea1c82bcc0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 16:08:03 2020 +0200

    unit_perform_action(): get activity from action.
    
    See hrm Feature #874984

commit eea246d10967dca61bcb0c6533b30f9842e99455
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 08:00:34 2020 +0300

    Qt: Rename cultivate/plant menu entries depending on target terrain
    
    See hrm Feature #874755
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b3084b107a3813c151ac20d6d3f921d9b4f2cb5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 23 21:45:58 2020 +0200

    README.actions: document Maps_Stolen_Pct.
    
    See hrm Feature #874808

commit ba67ec165a62f2de27068912541ee29b1bd55393
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 23 19:32:45 2020 +0200

    unit_do_recycle(): add action argument.
    
    See hrm Feature #874807

commit f8c35b0df45fa5ff44d84fa28f8be005fc3172e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 21 01:03:22 2020 +0300

    AI: Fix illegal read on EFT_DEFEND_BONUS evaluation with ocean cities
    
    See hrm Bug #874452
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90143ca62eed61a3062aaa03cc6a6cb9af029328
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 22 10:16:38 2020 +0200

    act sel dlg: show shields for "Recycle Unit".
    
    See hrm Feature #874646

commit bb4a62fd3cd1e0079d09d923738e3ad21f3bbc0a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 22 11:47:10 2020 +0200

    act sel dlg: fix shields text for unit production
    
    3.0 lets a ruleset allow "Help Wonder" to help building a unit.
    
    See hrm Bug #874648

commit 4b56e6f1ff21c2122e55dcbf12cfa7c0520ae72d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 22 09:10:22 2020 +0200

    Standardize extra action selection dialog info.
    
    The additional details that appears next to the probability of success on the
    action selection dialog buttons gives action specific information.
    
    The Qt client and the GTK clients used to show remaining shields of the
    current production for "Help Wonder". The SDL 2 client used to show estimated
    recurring revenue for "Establish Trade Route" and estimated one time bonus
    for "Establish Trade Route" and "Enter Marketplace".
    
    Have them all show everything.
    
    See hrm Feature #874621

commit 86001cedb624aa2fb9bd0714d7c2ded1e48336ec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 22 07:08:52 2020 +0200

    Factor out action_prob_to_text()...
    
    ...from action_prepare_ui_name().
    
    See hrm Feature #874620

commit 98a17d04eda438208abda5777dfa55efc367ec07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 02:47:51 2020 +0300

    Gtk: Rename cultivate/plant menu entries depending on target terrain
    
    See hrm Feature #874754
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2730fff1d9e6eecf04211da5af4e29156df22b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 21 00:30:20 2020 +0200

    action_prepare_ui_name(): free chance.
    
    Reported by Marko Lindqvist
    
    See hrm Bug #872662

commit 0fd5f1851c28dd1570b5ff3901e5cb6aca7d4467
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 10:40:11 2020 +0300

    Granularity: Add Irrigation extra
    
    See hrm Feature #872584
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 833d1fb14c3a5014bc4eeccfe652f5d9dddf3119
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 19 10:07:12 2020 +0300

    Do end_phase() research updates for alive players only
    
    See hrm Bug #873692
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1be71432ad5d6f7a9dabb6f0cc20f68023392774
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 3 00:42:27 2020 +0300

    Return FALSE instead of NULL from api_edit_unleash_barbarians()
    
    See hrm Bug #871686
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 892bdde53447993b1380262991dc6f2adbb1ab4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 20 09:01:12 2020 +0300

    Gtk: Add the city's size to the Info Panel of the City dialog
    
    Clenup the field enums while at it.
    
    Patch by John Robertson
    
    See hrm Feature #872815
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3a041b1856773805fa87a0b22ef8e8f870eda32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 12 22:28:02 2020 +0300

    Autosettlers: Drop code related to terrain changing ACTIVITY_IRRIGATE/_MINE
    
    See hrm Feature #873056
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7ff93a63eacc231552bd7a5c296b2db2730ba8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 22 21:13:19 2020 +0300

    Granularity: Punish production without tools
    
    See hrm Feature #872582
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19534aabc919a7b49922b2c8759bdb49bbc2a856
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 21:40:06 2020 +0200

    README.actions: document missing "Pillage" reqs.
    
    See hrm Feature #874445

commit bfb0ee5cb3a6846964111452b7426e8f043898fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 19:19:24 2020 +0200

    Lua script API: add tile owner.
    
    Export a tile's owner to Lua.
    
    See hrm Feature #874440

commit b306b97ee8ccc24ee5fa0a0af00bee4157b8dedb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 22:08:32 2020 +0200

    dai_hunter_try_launch(): respect alight rules.
    
    dai_hunter_try_launch() called unit_transport_unload_send() without checking
    if it was legal.
    
    Check if "Transport Alight" is legal. Unload with "Transport Alight" if it
    is.
    
    See hrm Bug #874450

commit 2e85bb236dcf501b9ab15d9b0760b139a5b3a689
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 19 15:42:28 2012 +0200

    Retire slow_invasions and BeachLander.
    
    The slow_invasions rule can now be implemented with the
    Action_Success_Actor_Move_Cost effect, the actions "Transport Disembark",
    "Transport Disembark 2", "Conquer City" and "Conquer City 2". It don't need a
    custom ruleset representation any more. A hard coded representation of it
    could lead to ruleset author confusion.
    
    Soft code the slow_invasions rule and its BeachLander exception.
    
    Move the BeachLander unit type flag to the ruleset. Always add it during
    automatic ruleset upgrade no matter if slow_invasions is enabled or not. It
    may have been mentioned even if slow_invasions is off.
    
    "Transport Disembark" rules in rulesets where slow_invasions was disabled
    should be as before this patch. In rulesets with slow_invasions enabled
    "Transport Disembark" is used for disembarking from a transport on a native
    tile while "Transport Disembark 2" is used for disembarking from a transport
    on a non native tile. The effect Action_Success_Target_Move_Cost is triggered
    by "Transport Disembark 2".
    
    "Conquer City" and "Conquer City 2" has the same relationship to each other.
    
    Historical note: I got the idea of actions, the action requirement type and
    action enablers while trying to represent slow_invasions with reusable
    general concepts rather than with a custom ruleset representation.
    
    See hrm Feature #848684

commit 677fb757ddeaccb3cef45cc076cf753795090f23
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 15:16:00 2020 +0200

    ai action selection: improve move cost estimate
    
    See hrm Feature #874415

commit c62c1b24019473d654faa0ef65962e21518acb83
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 14:37:42 2020 +0200

    ai: embark next to an enemy.
    
    I don't see the point in checking your own movement points after embarking
    when seeking to not end up next to an enemy. What would matter is if the
    transport the unit embarks has moves left and if it intends to move away.
    Just ignore no ending up next to an enemy while embarking for now.
    
    See hrm Feature #874414

commit 8c9a974244b3a9bea94df8fa89041e381447111f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 12:45:34 2020 +0200

    ai: action move cost for not end next to enemy.
    
    Consider movement cost for the action to perform when seeking to not end up
    next to an enemy without any moves left.
    
    See hrm Feature #874408

commit f548700fd34330b2b4582cf80fba834cccf96e07
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 12:27:32 2020 +0200

    dai_unit_move(): add missing else statement.
    
    See hrm Bug #874394

commit 8ded52f268af9fb916f8c9b473fb27492be80765
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 12:19:15 2020 +0200

    map_move_cost(): check BeachLander.
    
    See hrm Bug #874392

commit ac158b80160eb788bc76b8756fa143653c426d5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 19 11:13:51 2020 +0300

    README.effects: Document meaning of value of Airlift effect
    
    See hrm Bug #874123
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c5f53237dc2c080bb73eb41740e575aedcfa47e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 13 00:36:30 2020 +0300

    Make lack of format_version field in ruleset an hard error
    
    See hrm Feature #873068
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e09a1d97a6ad4920d12df65aa6cf11c46959fea9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 7 16:26:55 2020 +0300

    AI: Want units that can occupy already empty enemy city
    
    High want for unit to occupy enemy city was given only when
    also defenders of the enemy city were about to be attacked.
    This ignored the case where there was no defenders in the
    city to attack against, i.e., when city was empty to begin with.
    
    See hrm Bug #872220
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afee50836a456776993a4455830266d4b931a503
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 13:58:51 2020 +0300

    Meson: Link executables against ws2_dep
    
    See hrm Feature #872561
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19e6d788127934fe548dd8784b242f5cfd1860e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 11 21:19:24 2020 +0300

    is_build_activity(): Unconditionally return TRUE for irrigate and mine
    
    ACTIVITY_IRRIGATE and ACTIVITY_MINE are now always extra building
    activities, so no need for the code in is_build_activity() to try
    to determine what they are meant to do in specific case.
    
    See hrm Feature #872783
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09ce28a437f7a90b5a65d1f6609ca3fe21cddf3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 14:51:33 2020 +0300

    Granularity: Autobuild Path to city centers
    
    See hrm Feature #872564
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6593a23a780a2befd321f376d23773b007c8e331
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 12 18:26:06 2020 +0300

    civ2: Add format_version field to effects.ruleset
    
    See hrm Bug #873040
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 040091dcae9a5f433d807c2b694a198517b6bf5d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 23:23:52 2020 +0200

    sandbox: make "Pillage" casus belli.
    
    See hrm Feature #874199

commit 2deb49b9538db4ce8e815df19795c0154357962b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 19:49:29 2020 +0000

    Make Casus_Belli_Success support pillage.
    
    Requested by Lexxie L
    
    See hrm Feature #874197

commit 50e29a934fd6d003175448bcc73d984243038c58
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 19:27:39 2020 +0200

    free_unit_orders(): set orders.length to 0.
    
    When a unit don't have orders the length of its orders list is 0.
    
    See hrm Feature #874191

commit 980de384ba1a68e3be829fa896f6a3a918d36f73
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 18:20:44 2020 +0200

    savecompat: upgrade 3.0 building targeted orders.
    
    Production targeted actions were split from building targeted actions and
    their sub targeted encoding simplified in hrm Feature #852132.
    
    But "Targeted Sabotage City" and "Targeted Sabotage City Escape" can appear
    in 3.0 savegames as unit orders. Upgrade their target encoding and set the
    correct action.
    
    See hrm Bug #874174

commit 8509c8f6044045e9d207d4315b5d163a1130d879
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 17:37:04 2020 +0000

    savegame3: keep bad unit orders unit a bit longer
    
    Move the save game loading sanity check and removal of bad unit orders to the
    end of sg_load_sanitycheck(). This allows them to be rescued by adjustments
    in sg_load_post_load_compat() and sg_load_sanitycheck(). The tolerance ends
    with sg_load_sanitycheck().
    
    See hrm Feature #874189

commit e09e20498be3224198867585eeaa8bc6665850da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 17:35:09 2020 +0200

    savecompat: upgrade 3.0 suicide attack orders.
    
    The action "Attack" was split in "Suicide Attack" and "Attack" in 3.1.
    Upgrade the "Attack" order to "Suicide Attack" in saved unit orders for units
    unable to do Attack.
    
    See hrm Bug #874169

commit 4aeebc49b3d24867f8aa57d89bcecfd1113ea94d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jan 15 10:00:08 2019 +0100

    Version specific post load compatibility.
    
    Some compatibility needs access to game state not available in
    sg_load_compat(). This because the correct thing to upgrade to depends one
    the game state or the ruleset.
    
    By spreading such compatibility all over the code it becomes difficult to
    identify and remove it once save games from that particular version of
    Freeciv ceases to be supported.
    
    Introduce sg_load_post_load_compat() so post save game loading
    compatibility can be put in a clearly version specific place.
    
    See hrm Feature #874159

commit d59dc9acc971052f11b724e1db9fe6658c498f8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 13:29:12 2020 +0300

    Meson: Make fc_ai to depend on verhdr
    
    See hrm Bug #872560
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc7f19a899cbb92b6566de768db7b5059dcee57b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 6 19:27:41 2020 +0300

    Granularity: Add Forest
    
    Remove shield production from Grasslands as Forest now
    provides it.
    
    See hrm Feature #872127
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 096887da13e9f907427d8010cc43cd600b9614c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 7 16:13:43 2020 +0300

    Add adv_choice.log_if_chosen debug field
    
    See hrm Feature #872209
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34ddb57f8d70be6bb7891df90b5b2874de9b9f2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 16 08:09:36 2020 +0300

    Namespace tutorial script callbacks
    
    See hrm Feature #873317
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 891970bb8c1a264883bc108a4f54d118b474e7b8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 15:47:08 2020 +0200

    Some action orders should only appear at the end.
    
    See hrm Feature #873621

commit 6f54f097b43cc8bd100ae5d90049e56d27ba4a4a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 14:54:05 2020 +0200

    helpdata: document diplomat post action escape.
    
    See hrm Feature #873613

commit 0134e8e90534cedc6682bffc2334edef2124d394
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 13:54:26 2020 +0200

    Introduce utype_is_unmoved_by_action().
    
    Make it possible to check if the unit always will remain on its current tile
    after successfully performing an action.
    
    See hrm Feature #873606

commit c97a0b449c8aed2c88081fd0c861e9f8f09f7123
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 13:20:45 2020 +0200

    Make unit actor post action move info data.
    
    Move information about if and how performing an action will move its actor
    unit from utype_is_moved_to_tgt_by_action() to the new field moves_actor on
    the action structure's unit actor specific part.
    
    See hrm Feature #873605

commit 0a6ce0b0b3cc2b31c41aff5486b422283ba749fe
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 11:24:43 2020 +0200

    action: separate actor kind specific fields.
    
    Some fields that currently are a part of the action structure is specific to
    actions with a unit actor.
    
    Introduce an actor kind specific part of the action structure. Move
    rare_pop_up and unitwaittime_controlled to it.
    
    See hrm Feature #873599

commit b8955f08ab43f5b66e5ec68a08b06ed212063f43
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 14 15:38:24 2020 +0200

    More configurable map theft.
    
    This was planned as a quick follow up to the introduction of "Steal Maps" but
    was forgotten until I discovered that Lexxie had to manually change the hard
    coded properties in her Freeciv-web instance.
    
    Introduce the effect Maps_Stolen_Pct. It determines the probability of the
    player successfully doing "Steal Maps" or "Steal Maps Escape" getting the map
    for a tile tile.
    
    The ruleset setting steal_maps_reveals_all_cities decides if the thief always
    will steal the map of a tile containing a city.
    
    See hrm Feature #873390

commit cca4c3d5278f52310f3e09186f9234479a722304
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 14 15:11:19 2020 +0200

    give_distorted_map(): take probability as percent
    
    See hrm Feature #873385

commit d9d54331cdfd96b14c9a88addd118d2c734d7854
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 14 12:45:35 2020 +0200

    Update Action_Odds_Pct documentation.
    
    List new actions Action_Odds_Pct can change the odds off.
    
    See hrm Bug #873351

commit 4b2844d5da9b73f661a23b656ff639530c963da4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 11:38:24 2020 +0300

    Assert against update_dumb_city() error conditions
    
    See hrm Feature #871652
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd121c140c16a9a4735ef440c0b669b6286dde2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 11 23:12:34 2020 +0300

    Disallow targetless ACTIVITY_IRRIGATE/_MINE
    
    See hrm Feature #871737
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbaa0539d410eebb6abb3836cf68da01429ad357
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Mon May 4 05:27:31 2020 +0200

    Qt: Add Cultivate/Plant unit activity buttons
    
    See HRM feature #852844.

commit 16b2b41bf122304287aa5e03644b050df455fc21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 6 05:59:04 2020 +0300

    Turn "Did not find a cm solution..." logging to warn level
    
    It has been at error level, causing lots of noise in the logs
    when backtrace logging for errors has been enabled.
    
    See hrm Feature #871946
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ebcd9a81911a319342611bbf238efa8dc34a6f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 08:36:54 2020 +0300

    Fix clause section names memory leak on ruleset loading
    
    See hrm Bug #872581
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee2629e97092227cb0a1161e0ab65c0c246e04c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 12 10:24:16 2020 +0200

    Make tile cleaning action enabler controlled.
    
    Add the new actions "Clean Pollution" and "Clean Fallout" to control them.
    
    Requested by Marko Lindqvist <cazfi>
    
    See gna patch #6168
    See hrm Feature #850507

commit 25d7813fa77ccf6db70330fb9b4d2fcd985bbfb9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 12 11:28:43 2020 +0200

    can_remove_extra(): make all parameters const.
    
    The only remaining non constant parameter was pextra.
    
    See hrm Feature #872904

commit 50212d23ab1de28f600d2eaaf9c6f8f180a5439c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 12 11:09:30 2020 +0200

    Make the Settlers flag hard req obligatory.
    
    The actions "Transform Terrain", "Cultivate", "Plant", "Build Road",
    "Build Base", "Build Mine" and "Build Irrigation" has a hard requirement that
    the actor unit has the Settlers unit type flag. Move it from
    action_actor_utype_hard_reqs_ok() to an obligatory hard requirement so it
    becomes visible.
    
    See hrm Feature #872886

commit 00533d3546475ff6590bcc827d9a4b957f829be3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 11 17:30:32 2020 +0200

    Unify action tile target finders.
    
    Both unit stack targeted actions and tile targeted actions use a tile to
    specify the target. Eliminate action_tgt_tile_units() and have
    action_tgt_tile() recognize unit stack targeted actions as making the tile a
    valid target.
    
    See hrm Feature #872861

commit 37e0b5ba4634a8a7dc88427a447c32ea2ad1c607
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 11 16:58:29 2020 +0200

    Simplify interpret move as attempted action.
    
    A move is sometimes interpreted as trying to perform an action to a target at
    the destination tile. Simplify and improve the documentation of the code in
    unit_move_handling() responsible for this.
    
    See hrm Feature #872851

commit 75f4c068a2d62c8abeaa444d3bad989510ecd723
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 19:55:22 2020 +0300

    Correctly set use_prev_server client option to FALSE instead of NULL
    
    See hrm Bug #871676
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b5d08d38f7d6e9f733ff33dab5e2831dbf3dd74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 10:34:10 2020 +0300

    Meson: Add ip_mreqn check
    
    See hrm Feature #871645
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7204800b238ed11d1efc900e37b23b8ef74d5a9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 18:05:17 2020 +0300

    Drop unused establish_trade_route()
    
    See hrm Feature #871620
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5de226440199404eb9f572a48ad3ac654ce466e1
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Sat May 9 23:02:32 2020 +0200

    Fix crash when setting a rally point out of the map
    
    See HRM Bug #858746

commit ef372100951ef610eb59a1f12b2d6446e10ae8eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 12 18:14:37 2020 +0300

    Fix compatibility mode ruleset loading
    
    See hrm Bug #873037
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66397335c4ce71fdb3fc0a6e72f10329b63330ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 21:13:41 2020 +0300

    Add Fortify_Defense_Bonus effect type
    
    It replaces hardcoded fortifying bonuses.
    
    Requested by Alexandro Ignatiev
    
    See hrm Feature #867744
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db0d74f6a5785e9dd6949ceef018e31bcd3ab2ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 30 02:13:34 2020 +0300

    gtk3x: Drop popupinfo_positioning_callback()
    
    See hrm Feature #871438
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c63474ddb6c6d0f2756bfc764dfce4b7c8d32dc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 11 15:16:40 2020 +0200

    Comment fact fixes.
    
    * Starting with 3.0 actions aren't only about special abilities.
    * The unit being marked as wanting an action decision doesn't pop up an
      action selection dialog by itself.
    * The client doesn't always show an action selection dialog in response to
      getting a list of potentially legal actions. The Qt client has default
      actions based on target type.

commit 1bf1cff978fae70c64d2feea64dcf56c36291d60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 11:59:12 2020 +0300

    installer_cross uninstaller: Uninstall generated files
    
    See hrm Bug #854017
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51cdcf0fb15aff91c6c3d6286a51f362217ba19d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 5 07:06:29 2020 +0300

    Qt5x-mode: Make Qt-5.14 the minimum requirement
    
    See hrm Feature #871853
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96500ef764881ec282ecb4374c5fc97155f58710
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 6 16:26:26 2020 +0300

    Fix helpdlg impr_build_shield_cost() calls with NULL city
    
    Reported by Zoltán Žarkov
    
    See hrm Bug #872018
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6207a324167b1e68253de920e2b5485b3a8d774
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 22:15:15 2020 +0300

    get_activity_text(): Return "Mine" as name of ACTIVITY_MINE
    
    Reported by Jacob Nevins
    
    See hrm Bug #853128
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c14756a4268a694d9e572cb8cd5ee14cbf15333e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 08:12:48 2020 +0300

    Improve combat.h coding style
    
    See hrm Feature #871315
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd89941cb325f3fd17d7735d397021a33d174981
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 11:08:40 2020 +0300

    installer_cross: Delete also symbolic links in uninstaller
    
    See hrm Bug #872554
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a91a87c5171d14cbe08675603b75a477be82ff85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 21:40:13 2020 +0300

    Qt: Avoid deprecated QGridLayout::setMargin()
    
    Replace by QLayout::setContentsMargins()
    
    See hrm Feature #871406
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3b55e7209359a80cfe7874eafd6adaac143a76a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 7 16:14:59 2020 +0300

    AI: Handle settler_evaluate_improvements() result as adv_want, not int
    
    See hrm Bug #872193
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbeb5021de3a09ec23c53515df624c92f47f64dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 5 03:45:25 2020 +0300

    Implement impr_estimate_build_shield_cost()
    
    Requested by Zoltán Žarkov
    
    See hrm Feature #871844
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a57cea0673432472946956d9f8c635e9f165da2
Author: Zeko <zeko@freeciv.xyz>
Date:   Tue May 5 13:17:06 2020 -0700

    Set player tile owner whenever tile knowledge is updated
    
    See hrm #846106

commit 6ba75713619bc469231d81d27900f4a2aa279cb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 12:05:55 2020 +0300

    defense_multiplication(): Rework to take defender unit parameter
    
    Replace unit_type defender parameter with individual unit parameter.
    
    See hrm Feature #871170
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e180318aee69e64144306364fe336d997079211
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 5 11:07:06 2020 +0300

    Set GDK_VERSION_MAX_ALLOWED for gtk3.22-client
    
    Set also GLIB_VERSION_MAX_ALLOWED.
    
    See hrm Feature #871873
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8eb8485bd3998c8c033b7da50fb394e653f3a79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 08:09:24 2020 +0300

    Granularity: Add Throne building
    
    It marks capital city and produces some infra points.
    
    See hrm Feature #871327
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc7bc6fe0249221dfee4c5cf50b9fba8171dc670
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 28 23:47:19 2020 +0300

    Rulesave: Save actual terrain_control.pythagorean_diagonal value
    
    It had hardcoded assumption that when the value is not default, TRUE
    should be saved. That was true for the current value of
    RS_DEFAULT_PYTHAGOREAN_DIAGONAL, but wouldn't adjust to changes in
    default.
    
    See hrm Bug #871296
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8158f6ceb565b8387b8ceb8036822f0af8fdb9fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 16:54:00 2020 +0300

    reality_check_city() trade partners when trade route established
    
    Establishing a trade route reveals the partner cities, and their tiles.
    If the partner city is founded on the ruins of a former city that
    is still in player's plrtile, that former city must be cleared out
    by reality_check_city().
    
    See hrm Bug #871606
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ecb47522342ff8a324766d78e70b7be7fc073f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 11:23:55 2020 +0300

    Fix get_city_dialog_production_row() assert with NULL city
    
    Reported by Zoltán Žarkov
    
    See hrm Bug #870966
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86dea56b4d01742c0054c526f8b8edfd6acdcc44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 30 02:07:16 2020 +0300

    gtk3x: Drop gui_dialog_set_default_response()
    
    It relied on gtk_widget_grab_default() that is gone from gtk-3.96
    
    See hrm Feature #871437
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9653be808aadbeaa746fc70501ee439fd17a9765
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 20:16:25 2020 +0300

    Qt: Set QT_DISABLE_DEPRECATED_BEFORE to match Qt-5.11 in qt5.m4
    
    Now it's in the same level as our minimum Qt requirement, i.e.,
    the lowest Qt version that we support.
    In qt6.m4 QT_DISABLE_DEPRECATED_BEFORE is set to match Qt-5.12.
    
    See hrm Feature #871397
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 414794cf4e2d71df6432fb39a0dc488d155b6018
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 09:47:24 2020 +0300

    installer_cross: Create ShortCut from Start Menu to doc/freeciv
    
    See hrm Feature #871326
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5d51cbc52bf8603956d5b6ea49ceea38f666ef8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 28 03:29:58 2020 +0300

    Meson: Add readline support for server
    
    See hrm Feature #871153
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 144b1b0d17bcfda9645beaa9c3263f67d0b884ae
Author: Zeko <zeko@freeciv.xyz>
Date:   Wed Oct 2 17:17:00 2019 -0700

    Add server-side CMA
    
    See hrm feature #839703

commit 9642c624b796d3b26c253f857b76c737f36fc0a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 18:53:46 2020 +0300

    Qt: Replace deprecated QSignalMapper uses with lambdas
    
    See hrm Feature #869892
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86c56eb57af73a90dae228c79aa7f7e71990b73d
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Mon May 4 07:53:10 2020 +0300

    Add tolua_game to the fcdb lua context
    
    tolua_game is required to pass the 'player' argument of user_take().
    
    See hrm Bug #866850
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11cbde04b425c7d8f7b64ef3365b21039522102b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 16:47:35 2020 +0300

    Drop flush_mapcanvas() from gui API
    
    See hrm Feature #871656
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f76d68a3509da412eb1adf1da3f22a35343ae41
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 27 04:17:56 2020 +0300

    Update to crosser-1.10
    
    See hrm Feature #870964
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 435f62788f06a7f3c7726fbcd048c2e335e030cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 09:01:21 2020 +0300

    Add requirement type "Activity"
    
    See hrm Feature #870905
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e99ec66ad258619b9e349122983b3b58bd7bccc2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 4 13:26:41 2020 +0200

    Don't delete valid action orders with sub target.
    
    The fix for Bug #856480 was to zealous. It would overwrite valid non extra
    sub targets for action orders.
    
    Exclude action orders from its default order sub target initialization. All
    possible (and one impossible) action sub target kinds are initialized in the
    action order specific switch statement.
    
    See hrm Bug #871781

commit f17c4206551d2588eba502e2525812e6cb2ce7d8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 4 11:58:33 2020 +0200

    Make sure initial sub target is invalid.
    
    IDENTITY_NUMBER_ZERO can be valid for some sub target kinds. Replace it with
    NO_TARGET in simple_action_callback()'s sub target initialization.
    
    See hrm Feature #871772

commit 11e39ab07b2899e833bb48a920d660de1b5562f6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 4 11:46:07 2020 +0200

    Replace magic number representing no sub target.
    
    0 is a valid identity for some action or activity sub target kinds. This
    makes IDENTITY_NUMBER_ZERO a bad choise to represent that no sub target is
    set. Up until now it has been represented with the magic number -1.
    
    Introduce the new macro NO_TARGET to flag that a target or sub target is
    unset. Use it to replace magic -1.
    
    See hrm Feature #871769

commit 0d87d6cd6f4592b018c058cab291ea2a4dc9e92f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 4 11:15:19 2020 +0200

    savegame3: don't guess order building sub target.
    
    A bad order building id sub target in a save game would result in it being
    set to 0. 0 is a valid building id. This would change the sub target,
    potentially to something the player absolutely don't wish to target.
    
    Set a bad sub target to B_LAST so it remains invalid.
    
    See hrm Bug #871766

commit 0b5e6afaa30f4870a49f4f7e45d7eb20d302622d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 13:06:50 2020 +0200

    execute_orders(): assert not ORDER_LAST.
    
    An order containing ORDER_LAST should never reach execute_orders(). It should
    have been caught while receiving the new unit orders from the client or on
    loading them from a save game.
    
    See hrm Feature #871751

commit ff4cd22479930b232926518b6ae0d22493247e77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 14:04:36 2020 +0300

    Return boolean from save_action_max_range() as return type indicates
    
    Return statement was returning 'struct entry *' despite function
    return type being 'bool'.
    
    See hrm Bug #871347
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33eb921a81f7eb149d88b718f3b1be5424f2913f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 06:48:23 2020 +0300

    Qt: Uncomment Qt version display in build info
    
    See hrm Feature #871307
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0bb03627aa2a15c9bec9fe8a8e97659177b17b38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 07:56:35 2020 +0300

    Cache if infrapoints are in use in the ruleset
    
    Store the value in terrain_control. Use that value where appropriate.
    
    See hrm Feature #871245
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7af6d24c6da124bd4f56e1d7b3c67d69af615344
Author: Zeko <zeko@freeciv.xyz>
Date:   Fri May 1 15:33:39 2020 -0700

    emscripten: Disable SDL2 configure checks
    
    See hrm #871637

commit 983ca7cf230ebf9b0004334ed3ab6a9fe822613e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 12:44:54 2020 +0300

    Drop R. Daniel Markstedt from the list of present administrators
    
    See hrm Feature #870391
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8317836664c7f436a0c20f4a7d236f246bc7b054
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 11:22:36 2020 +0200

    Drop custom non savegame3 order error message.
    
    Treat them like other letters not representing an order.
    
    See hrm Feature #871003

commit ac36ae6ec6c6c147e850b9636562c2b5bac1a307
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 10:59:37 2020 +0200

    savegame: run unit_order_list_is_sane()
    
    Make sure that the savegame loading code won't accept any unit orders the
    server wouldn't accept from a client.
    
    See hrm Feature #871007

commit 965a455d2ae920907b971eb5ea18bb68f588c13d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 10:55:37 2020 +0200

    Factor out unit order list sanity checks.
    
    Move incoming packet unit order list sanity check from create_unit_orders()
    to the new function unit_order_list_is_sane().
    
    See hrm Feature #871002

commit bd272be63e80cd1f25b84305f0eb041674a2fe37
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 09:06:42 2020 +0200

    Simplify order action validation.
    
    Order validation per action only checks the sub target. Make it per sub
    target kind instead. This way it won't have to be updated each time a new
    action is added.
    
    See hrm Feature #870994

commit 734a1bf278a5f0489c5988d437103f053179adf3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 08:30:18 2020 +0200

    Make it clear that order targets are per order.
    
    Put target variables inside the loop in execute_orders() to make it obvious
    that they aren't carried over from one order to the next.
    
    See hrm Feature #870992

commit a306b4dc792d28f7aa2f938b49be2816b3f0f015
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 24 10:25:08 2020 +0200

    aiair: Unhardcode the OneAttack unit type flag.
    
    See hrm Feature #870986

commit 991628dd12cd002003c270e01750b872280ec82e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 28 19:55:26 2020 +0300

    Change default extra infracost to 0
    
    See hrm Feature #871246
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f86af432afdcda6964eac3a5378758848506ff5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 17:53:15 2020 +0300

    emscripten: Disable configure check for zlib
    
    See hrm Feature #869884
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5fd61d8d659a821c00e80e28f33721c78369b8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 25 14:11:02 2020 +0300

    Convert targetless ACTIVITY_IRRIGATE/_MINE to ACTIVITY_CULTIVATE/_PLANT
    
    When loading savegame, convert targetless ACTIVITY_IRRIGATE and
    ACTIVITY_MINE activities to ACTIVITY_CULTIVATE and ACTIVITY_PLANT
    activities.
    
    See hrm Feature #870890
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9cf79a2f575b45194aed8bfc8b157553e181d6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 20:03:41 2020 +0300

    Qt: Avoid using deprecated QDesktopWidget::screenGeometry()
    
    Replace its uses with QGuiApplication::screens() followed
    by QScreen::availableGeometry()
    
    See hrm Feature #871396
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df91eeb4dba536c363209542328272e70b70b64d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 09:26:58 2020 +0300

    Msys2: Create ShortCut from Start Menu to doc/freeciv
    
    See hrm Feature #871297
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec7a0cd85aab46c84a1dd4da520d24058df0105d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 30 01:48:18 2020 +0300

    gtk3x: Drop set_relative_window_position()
    
    Global positions related stuff is dropped from gtk-3.96, and
    our set_relative_window_position() can't work, so just drop it.
    
    See hrm Feature #871436
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f8b5b02e93a0009a791d44f92995d61b66fe05d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 24 04:28:20 2020 +0300

    Fix caravan_evaluate_withtransit() result setting
    
    The function was only initializing the result. It didn't pass
    the result pointer to the callback that is supposed to actually
    set it.
    
    See hrm Bug #870482
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0135db80adcb1fe50e6ad4028c568ab2bb88f078
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 12:02:48 2020 +0300

    emscripten: Disable sqlite3 configure check
    
    See hrm Feature #871336
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7cddb7fdf68bbab89d9d98610b8634cf97b4a161
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 07:38:26 2020 +0300

    Bump version number to 3.0.92.1
    
    Emergency version number part enabled to test it in master.
    
    See hrm Feature #871311
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7552915f1c37800c009bb81552c65df5e29cc5a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 28 07:19:05 2020 +0300

    setting_game_restore(): Set FALSE instead of NULL to bool variable
    
    See hrm Bug #871167
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 138e6642d5d62ad5444fea94c7b13291d93a9007
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 27 06:53:32 2020 +0300

    Meson: Require gtk-3.0 only when really needed
    
    See hrm Feature #870981
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42dfb6dc96cbddf8c275753b447f5ee70774651c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 16:37:51 2020 +0300

    Granularity: Add basic Path extra
    
    See hrm Feature #870424
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c90b531c135f8d032044c226bdd76cbd4c67a0f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:36:33 2020 +0300

    gtk3x: Avoid using GtkButtonBox
    
    See hrm Feature #869872
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0852f46f0e0af85ed1b2e449dfe926706c0d1627
Author: Zeko <zeko@freeciv.xyz>
Date:   Wed Oct 2 17:15:18 2019 -0700

    Add max_growth CMA parameter that selects optimal food surplus
    
    See hrm feature #839704

commit 4410f3edecc51900749bb40cd461f3578828f6cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 09:41:18 2020 +0300

    Msys1: Create ShortCut from Start Menu to doc/freeciv
    
    See hrm Feature #871325
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ee524d22030b72e51527bd03bbbf5fa92ca2086
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 25 12:08:38 2020 +0300

    Meson: Link Windows libfreeciv against ws2_32
    
    See hrm Feature #870656
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 489a7707bea51b8797519bf70fef8826a6c8b99b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 13:10:43 2020 +0300

    Qt: Make mr_idle::callback_list private
    
    See hrm Feature #870178
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53d2ac716d188ba068f51b800ebf52f13512b9a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 24 03:58:33 2020 +0300

    mapimg_colortest(): Fix compiler warning with -O3
    
    See hrm Bug #870481
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6af3c6131374022e5a4f61a526df742dc2d13d61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 25 05:39:50 2020 +0300

    emscripten: Disable icu configure check
    
    See hrm Feature #870642
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78fb0335800729c928b9ee26825d56731004e195
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 16:40:54 2020 +0300

    dai_effect_value(): Rename 'ai' as 'adv'
    
    See hrm Feature #870420
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a3b1c41a8bca8d7fabea2b5d9c8bd7313c256be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 24 00:43:56 2020 +0300

    Granularity: Set city generated border radius
    
    See hrm Feature #870478
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abbc7ff40d9687c5007ad0ececf27444349a0160
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 16:34:03 2020 +0300

    AI: Divide aisettler boat cost by multiple trips
    
    When calculating AI settler want, do not weight boat cost equally
    to settler cost. Settler gets used on the mission, boat can make
    multiple trips.
    
    See hrm Feature #869673
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1c68212b922de646e4287c584f45280a2114742
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 10:10:12 2020 +0300

    Qt: Tell Qt5/Qt5x mode in build info
    
    See hrm Feature #870334
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc6c5a304bd571770db0f4860c508c058f9d5319
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 27 02:12:42 2020 +0300

    Make unit_type pointer from unit structure const
    
    This makes unit_virtual_create(), and recursively everything that
    uses that pointer, to take const unit_type pointer. That is a lot
    of places.
    Since some code is agnostic whether city is producing unit or
    building, also a lot of improvement pointers recursively turn
    to const ones.
    
    See hrm Feature #870914
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2684e6018b7d4cc482609eb3ee3f33398fd45c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 16:36:38 2020 +0300

    Add Infra_Points effect type
    
    See hrm Feature #870421
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60e8ef0a7bc0e5881ba61e2b1ce6bbf66c29afd0
Author: Adrian Tam <adrian.c.m.tam@gmail.com>
Date:   Sun Apr 26 17:07:11 2020 -0400

    README.effects: CityStatus ranges in correct order
    
    See hrm Bug #870328

commit 2e2ce4b7a5b38c0915add67ccb974b1fa96f8add
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 01:09:55 2020 +0300

    emscripten: Disable fcdb
    
    See hrm Feature #870131
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41687437e1b57b16305362605f70b41b85531a58
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Oct 13 10:47:21 2019 -0700

    Remove nested event loops in Qt client
    
    See hrm #846914

commit 333ca2024f74037fe333c5e7c64ef67fdeadb669
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 04:24:12 2020 +0300

    is_tile_units_in_range(): Rename maxUnits as max_units
    
    See hrm Feature #870142
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59a5b8aa8fa15708c21f06cd4e5c11e317ec2a52
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 11:39:39 2020 +0200

    Comment fact fix

commit 6e99a7055027a00fb6d9a4d2aaea1ed17278d727
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 24 08:17:57 2020 +0200

    helpdata: unhardcode the OneAttack unit type flag
    
    See hrm Feature #870554

commit f9dfff47c44b7ce2856e5511380bf83743fc67f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 11:25:44 2020 +0300

    Meson: Define ALWAYS_ROOT for Windows builds
    
    See hrm Feature #870170
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce5dbf555222d55ebf5ce2ebebaf28b529f46734
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 13:52:11 2020 +0300

    Qt: Fix plrdialog crash when selected player has no research selected
    
    The crash also required that client is not attached to a player.
    That can happen at least when it's global observer.
    
    Reported by Chippo Elder
    
    See hrm Bug #863815
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c79d4699d88b76ef1b3e7b2810156a5b0bdc08b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:33:33 2020 +0300

    gtk3x: Drop remaining gtk_window_set_icon() calls
    
    Replace them with with gtk_window_set_icon_name()
    
    See hrm Feature #869871
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ea4c8d81934763e15a448236b8f61d9a98b2b8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 08:57:07 2020 +0300

    emscripten: Disable libcurl
    
    See hrm Feature #870324
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6dff51aab91e3600ef16c11f3b0163fc57718675
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 16:15:47 2020 +0300

    Fix Qt-client crash on timeout label update
    
    Qt-client was calling its new turn setup functionality
    from timeout label update if turn number had changed since the
    previous update. Timeout label gets updated at times when
    client state is not suitable for those new turn setup actions,
    sometimes leading to a crash.
    
    Call Qt-client new turn setup function by generic
    gui interface instead. New callback is added for this goal,
    called from new turn packet handling.
    
    Crashes reported by Chippo Elder
    
    See hrm Bug #857974 and Bug #858251
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc8649c734887edb217229021eedfa7224590d7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 02:57:22 2020 +0300

    Add MinForeignPct requirement type
    
    Requested by Lexxie L
    
    See hrm Feature #857904
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a12af86d9e1cb50c907d5314ddbfec658fa3771
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 16:21:18 2020 +0300

    Granularity: Set base_pollution to -2000
    
    See hrm Feature #869881
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 698f013a175278ce1423d2ca6444f6ad74885def
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 19 00:14:52 2020 +0300

    Move common stuff from qt5.m4 and qt6.m4 to new qt.m4
    
    See hrm Feature #853400
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dd77f7ad1235a834b01677a815da95f260d93e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 11:24:19 2020 +0300

    Send infra placing finishing turn to client
    
    See hrm Feature #851869
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f8e564d9bcbf7d502b7962e2092fdd3faa782ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 05:34:35 2020 +0300

    Drop europe_1901 scenario from git
    
    See hrm Feature #778686
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72b2b9839aeaff5178470fc9e77926cfeba2dede
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 06:00:21 2020 +0300

    debug.m4: Set always-active compiler flags last, not first
    
    This way they override other flags that might affect same things.
    Especially this makes specific -Wno-xxx flags to override -Wall, and not
    the other way around.
    
    This fixes compile with clang-10
    
    See hrm Bug #868533
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 587185029a2fffaac3f0c0d4f89543f166e976f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 08:10:58 2020 +0300

    Increase QT_DISABLE_DEPRECATED_BEFORE to match Qt-5.9
    
    See hrm Feature #869740
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a2864acb5f0ed6d7be97b7ba9e74b851bce83b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 14:18:31 2020 +0300

    Update freeciv-mp-gtk3x to gtk-3.98.1 level
    
    See hrm Feature #869870
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 173303c7d2648453007839a29e3de3d263a57847
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 00:40:08 2020 +0300

    README.effects: Correct typo "MinMoveFargs" as "MinMoveFrags"
    
    See hrm Bug #869737
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d266c3ee7b34d4a9cb815d37b90560f8ab562f42
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 21 10:34:33 2020 +0200

    Auto document action failed dice roll.
    
    Requested by Lexxie L and Marko Lindqvist
    
    See hrm Feature #869739

commit 50d0e3c45ada00fcb70c6df3ad3231eaf6e38e75
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 20 17:42:55 2020 +0200

    Sanity check Action_Odds_Pct effect action.
    
    Detect attempts to apply the Action_Odds_Pct effect to actions it doesn't
    change the odds of.
    
    See hrm Feature #870088

commit 30aa9a11434330bb84c32912694bf951f8d19f7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 21 10:51:24 2020 +0200

    action_dice_roll_odds(): split out initial odds.
    
    Split what the odds are before the Action_Odds_Pct effect applies to the new
    function action_dice_roll_initial_odds().
    
    See hrm Feature #870090

commit d2bd5c447af4985cc727d0ee9a980d4a399f7aea
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 20 23:00:58 2020 +0200

    Kill non conquering paradropping to enemy city.
    
    Paradropping a unit that can't occupy a city to a tile containing an enemy
    city could result in the unit and the city coexisting at the same tile. Solve
    this by killing any non conquering unit that tries to paradrop to a non
    allied city.
    
    See hrm Bug #870004

commit 79ffdc9c9d1e2ba2bc2b7b7050b78eb08789dfda
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 07:58:19 2020 +0300

    Qt: Avoid deprecated QDateTime::fromTime_t()
    
    Replace the call with QDateTime::fromSecsSinceEpoch()
    
    See hrm Bug #852863
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee29f6fafae9a5b9a2d9c9672d02f697b8d9bf07
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 20 18:06:07 2020 +0200

    do_paradrop(): move seen tile unit unit saver.
    
    do_paradrop() had a hard requirement that prevented a unit from jumping to
    its death because the target tile contained a unit it couldn't share a tile
    with for diplomatic reasons, except War, when the target tile was seen. Move
    it to "Paradrop Unit"'s hard requirements and action not enabled explanation.
    
    The remaining unit savers aren't moved yet.
    
    See hrm Feature #869994

commit 967ccf77d71cfe7972fa77ac3722b570da7d4908
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 13:14:35 2020 +0300

    Comment typofix: callabcks -> callbacks
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21e8f59f4451fed62f24535b0fbbabcb8b5a9c54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 12:22:29 2020 +0300

    Add emscripten.m4
    
    From original patch by Zoltán Žarkov
    
    See hrm Feature #869747
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfd0c9a397d42780899a10e13b627ecfec2cb036
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 04:55:20 2020 +0300

    Add requirement type CityStatus
    
    The only supported value for the new CityStatus requirement type
    is "OwnedByOriginal".
    
    Requested by Lexxie L
    
    See hrm Feature #858238
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d8a8d573563480ec33da6c0fc815f7643ae6802
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 22:52:21 2020 +0300

    Qt: Avoid division by zero in chatline default_size()
    
    Reported by Chippo Elder
    
    See hrm Bug #863839
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8eaa34a03bcd9098c6f827bc5a69eebb78086dcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 05:36:41 2020 +0300

    Make name_and_sort_items() to work with NULL city
    
    When there's no city given, the improvement cost it uses is the
    city-agnostic base cost.
    
    Reported by Chippo Elder
    
    See hrm Bug #856546
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 123f3a771c877e0bba34cf49799385473d76f426
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 07:01:13 2020 +0300

    Set 1 the minimum value for endturn setting
    
    See hrm Bug #853060
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df055e68d419745c4cf71eb538fc522baa23d7ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 14:28:37 2020 +0300

    Bump minimum automake requirement to 1.11.4
    
    See hrm Feature #852669
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1742ee4994cf3715ff6b93be299a99165c9537ff
Author: Zeko <zeko@freecivweb.org>
Date:   Thu Apr 16 23:04:57 2020 +0300

    Add /playernation command for setting nation and leader name
    
    See hrm feature 768292
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19021dc6bb03628ed949dd8383e0cf622e94e128
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 01:22:59 2020 +0300

    Cleanup effects.c
    
    See hrm Feature #869621
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c3029deefd6dd45f337057558694733a2ea488b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 04:13:41 2020 +0300

    sdl2: Drop nation legend display from races dialog main view
    
    Only a couple of words of the legend fit there at best. Sometimes
    it gave an error when even one line did not fit.
    Complete legends are available via right-click dialog.
    
    Reported by Chippo Elder
    
    See hrm Bug #858718
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e21a65d35c2832c0b472791d98448f1b477c03f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 03:21:49 2020 +0300

    Make can_unit_survive_at_tile() aware of UTYF_COAST units
    
    Reported by Jacob Nevins
    
    See hrm Bug #869622
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bd7b9efb328ed9b3bb2aa5aaf14dc1a69e8aca5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 22:25:26 2020 +0300

    Qt: Cleanup fonts settings
    
    Patch by Mir3x
    
    See hrm Feature #772029
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cabf45164bbf65c912be23a1fc01b9fa8395dc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 22:27:00 2020 +0300

    Comment typofix: numer -> number
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16073410fa29e4b2f44c9399bdc8eda9aafddde8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 14:19:38 2020 +0300

    installer_cross: Create correct freeciv-mp-gtk3.exe link from gtk3.22-installer
    
    See hrm Bug #854122
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 422198397163eb2f418ef26de3fbe876166bb8ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 13:22:39 2020 +0300

    Qt: Fix assert failure on research dialog building tooltip
    
    Reported by Chippo Elder
    
    See hrm Bug #854917
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eec12b37d4e93620608c36584fce640505ee5028
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 09:42:12 2020 +0300

    HACKING: Replace list of --enable-debug set flags with reference to debug.m4
    
    The list was outdated. Let's not try to maintain it, but tell user
    to check from the master list.
    
    See hrm Bug #855637
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ecb3c7a9a573a2c3034a45af0266a0ecfeeac77f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 09:13:30 2020 +0200

    Separate hard obligatory req message from req.
    
    Separate the requirement that contradicts an hard obligatory action
    requirement and what action enabler requirement vector to check from the
    error message text when the requirement isn't fulfilled. This gives more
    flexibility in the future.
    
    See hrm Feature #868958

commit b1c1846a346a873f3690aa171123b493629a6c02
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 07:18:08 2020 +0200

    Don't advice using the F3 shortcut in Freeciv-web
    
    See hrm Feature #868944

commit b5f210b8fd24c67eee2ce23091c5173aa1adb836
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 09:51:09 2020 +0200

    do_paradrop(): move seen tile city unit saver.
    
    do_paradrop() had a hard requirement that prevented a unit from jumping to
    its death because the target tile contained a city it couldn't enter for
    diplomatic reasons when the target tile was seen. Move it to "Paradrop Unit"'s
    hard requirements and action not enabled explanation.
    
    The remaining unit savers, including the one that does the same but based on
    the player's information about a known but not seen tile, aren't moved yet.
    
    See hrm Feature #868956

commit d78ea8ac8999e4cebbff73e86529bb8dfbe30c5a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 07:49:31 2020 +0200

    do_paradrop(): move seen tile terrain unit saver.
    
    do_paradrop() had a hard requirement that prevented a unit from jumping to
    its death because of the target tile's terrain when the target tile was seen.
    Move it to "Paradrop Unit"'s hard requirements and action not enabled
    explanation.
    
    The remaining unit savers, including the one that does the same but based on
    the player's information about a known but not seen tile, aren't moved yet.
    
    See hrm Feature #868949

commit f9191cce26587f56ef2350f5ee193e98cf903035
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 06:30:13 2020 +0200

    Organize do_paradrop() into 3 sections.
    
    Make do_paradrop() less confusing by organizing it into three sections:
    Requirements that should move to other systems, the landing kills the unit
    and the landing is successful.
    
    Document some of its problems.
    
    See hrm Feature #868942

commit 739cdf93e02b77b7ffc3bfdc36920fdd9d1f1e6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 09:10:12 2020 +0300

    Qt: Do not try to show enemy move points
    
    Reported by Chippo Elder
    
    See hrm  Bug #857638
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36bf13872f10af1256138f893bea1c72cc0856b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 01:44:46 2020 +0300

    AI: Want cities more when getting them would mean finishing enemy off
    
    Add an bonus to city want when the enemy in question has only a couple
    of cities left in total.
    
    Requested by Anton Körbchen
    
    See hrm Bug #855339
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 453bb069c6342782acdc916082aa2dca21985070
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 08:48:29 2020 +0300

    Improve documentation of "Nationality" requirement type
    
    Requested by Lexxie
    
    See hrm Bug #857353
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 614dbc82390294d05ff3d49b10e8e0a902b5756d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 15 18:18:03 2020 +0300

    Update gettext bootstrap files to gettext-0.20.2 level
    
    See hrm Feature #869356
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 028ee1edb2a1aed466970a933cd1b1ba2f92e017
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 15 17:32:18 2020 +0300

    Bump version number of supplied scenarios to 3.0
    
    Some other minor format updates come with this as this was done
    by using /scensave command of current S3_0 HEAD.
    
    See hrm Feature #682499
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a9c67f849b4129ae7be2ecdfd42e7342347cc1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 23:38:40 2020 +0300

    Update comment about raise_chance and work_raise_chance
    
    Comment claimed that they are not sent to the client, but
    nowadays they are.
    
    Reported by Sim Sulla in Feature #680052
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b0fe7e44015be9970abf5af6fa6ab765f9b61f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 15 20:52:10 2020 +0300

    Comment typofix: evalutaion -> evaluation
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb1f4210da49b3760599b8ec69cb60a103c7a576
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 13 19:52:21 2020 +0300

    Qt: Extend lifetime of QByteArrays when their data() is later used
    
    Replace temporary QByteArrays with ones stored in variables so that
    their content returned by data() stays valid as long as its referenced.
    
    See hrm Bug #859139
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9c010701fda075d083aea600adade73cef45020
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 12 17:15:01 2020 +0300

    Fix division by zero when transforming unit with zero move_rate
    
    Reported by soundnfury
    
    See hrm Bug #868905
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a895bef6b18c2882b2268c0fecca975127a3b7ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 10 15:30:02 2020 +0300

    Improve coding style of the generated code
    
    See hrm Feature #868649
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87f4abf81d530b825d0af772d95fd1ea78503e64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 7 13:22:14 2020 +0300

    Include <QPainterPath> where needed
    
    This fixes Qt-client build on OpenEmbedded
    
    See hrm Bug #868060
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit adbeb2be08c745e05593ad6e2858e43bf5a901b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 6 07:05:09 2020 +0300

    Fix msys Qt-client build
    
    See hrm Bug #863755
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9417138817eb656e5baa27a9555df85f9d020318
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 21:52:01 2020 +0100

    Tolerate multiple CityTile requirements.
    
    Technically speaking Claimed doesn't contradict Center. Future properties may
    be completely orthogonal to each other. Tolerate multiple CityTile
    requirements to be ready for them.
    
    See hrm Feature #864838

commit 8f854d380b6bb55cbf3023a8fca494043f066b5c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 09:41:32 2020 +0100

    action_dice_roll_odds(): keep odds in range.
    
    Action_Odds_Pct can modify the odds out of range. Clip them.
    
    Reported by Lexxie at https://github.com/Lexxie9952/fcw.org-server/commit/d64b010b69a367bc4699b1b38fc5c98b16db044d#diff-b6b1d12fdaa51d2bd5093279d36e2e96R1616
    
    See hrm Bug #864613

commit 040efa636b574dd25895b727d9fa7925b7b50e5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 7 19:05:45 2020 +0200

    Update to crosser-1.9
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac8c35c75065fad713bbec04a9d524e0051c47c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 14 09:27:39 2020 +0200

    configure.ac: Don't set compiler debug flags for _mkdir() detection
    
    See hrm Bug #863322
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aafc646b8cc9882d35a72f2f44fd50ac8a7e5878
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 13:27:54 2020 +0100

    Centralize diplomatic defender selection.
    
    Centralize picking the defender for a diplomatic battle in the new function
    get_diplomatic_defender(). The logic is unchanged: the first defender capable
    of diplomatic combat is selected even if the tile may have a better unit to
    defend it.
    
    See hrm Feature #864663

commit 79582a29c4a98101176fc31692b38c2ebdd34450
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 11:16:09 2020 +0100

    Strike building/production: adjust string.
    
    Refer to action name as "do %s", rather than assuming it has a main-verb-like
    form, when "Surgical Strike Building" and "Surgical Strike Production" fails
    to beat the Action_Odds_Pct odds in the action failed dice roll.
    
    See hrm Feature #864644

commit 0d1d979b62daef0c3b5353ac2c75f09e4366f912
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 03:09:47 2020 +0100

    Show correct name for the Claimed CityTile req.
    
    Freeciv 2.6 introduced the CityTile value "Claimed" in addition to the old
    value "Center". The function universal_name_translation() assumed that
    CityTile still only could be Center.
    
    Update universal_name_translation() so it checks the value and returns a
    matching text.
    
    See hrm Bug #864579

commit 36697f603c7dde48c325ae9b5798b8db6896d3a7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 02:30:29 2020 +0100

    Split strike building/production action performer
    
    The actions "Surgical Strike Building" and "Surgical Strike Production" are
    no longer the same. Give them separate action performers by splitting
    do_unit_strike_city_production() from do_unit_strike_city_building().
    
    See hrm Feature #864578

commit 662ec5c2ff2055675492a99f3f735796cf2ceda5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Mar 7 17:04:07 2020 +0100

    Add the InNativeExtra unit state property.
    
    See hrm Feature #854185

commit 1a5aaebb46ba4801ea0b319156e179725bd0f75a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 3 19:52:00 2020 +0100

    Fix Clang 9 warning.
    
    ../../server/unittools.c:4678:25: error: result of comparison of unsigned enum expression < 0 is always false [-Werror,-Wtautological-unsigned-enum-zero-compare]
        if (orders[i].order < 0 || orders[i].order > ORDER_LAST) {
            ~~~~~~~~~~~~~~~ ^ ~
    1 error generated.
    
    See hrm Bug #863758

commit 45c8737bdb1f6b09b56bc965c78274eb086205db
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 7 15:21:55 2020 +0000

    Qt: fix "Gold: 178 (+-2)" on turn change display
    
    See hrm bug #863755.

commit 93ebeb486b3d5ec60a179033e43250a30d64931b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 7 15:01:38 2020 +0000

    Undefined behaviour in specvec copy when size==0
    
    Found by UBSan (gcc -fsanitize=undefined), in the context of loading
    classic ruleset specialists' empty reqs vector. Not known to cause
    visible symptoms.
    
    See hrm bug #863750.

commit d8790db2f3d9ffb11fe6fdc57170f749c32294d5
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Mar 6 09:28:18 2020 +0000

    Fix client out-of-bounds array access on disband
    
    This would happen whenever ACTION_HELP_WONDER and ACTION_RECYCLE_UNIT
    aren't valid ways to get rid of a unit but ACTION_DISBAND_UNIT is.
    
    Reported and patch tested by Chippo Elder.
    
    See hrm bug #859034.

commit 2808dc9267c9650c8932b761060d821b931f246b
Author: Hilde Bye <lagnason@hotmail.com>
Date:   Fri Mar 6 21:05:35 2020 +0100

    Actprob for the action Airlift.
    
    See hrm 863338

commit 07e9bc3693738f5dcf2d4fd3c3c4e597a4ad2860
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 5 23:06:40 2020 +0100

    No Illegal Action Move Cost for disembarking.
    
    Disable the Illegal_Action_Move_Cost effect for "Transport Disembark", for
    "Transport Disembark 2" and for "Transport Alight" in all rulesets with the
    effect.
    
    See hrm Feature #863341

commit 69cf56cda7fca79dc0640af477125bb88a25b2df
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 26 01:05:30 2020 +0100

    Centralize action failed dice roll.
    
    See hrm Feature #862919

commit 9351ca9f40bb9def9ee5718a4ae050bd7617fd89
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Feb 25 23:19:16 2020 +0000

    Qt: tweak irrigation/mining UI hardcoding
    
    Similar to how SDL2 client was changed recently.
    
    See hrm bug #861867.

commit c483db67e23fa7a05a3ee0c412d3d98f51a3f1b9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Mar 1 16:31:51 2020 +0000

    Gtk3/4: fog_style "Auto" was too dark
    
    Fix it to (roughly) match what the Gtk2 client had (65% of normal).
    
    See hrm bug #862511.

commit e60ce5ab1b9b08dc9bea9df7fdc3b7da62d81b3c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 1 00:20:50 2020 +0100

    clients: targeted no longer hides untargeted.
    
    The untargeted version of an action used to hide the target version in the
    action selection dialog. The untargeted version was selectable from the
    targeted version's target selection dialog.
    
    Hiding the untarget version made the UI look like before the actions were
    split. It made the code more complex. It made the UI not map 1:1 to the
    ruleset. It hid the UI name of the untargeted version when the targeted
    version was legal. It doesn't always make sense to only expose the
    untargeted version as an option next to the targeted version's targets if
    the targeted and the untargeted version have been made different enough by
    the ruleset. It was inconsistent with showing the production targeted action
    when the targeted building targeted action is enabled.
    
    Stop hiding the untarget version of an action when the targeted version of
    it is legal too. Do this in all clients. Considering to drop non targets
    from the target selection dialog of targeted actions can be done later (and
    on a per client basis).
    
    See hrm Feature #862482

commit c3830000985937b9fbde850b78808e507bdd931b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 17:56:01 2020 +0100

    SDL 2 client: remove redundant act sel dlg cb.
    
    Use simple_action_callback() in the action selection dialog where possible.
    
    Delete all the old action specific action selection dialog callback functions
    that don't do anything simple_action_callback() can't do.
    
    See hrm Feature #862468

commit 5bcd5263cda45f6c781e5d28731d92c658ff899e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 15:23:47 2020 +0100

    SDL 2 act sel dlg: generic call back.
    
    Add the generic simple_action_callback() to the SDL 2 client and use it as
    default when no call back is specified.
    
    See hrm Feature #862450

commit 34f8923f5998bfc7931e668547e4ad9623e40388
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 16:30:31 2020 +0100

    SDL 2 act sel dlg: pass action id in item ID.
    
    Pass action id to callback in the SDL 2 client's action selection dialog.
    
    See hrm Feature #862459

commit 27d463d8ce8a7953f71d8be9ca8fa2f265dfcc7a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 13:11:49 2020 +0100

    SDL 2 client act sel dlg: set units target.
    
    Assuming all units targeted call back functions will look up the tile target
    id while keeping the units target id undefined is a bug waiting to happen.
    
    See hrm Feature #862448

commit 20e80406d096796191c067e6098f85487b052b7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 13:07:36 2020 +0100

    SDL 2 act sel dlg: store all sub target kinds.
    
    Make the SDL 2 client action selection dialog store all sub target kinds.
    This prepares it for support for the action selection dialog itself setting
    sub targets for more sub target kinds than extra sub targets.
    
    See hrm Feature #862431

commit 773df782079830148dde24cfb09d891759e96e39
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 01:36:55 2020 +0100

    SDL 2 client: actor ID from standard location.
    
    Standardize where the action selection dialog's per action callback
    functions gets the actor unit's id. Have the act sel dlg cb functions always
    get actor unit id from pDiplomat_Dlg->actor_unit_id.
    
    See hrm Feature #862429

commit a93fd2047d30ba64346cede07e92810d77efa961
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 13:07:47 2020 +0100

    Qt act sel dlg: store all sub target kinds.
    
    Make the Qt client action selection dialog store all sub target kinds.
    This prepares it for support for the action selection dialog itself setting
    sub targets for more sub target kinds than extra sub targets.
    
    See hrm Feature #862433

commit b59a1e8a84dc120f29b434943e02bc6aebe3cca5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 12:58:01 2020 +0100

    GTK clients: fix building sub target encoding.
    
    Actions that could target a city's current production or an improvement in
    the city were split in hrm Feature #852132. But the (currently unused)
    support for specifying a building as sub target in the action selection
    dialog (rather than in a follow up dialog) wasn't updated to the new simple
    encoding of building sub targets. Update it.
    
    See hrm Bug #862428

commit a32a00e492f9cc7987d9a3257dc8a5c10fd4906d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Feb 28 18:51:25 2020 +0000

    Updated Spanish translation by Jordi Negrevernis i Font
    
    msgmerged from S2_6 efeffaba27. Stats on master:
    core: 84%: 6526 translated, 831 fuzzy, 394 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 51%: 57 translated, 25 fuzzy, 29 untranslated.

commit 3cc0a57a2fb4b1760c11197ba0cb7e99034e6d8f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 26 00:42:43 2020 +0100

    Centralize action fail dice roll odds finding.
    
    Include the diplchance server setting for actions based on it. Then apply the
    Action_Odds_Pct effect.
    
    See hrm Feature #861876

commit 875eb89465a9c0c9c2d67b257458046b59ed0c24
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 26 00:41:58 2020 +0100

    actions.c: sort imports.
    
    See hrm Bug #861875

commit 936577c8c5f81a8da5caf4634993903bd3a5b1e0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 17:09:14 2020 +0100

    Int server setting value access.
    
    Add a function that gives access to the value of integer server settings to
    fc_interface. This can be used to check the value of int server settings that
    aren't sent in PACKET_GAME_INFO. Add an int server setting value checker to
    the server_settings module.
    
    See hrm Feature #861868

commit 55be574cfd8deb8b4be3568647e51a9648728ef3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 24 10:48:49 2020 +0200

    Update msys2 environment to 200224 level
    
    See hrm Feature #848624
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e7791b0a7f3cbbec5936fae0804e7aa038437b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 13:40:29 2020 +0100

    Suitcase Nuke: explain why no actprob.
    
    Document why Suitcase Nuke (/Escape) doesn't have action probability
    calculation in its TODO comment.
    
    See hrm Feature #861850

commit 27a9eb6ab60b73705ac0758bf3ce1ea858ff1b18
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 13:12:24 2020 +0100

    User actions: accommodate Lua dice rolls.
    
    Explicitly set the action probability of each User Action to not implemented.
    They are owned by the ruleset. The ruleset author should be able to implement
    dice rolls for them in Lua without getting the wrong action probability sent
    to the player.
    
    See hrm Feature #861829

commit ae422ce44627ead01a5a8ce350427b526147c8c2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 14:15:11 2020 +0100

    Action probability for "Poison City".
    
    Calculate action probability for "Poison City" and for "Poison City Escape".
    Will almost always be unknown because of potential invisible diplomatic
    defenders.
    
    See hrm Feature #861827

commit c680ad7aef3729cf942235e8e7104ce0159486ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 14:11:30 2020 +0100

    ap_diplomat_battle(): support unseen defenders.
    
    Don't assume that all potential diplomatic defenders are visible when
    calculating action probability. This makes it possible to use it in more
    actions without leaking information.
    
    See hrm Feature #861825

commit ed6f929f6cf17e43c08119b094b3502960c82b3e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 12:39:09 2020 +0000

    SDL2: show turns / result of bases/cleaning
    
    In the order button tooltips for Fortress, Airbase, Pollution, and
    Fallout, show which extra they would affect and how long it will take to
    complete the activity.
    
    See hrm feature #861501.

commit 7498077d86d678279cc1d62d6828375936232055
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 16:26:51 2020 +0000

    SDL2: remove never-used order tooltip strings
    
    These were overwritten by context-sensitive strings before anyone could
    see them.
    
    See hrm bug #861500.

commit 9d0432728c131c17a7ad3ca46ca71cda5ed16878
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 12:52:07 2020 +0000

    Remove traces of auto-attack order in SDL2 client
    
    This was functionally dead code.
    
    See hrm bug #861499.

commit e8d9f1ed5646dfd2c53b931de920a20488d09c1d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 16:30:10 2020 +0000

    SDL2 order button turn estimates were very wrong
    
    The time to completion reported in the tooltip on buttons like
    irrigation did not take into account unit activity rate, so were too
    pessimistic by at least ACTIVITY_FACTOR (10x).
    
    (This change adds a general function turns_to_activity_done() which
    accurately calculates how long an activity would take to complete if a
    given unit were to start work on it now.)
    
    See hrm bug #861460.

commit 493bbf73c648eefe7596b5b929e7d809e111abc6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 15:10:09 2020 +0000

    Fix middle-click popup for some complex rulesets
    
    In a hypothetical custom ruleset where different activities could cause
    creation or removal of a single extra, the middle-click tile info popup
    got very confused about the activities and their completion time if
    those two activities were ongoing on a tile simultaneously.
    
    Also, split out the turn calculation to a separate function, as I'm
    about to need it for something else.
    
    See hrm bug #861509.

commit 78d0025dab106e86a31d482257362044a8c20350
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 14:48:28 2020 +0000

    Don't prevent pillaging of non-infra extras
    
    It was possible to give extras with cause "Pollution", "Fallout",
    "Appear", "Hut", or "Resource" an rmcauses of "Pillage" in a custom
    ruleset, but actually issuing a pillage order did nothing.
    
    See hrm bug #861508.

commit 86c62eb8242d4fe1b57a14c1877d715e1b3b3bc6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 10:59:10 2020 +0000

    Improve SDL2 mining/irrigation UI hardcoding
    
    It still has some hardcoding that works best with rulesets like
    'classic', but it should adapt a bit better to different rulesets now.
    
    See hrm feature #861498.

commit c8881b85d6911270d1a3f94961bae8ffdd57524f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 13:00:02 2020 +0000

    SDL2: make fortress/airbase keys as documented
    
    From 2.6, the keys were supposed to become Shift+F/Shift+E respectively.
    Gna patch #5076 claimed to fix this, but it only changed the UI text;
    the actual recognised keyboard shortcuts were still unshifted.
    
    See hrm bug #861497.

commit f7ab15f392d39602ce3187c7770d5e891cf24137
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 22 15:26:30 2020 +0000

    SDL2: pluralise worklist length message
    
    See hrm bug #861462.

commit bfd243d1901d05e30fee3a82986b26cc6275f46d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 22 22:23:44 2020 +0000

    SDL2 climate change icons not updated sometimes
    
    See hrm bug #861479.

commit f360afb4ed83c10e7993a25418928023758a8ac0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 22 22:23:19 2020 +0000

    SDL2 worklist UI not reliably refreshed
    
    See hrm bug #861461.

commit 5c49fa4b0c6ac84b74d6adef10d49a777f5dd410
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 13:24:04 2020 +0100

    Strike actions: explain why no actprob.

commit 5fc3a22b3a1681d80c68b9ec0b8f0cf0b78ca239
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 23 01:43:34 2020 +0200

    Fix clang-9 warnings
    
    This is a port to master from the complete patch for S3_0.
    There might be some master-specific warnings that this does not catch.
    
    See hrm Bug #859248
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b29d6320d8f12337a2f25dc0a99eb6b79e6d4ef
Author: Hilde Bye <lagnason@hotmail.com>
Date:   Tue Dec 17 18:55:59 2019 +0100

    Actprob for transport (un/)load actions.
    
    Add action probability for transport unit entry and exit actions.
    
    See hrm Feature #852981

commit bc110fd68043ec7cae8ead1c187ec1a2d8dae9e1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 22 23:10:41 2020 +0100

    Travis CI: work around homebrew + Travis issue.
    
    The Travis OS X builds started to fail because Travis failed to use homebrew
    to install SDL 2. It failed because it couldn't find the bundle command.
    Looks like homebrew renamed it and that Travis didn't update its OS X image.
    
    The work around is to update homebrew until Travis updates their images.
    Solution found in casconed's comment at
    https://travis-ci.community/t/macos-build-fails-because-of-homebrew-bundle-unknown-command/7296
    
    See hrm Feature #861472

commit dcaa93b3f905e307763da940ea7e369616471a71
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 22 20:56:36 2020 +0000

    SDL2: explain what a gui_layer is
    
    And how a widget's coordinates relate to it.

commit 5b2d753174606a0ecdcb699630518bf83338cc4b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Feb 20 00:44:49 2020 +0000

    Gtk: don't default to merged messages/chat layout
    
    It's not a very friendly default for new players.
    
    Gtk3+ can still default to it on first run, if they determine the
    screen to be small. (Like other similar options, any Gtk2 setting is
    ignored on first run, so on this branch we can forget the Gtk2 setting
    and its associated migration code.)
    
    See hrm feature #860624.

commit 94da0441a68c87bed975e80feea592a696c4bf36
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Feb 20 01:29:13 2020 +0000

    Remove Gtk2 options that aren't migrated to Gtk3+
    
    The 'fullscreen' and 'small_display_layout' options are deliberately
    ignored when doing the Gtk2->Gtk3 migration, so there is no need to
    retain knowledge of them on this branch, now that it no longer has a
    Gtk2 client.
    
    See hrm bug #861147.

commit 34410e74af93e5947c8232dc932e8fe79ea17435
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Feb 19 22:58:42 2020 +0000

    Fix comments around gui_gtk_message_chat_location
    
    I'm not sure whether the comment that these options' default was ignored
    was true when I wrote it in 2010; but it's certainly not true now.

commit 49ac7ca2ee16eace657daf2bf63af848999d6db7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 17 00:29:51 2020 +0200

    fc_version: Separate entering beta mode from releasing beta1
    
    This is an process documentation update.
    
    See hrm Feature #860640
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 421f80138528fe23f9d95a530caf31888db32645
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 14 09:07:04 2020 +0100

    Travis CI: configure arguments to separate lines.
    
    Break up the ../autogen.sh calls so each argument is on a separate line. This
    increases readability and makes travis-build.sh more git blame friendly.
    
    See hrm Feature #860094

commit 46f22c251d36539d5059bd1876a46dbb024cc9ab
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 13 15:11:59 2020 +0100

    Sanity check actor move cost actions.
    
    Only units can pay a cost in moves. Verify  that actions required by the
    Action_Success_Actor_Move_Cost have a unit actor.
    
    See hrm Feature #849882

commit 1a8d9a3958a8118a851d1fea4615b847fe30ebcb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 14 06:07:49 2020 +0200

    Qt: Correct capitalization of the Map Image file name
    
    See hrm Bug #860076
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8eb918281dd4b73d8aea2122fe4e5b4a455ca914
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Feb 14 22:02:21 2020 +0100

    Updated French translations
    Started coherency check among branches, but too late to make it for 2.6.2 - It will be finished later...
    Also tried to be more consistent with the capitalization policy of the English strings : capitalized unit, tiles & government names.

commit c143df38063763c8765ecae4dac65f007932ad90
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Feb 14 16:22:39 2020 +0500

    Update for Russian translation.

commit 0823ceb315ab83fa14e87cb48fb3d81707516df9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 18:56:39 2020 +0100

    "Nuke City" and "Nuke Units": ruleset max range.
    
    Allow the ruleset to set max range for "Nuke City" and "Nuke Units". This
    makes them consistent with "Explode Nuclear".
    
    See hrm Feature #859845

commit 207f5617b0a8f7acdb93d708709925c6520cefeb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 18:41:51 2020 +0100

    rulesave: save all var named action properties.
    
    Save action kind, min range, max range and actor consuming always if a var
    name is defined. It is too easy to forget to add saving by hand.
    
    Group by action.
    
    See hrm Feature #859843

commit 14459f564fff7ae9d3fc89bcd5708ae121af2e07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 14 05:35:26 2020 +0200

    Update Finnish translation
    
    Merge Sini Ruohomaa's S2_6 update to later branches.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a623e13f5ac5a539c6b90afacc667f4266ceae2e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 12:38:18 2020 +0100

    sandbox: demonstrate "Spy Attack".
    
    See hrm Feature #859809

commit c4142ed6a9c8558d3fdb6878d0f2bb392e5b8ddc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 10:02:18 2020 +0100

    Add the new spy action "Spy Attack".
    
    Fights a diplomatic battle like when surprised by a diplomatic defender while
    trying to perform another spy action.
    
    Before gna patch #5300 attempting to bribe or to sabotage a unit capable of
    diplomatic defense would trigger diplomatic combat with no follow up
    action since the actor or the target would be eliminated. Allow rulesets to
    bring this back.
    
    See hrm Feature #859163

commit 27888e21dc16535dbbb1befae047b3b2dd7dd889
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 09:05:34 2020 +0100

    diplomat_infiltrate_tile(): pass defender owner.
    
    Some action performers may wish to be informed who the owner of the unit that
    defended against its action is.
    
    See hrm Feature #859794

commit ce59216187a0b7bc9e861a7596345ee9ff1ac90b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 08:35:57 2020 +0100

    diplomat_infiltrate_tile() without primary victim
    
    It is possible to imagine an action without a primary victim player. An
    action targeting a stack of units with different owners is one example.
    
    Allow using diplomat_infiltrate_tile() in an action without specifying a
    primary victim player.
    
    See hrm Feature #859778

commit c49feaa380d04d89a683f0940d4787497c1510b9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 11:01:28 2020 +0100

    ap_diplomat_battle(): indention fix.
    
    Fix misleading indention.
    
    See hrm Bug #859775

commit f568f5bb700de1aa11178991e37898b557cba21c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 10:01:06 2020 +0100

    ap_diplomat_battle(): stop assuming unit target.
    
    Stop assuming that the target kind of the actions ap_diplomat_battle() checks
    the diplomatic battle probability off is individual units.
    
    See hrm Feature #859761

commit f7827dc24147d99c2b26e0033f7d6e8f1f9cfd99
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 08:08:34 2020 +0100

    Auto document diplomat battle of "Spread Plague"
    
    See hrm Bug #859759

commit af50b285bea1cec8d0633ad0426dc02d8905c0bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 9 12:06:25 2020 +0100

    Streamline ruleset settable action consuming.
    
    If an action always will consume its actor can be set in the ruleset for
    some actions. Centralize ruleset variable name.
    
    See hrm Feature #859740

commit 268986ca6a54566111892288bc9c1cab1c3605c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 11 18:12:09 2020 +0200

    Update Finnish translation of ruledit domain
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b07320f90acadf2a5a1a7d8cdfa8cb281631499a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Feb 11 09:59:11 2020 +0000

    Updated Polish translation by Hubert Kowalewski
    
    merged from S3_0 9316628d76. Stats on master:
    core: 97.9%: 7587 translated, 117 fuzzy, 46 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 86%: 95 translated, 8 fuzzy, 8 untranslated.
    
    (This fixes the UTF-8 msgid confusion in the previous update.)

commit 86e6459c7de210c5be15f5fc6d456e8e6a548f82
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 9 13:32:17 2020 +0000

    GUI modpack installers: fix message display
    
    Some messages were allocated on the stack in frontend-independent code
    and being passed to another thread and accessed after they went out of
    scope.
    
    Reported by Chippo Elder.
    
    See hrm bug #858823.

commit e412315a9f6759d7fb93d698bfffa91426e0c715
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 8 22:46:35 2020 +0200

    citydlg_common.c: Include stdarg.h
    
    See hrm Bug #859209
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 222f4d006c6609059e4c1edc7216b6fc88bfb42c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 8 13:02:31 2020 +0000

    Gtk3+: set size request on unit buttons
    
    To stop the main view jumping around when the size of the unit stack
    changes (with wide tilesets such as hex ones).
    
    See hrm bug #858871.

commit 74cb0d3f3931e3b14d4648a9cc880654cbc44845
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 7 19:36:37 2020 +0100

    Add the new spy action "Spread Plague".
    
    Bio-terrorism. It triggers a plague in the target city artificially. If
    illness_on is FALSE the plague won't spread along trade routes. In that case
    "Spread Plague" becomes like "Poison City" except that the actor unit can get
    caught in a pre action dice roll. (See the diplchance server setting and the
    Action_Odds_Pct effect.) "Poison City" and "Spread Plague" can both be
    stopped by a diplomatic battle.
    
    This represents relatively low tech bio-weapon usage. Slightly more
    sophisticated than using catapults to sling victims of the bubonic plague
    over the city walls, but not much. I assume that current bio-weapons has
    optional features like limitation of reach by giving the biological agent
    high mortality and quick onset of symptoms, limitation of reach for the
    deadliest parts of the payload by giving those parts a high probability of
    mutating away before the biological agent has time to spread to its creators'
    population, ethnic targeting, and the increase of reach and target population
    panic by making the agent contagious before onset of symptoms, a long
    incubation time and a dramatic way of killing its victims. This action can't
    do that. That would require a system for bio-weapon design (where
    capabilities are chosen), development, testing and spread when released.
    
    See gna patch #5537
    See hrm Feature #859148

commit 885238643597958aa7176453b4dc92080fdee2d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 7 21:08:38 2020 +0200

    Qt: Fix heap-use-after-free in nations dialog
    
    Reported by Chippo Elder
    
    See hrm Bug #858212
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8215cd3914ae6e504b108d691a17b982f6d21e9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 6 16:56:56 2020 +0100

    Display airlift capacity in the city dialog.
    
    Make the Qt client and the GTK clients display the city's current airlifting
    capacity in their city dialog.
    
    Tested by Chippo Elder
    
    See hrm Feature #858965

commit 61a80133a7c678ee2245eb5f5a9e9d846c11c91d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 6 18:37:24 2020 +0100

    Comment clarification

commit baf743c87f93c149b0d0aacf404a23831a242290
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 8 18:26:37 2020 +0000

    TRANS comments about leading spaces

commit c9301d462a23d925acad11ca8810b97d74250544
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 27 04:45:53 2020 +0200

    Enable -Wtype-limits in --enable-debug builds
    
    See hrm Feature #855476
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18e608c37efc53f4ea997cf6d83e1315487fe15e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Feb 6 00:52:51 2020 +0000

    Fix player colours when ruleset overrides tileset
    
    When a ruleset's suggested tileset was accepted (automatically or by the
    user), the parts of the tileset depending on player colours weren't
    reliably being initialised, leading to effects like no visible borders
    and assertion failures when trying to draw them.
    
    Reported by Chippo Elder.
    
    See hrm bug #858072.

commit a61897320f3e2c167a363323f7a0e127f25e8997
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 3 01:13:57 2020 +0200

    Do not unqueue mapview updates when tileset is not fully loaded
    
    Timer initiated unqueue was sometimes crashing in the middle of
    a tileset change.
    
    Reported by Chippo Elder
    
    See hrm Bug #858069
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 486bce2328332a95ad8b5e883d273e0ec3ff7edd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Feb 6 23:49:00 2020 +0000

    Merge current S2_6 en_GB translation
    
    From b5d01adc0a. Stats on master:
    core: 81%: 6265 translated, 999 fuzzy, 466 untranslated.

commit e4ea7914db4ccc8c928f96229599b87154adcb24
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Feb 3 21:38:16 2020 +0000

    TRANS comment about tileset types

commit 5fa96c064c65cccbaa160c411b141f3332cae7a6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 4 14:36:17 2020 +0100

    Ruleset defined max range for "Airlift Unit".
    
    Introduce airlift_max_range. Unlimited airlift range may be a bit much in
    some rulesets.
    
    See hrm Feature #854978

commit 481826d46b628895cbd63f7f16fed76c08cb02a6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 10 07:25:47 2020 +0100

    Limit Disrupt Supply Lines targets to land units.
    
    Limit Sandbox and Webperimental's Disrupt Supply Lines user action to land
    unit targets.
    
    See hrm Bug #855200

commit f32a2bae0e88f665021b579af12c346b20e86c6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 3 00:27:59 2020 +0200

    Fix ghost unit issue when unit is loaded to an transport on the same tile
    
    Reported by Chippo Elder
    
    See hrm Bug #858214
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3fa205f618b14067c59ad4e5d3dcef37ba370f05
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Feb 3 21:28:39 2020 +0000

    Tweak topology-related strings
    
    Standardise on "overhead" as terminology for non-iso, non-hex maps; get
    rid of notion of topology 'index', now that setting is a bitfield; etc.
    
    See hrm bug #858226.

commit 64eb7499d51fddbf41889f430d93c22919636980
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 3 01:08:30 2020 +0200

    Fix error message typo; "reparing" -> "repairing"
    
    See hrm Bug #858243
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5998d0237f7c0d21aeae919f9fa819be2e67bd33
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 16:34:50 2020 +0000

    A few miscellaneous string tweaks
    
    Including moving toward standardising on referring to action names as
    "do %s", rather than assuming they all have a main-verb-like form.
    ("You're Fired" does not, and "Recycle Unit" is dubious in some
    contexts.)
    
    See hrm bug #689474.

commit 9673cadface7346cd0f815bd0895a70b3ddb8ea1
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 22:24:14 2020 +0000

    Rework GUI option migration
    
     - Don't try to migrate anything on first run. (This was probably
       harmless, but unnecessary.)
    
     - On first boot of a client, mark all migrations relevant to it as
       done, so that they can't accidentally trigger on subsequent runs.
       (For instance, if the user explicitly enabled full-screen on first
       run, migrate_options_from_2_5() could clobber it back to FALSE on the
       second run.)
    
     - Avoid an enabled fullscreen setting from pre-2.6 Gtk2 leaking though
       to Gtk3.x/4; as with migration from 2.6+ Gtk2, we want to start again
       from defaults for this setting.
    
     - In the Gtk3.22/4 clients, migrate a pre-2.6 fullscreen preference that
       would have affected the pre-2.6 Gtk3 client (if there is no newer
       Gtk3-specific fullscreen preference).
    
    See hrm bug #858208.

commit 33756f17f9ddecff99647c36e3d2a16374d3568b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 22:23:14 2020 +0000

    Don't migrate small_display_layout Gtk2->Gtk3
    
    The Gtk3/4 clients may decide to override it to TRUE anyway, but if they
    don't, we don't want a TRUE from Gtk2 leaking through anyway; we want it
    to be freshly evaluated, as for a fresh boot of the Gtk3/4 client(s).
    (The same as the 'fullscreen' setting already is.)
    
    See hrm bug #765941.

commit 59ff7b4083fab6c480cb7ac45df5213ca0ffbf86
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 21:52:08 2020 +0000

    Abolish client_option_adjust_defaults()
    
    The only client that was using this GUI-independent mechanism was Gtk,
    and it was being called too early to actually work properly for Gtk.
    
    Remove the nominally client-independent interface, and instead do the
    Gtk adjustments at the same time as option migrations.
    
    This fixes two problems with the Gtk screen-size-dependent adjustment:
     - It was attempting to determine screen size before gtk_init(),
       which caused a return of 0 (unknown), so it would not actually adjust
       anything.
     - It was adjusting options before the GUI-dependent command-line
       options had been processed, so "-- --resolution" could not affect the
       adjusted behaviour.
    
    See hrm bug #858203.

commit 11da066462fff362961a511f140eb6bf72ebc390
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 21:27:39 2020 +0000

    Gtk: don't default to small screen layout
    
    Gtk3.x/4 clients will now enable the small layout on first run if they can
    determine that the screen is <1024px high (previously it was the other
    way round).
    
    Add a bit more logging to the area.
    
    See hrm feature #858179.

commit ce2bff9ee3c62e0b1ae698af45e5f13d1f70be13
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 18:52:17 2020 +0000

    Gtk3.22/4: adapt to screen size
    
    Enable all the mechanisms that the Gtk3 client has to adapt to screen
    size, using the primary monitor of the default display (if available).
    
    See hrm feature #858202.

commit 7798ace058c724927ae054e036247825f6698ca7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 21:52:44 2020 +0000

    Treat client rc load failure same as first run
    
    Since it uses defaults, just the same as when no rc file was found.
    
    This also applies if a path to a non-existent file was specified with
    the FREECIV_OPT environment variable, causing creation of a fresh one.
    
    This change has little practical effect right now. It causes the Gtk3
    dynamic option adjustments to be invoked, but they don't actually do
    anything right now. It suppresses some spurious "Migrating [...] from
    freeciv-2.5 options" messages (the actual migration had no effect).
    
    See hrm bug #857675.

commit e2a2247ed3a6b0dc3cdea306d8005365de47215a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 02:28:07 2020 +0000

    Fix defaults for migration_gtk2/gtk3_from_2_5
    
    They were swapped. This might have caused a user full-screen preference
    to be clobbered in some obscure sequence of different Gtk client starts
    after upgrading or starting with 2.6+.
    
    See hrm bug #858207.

commit 6227290d8aab566d434859720dede2204c30b52e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 29 12:36:55 2019 +0000

    Clarify description of 'mgr_distance' setting
    
    After reports by Corbeau and Ignatus on the forum.
    
    See hrm bug #854305.

commit 4b6cb2ce87d52d58fd3156483f838847fefc8a42
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 14:40:52 2020 +0000

    Correct help about city defense bonus
    
    Reported by 'fomalhaut pa', fix suggested by Marko Lindqvist.
    
    See hrm bug #763061.

commit de9c555f5b829b86aa75117f88cf4899d4f6e15c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 14:26:13 2020 +0000

    Describe worker tasks in online help
    
    Requested by Marko Lindqvist.
    
    See hrm feature #657405.

commit 135d43eed02d62a8a14076b663553040d6c4fba2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 10 12:58:47 2020 +0200

    Fix type-limits warnings from report_demographics()
    
    See hrm Bug #855542
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e17389b201a923309ad65ad660d81c3962f9918d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 15:10:05 2020 +0000

    Add missing toonhex.tilespec to POTFILES

commit f39eef49cc00f6a6e9c8857a6c9c971693870015
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 15:08:58 2020 +0000

    Alphabetically sort tilespec files in POTFILES
    
    No functional change.

commit 951e1d4aa29f0c1a2ab9b39c4e450e97fa746554
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 15:17:23 2020 +0000

    Fix toonhex.tilespec for string collection
    
    Fix 'unterminated character constant' caused by apostrophe in comment.

commit 6f5af46cdf87f6090a8bb3f855504101272e8881
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 11:22:15 2020 +0000

    Miscellaneous TRANS comments

commit 240348fc2beb2c07539a39f2410f8f509b7a1f30
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 30 17:45:23 2020 +0200

    qt: Properly NULL-terminate gfx file extension list
    
    Reported by Chippo Elder
    
    See hrm Bug #857808
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a50389cffd6904bfa16b6f4e763cc67d77bd67d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 28 17:59:37 2020 +0200

    gtk3.22/gtk3x: Migrate settings all the way from gtk2-client
    
    Requested by Jacob Nevins
    
    See hrm Bug #856682
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce8d9b396bb881fc921979ae93a802cd3825a6ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 27 04:32:46 2020 +0200

    Make tech parasite effect to count teams, not players
    
    Reported by fomalhaut pa
    
    Tested by Chippo Elder
    
    See hrm Bug #817118
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7be357005455ab53e97eb95aa9a196e9fb86aa9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 11 05:49:20 2020 +0200

    Fix type-limits compiler warnings from log_parse_level_str()
    
    See hrm Bug #855539
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c5ef9e34c74083714a025b171a7e0ca428775ef
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 26 12:37:39 2020 +0000

    Gtk3.22/4: fix city dialog emergency highlighting
    
    The red highlighting of things like famine only showed up the first time
    a city dialog was opened.
    
    The custom style provider continues to exist throughout, but was not
    being associated with the new widgets of city dialogs after the first
    time, so those new widgets' "emergency" style had no effect when applied.
    
    See hrm bug #856484.

commit 4f9d5c695dcc754166f9f524153d9b028a62a7a2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 14:18:05 2020 +0000

    Qt: use fixed-width font for city dialog popups
    
    See hrm bug #857341.

commit 9952f52aa7dd0092c749b9f68f40ff7e97c754a9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 22:02:59 2020 +0000

    Qt: take more care over HTML-escaping
    
    Various ruleset- and user-defined text was being interpreted as
    (Qt) HTML in some contexts without being HTML-escaped.
    
    This is not a complete fix -- tooltips in particular are still a bit of
    a crapshoot -- but it improves the situation a lot.
    
    See hrm bug #857342.

commit dafc58729b5f7ac9e9716a3c7a5bb954a52d6fd1
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 17:54:08 2020 +0000

    Qt: &-escape ruleset and user text
    
    Various menus and buttons were letting ampersands in user and ruleset
    text cause unwanted mnemonics.
    
    See hrm bug #857340.

commit 0cceb917f68df0029f0da24c2a53ea714a7ad817
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 20:00:23 2020 +0000

    Escape mnemonics in action UI names
    
    If a ruleset's action UI name happened to contain a client-specific
    mnemonic character (such as "Steal&Escape" with the Qt client), it could
    cause unwanted mnemonic effects in that client.
    
    See hrm bug #857339.

commit 1730776a3cedeb0754c2f57a2436f7d4cf261259
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 26 00:33:13 2020 +0000

    Sanity check ruleset's unit capacity against cargo
    
    See hrm feature #857338.

commit 294c1a5c7a7493a2f1cfd33f0c2c1de9de108f72
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 26 00:32:26 2020 +0000

    stub/granularity: Generic Ship had no cargo
    
    See hrm bug #857337.

commit 9d044f6afd1d8adf0c9ee77cce69d2f5a10bb673
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 22:19:32 2020 +0000

    Qt nation report showed own gold/gov as unknown
    
    See hrm bug #857334.

commit 814fe64619f01a5db80e9e5a7b2c5b572bd24d91
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 20:52:42 2020 +0000

    Qt client didn't translate nation set descriptions
    
    See hrm bug #857331.

commit b6bd5b0726aba4edeae1d6211f6db2937a901820
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 23:45:44 2020 +0000

    Gtk: fix 'weight' property in tech help
    
    We were passing a string instead of a number. As well as not giving the
    intended result, this could lead to console messages like
      GLib-GObject-WARNING **: [...] value "-1453617302" of type 'gint' is
        invalid or out of range for property 'weight' of type 'gint'
    
    Message reported by Chippo Elder.
    
    See hrm bug #857203.

commit f4d6a83e07e73e893ea5d98f094fc9239226327d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 23:27:14 2020 +0000

    civ2civ3/sandbox: fix Statue of Zeus help
    
    It wasn't clear that it affects happiness in every city of its owner,
    not just the city containing the wonder.
    
    Reported by Chippo Elder.
    
    See hrm bug #856984.

commit 1feefb557e15b58edc548f737bdc678e9879821f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 27 04:24:27 2020 +0200

    Introduce clause_enabled()
    
    This initial version cares about settings that are constant
    over the game. Many of the potential callers are not ready
    to handle non-constant returns.
    
    See hrm Feature #768141
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9cc00e86601dba3c7fa156ca963f2625c54ee4d
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sun Jan 26 18:14:14 2020 +0100

    Updated French translations
    (headers included)

commit 16948af158ddc56736cc6edd3b5e464a1bf27ce6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 26 13:47:33 2020 +0000

    Merge current S2_6 en_GB translation
    
    From 53bf835b80. Stats on master:
    core: 81%: 6248 translated, 1008 fuzzy, 472 untranslated.

commit 582c64e8772b5eea90374793979c909e2ec49440
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 00:59:09 2020 +0000

    Gtk3.22: shortcuts for musicset selection dialog
    
    Missed in hrm bug #857082.
    
    See hrm bug #857239.

commit 2d7e624d07fe635b7d7478815c6bcff3e8c1d1fb
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jan 14 01:19:29 2020 +0000

    Display city history points per turn in client
    
    This is now shown in:
     - the city dialog, in the popup sum for "Culture";
     - the city report, on the "History" column.
    
    See hrm feature #857084.

commit 053d3d08d4d42f40b32beb17bd8efd22c0627b14
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 22 21:43:34 2020 +0000

    Add nation history gain per turn to info popup
    
    This is based on client knowledge only.
    
    See hrm feature #857083.

commit f48ea47abf8d547e8722852a7cbfbb41dbca5bac
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 22 21:47:43 2020 +0000

    Gtk: shortcuts for ruleset-preference dialogs
    
    Add keyboard Alt-accelerators for the dialogs shown when the ruleset
    wants to override the tileset, soundset, or musicset.
    
    See hrm feature #857082.

commit dd8d92c7a30c11be1f8bf349eb3077dfb4425f0e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 22 00:46:08 2020 +0000

    Use research_pretty_name() for Lua script API
    
    Most code describing research groups would return a nation plural for
    1-player teams, but Lua (Player):research_name_translation() would
    return "Team 2". This made the embassy "Team 2 acquired ... from scrolls
    of ancient wisdom" message inconsistent with other research-related
    messages.
    
    This changes the grammar of what the Lua method returns, so scripts
    which use it need adjusting.
    
    Reported by Chippo Elder.
    
    See hrm bug #855670.

commit 85f2c14435b57ff104cac0149fb63bb1c4841369
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jan 21 23:56:31 2020 +0000

    Always update menus on tech gain/loss
    
    It was possible for a tech change that granted a new government type not
    to refresh the governments submenu.
    
    Also add a menus_update() when receiving a player_info packet, on
    general principles.
    
    Government/tech trouble reported by Chippo Elder.
    
    See hrm bug #856629.

commit 86c44fe4f79e5c9a85cb64e2bf47109f985d4c38
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jan 21 22:45:33 2020 +0000

    Goto path waypoints weren't displayed sometimes
    
    They were only displayed if the tile already had some other path marker
    on it.
    
    See hrm bug #856946.

commit 36b19949b37722c9d8644513dc8e82ad966b03fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 10 20:36:28 2020 +0200

    Qt: Don't compare equality to 'true' or 'false'
    
    See hrm Bug #855482
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 004dac959afaa7940d9f97e40b83c845f2abb3f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 21 17:50:37 2020 +0200

    msys1: Convert langstat files to ISO-8859-1 when building installer
    
    This fixes display of name of the language "Norwegian Bokmål"
    
    Reported by Jacob Nevins
    
    See hrm Bug #852637
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22cfc27434c798ba40c3ec648d9e23f88fd23a10
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 18 17:40:36 2020 +0200

    gtk: Clear citizens icons beyond topmost when refreshing citydlg
    
    Reported by Chippo Elder
    
    See hrm Bug #856117
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c15ef7c413c2fe130be599c296bb3e15808cdb4b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 18 23:07:50 2020 +0000

    Fix uninitialised read when sending city info
    
    For cities with no rally point, parts of packet_city_info were left
    uninitialised.
    
    Found by valgrind.
    
    See hrm bug #856481.

commit 76b9d4998c555690d7bb34a7d77974dad7dc9c0c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 18 23:06:10 2020 +0000

    Fix uninitialised data loading units from savegame
    
    For certain orders, sub_target could be left uninitialised, causing
    trouble later when unit info was sent over the network.
    
    After a report by Chippo Elder.
    
    See hrm bug #856480.

commit f256b3ab5cf68419db30da60e58e365d06da00c7
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Mon Jan 20 19:14:48 2020 +0200

    Update msys1 environment (iconv)
    
    See hrm Bug #852637
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07203e4c3b8c3fd39fc77963680c33bca7148102
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 18 18:00:38 2020 +0000

    Enable -Wold-style-definition with --enable-debug
    
    See hrm feature #856477.

commit e99e30595b91a43b2b380ba5a5ba8a5a07eb9a7d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 18 18:00:28 2020 +0000

    Fix -Wold-style-definition compiler warnings
    
    See hrm bug #856478.

commit 15fea6a008e63ffeb7a91d9cc326b24487c89e13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 20 05:07:46 2020 +0200

    Qt: Properly scale multiplier value to display units when opening dialog
    
    See hrm Bug #855486
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d978134d0057d517a698d4926ae4f33b3444f5c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 18 10:21:55 2020 +0200

    Fix parsing of per-file debug log levels
    
    See hrm Bug #855477
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 446cc3998ae1c89ecf06440b25d24d5faca87dce
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jan 16 01:47:44 2020 +0000

    Rework sum display in city dialog
    
    Invent a new 'city_sum' facility, that accumulates sum contributors and
    their effects, merges duplicate descriptions, and optionally accounts
    for any discrepancy between the accumulated and 'correct' total.
    
    Also, the "plague" sum now shows the original size of any bonuses from
    effects (e.g. "Bonus from Aqueduct (-50%)").
    
    See hrm feature #856260.

commit 3d1da7b8148ed1755785ed17ad057f7cd1a9cf1f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 29 12:27:50 2019 +0000

    astring: expose varargs method astr_vadd()
    
    See hrm feature #856256.

commit 910e56f74b0e1301affb5d8f9172accf9f7caaf8
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jan 14 09:38:36 2020 +0000

    Fix description of "Multicultural" achievement.
    
    In 55945b78d0 (hrm bug #689474), I erroneously changed rulesets to imply
    that it required multiple nationalities in a single city; but it's
    across an entire nation.
    
    Update README.achievements to clarify this.
    
    See hrm bug #855938.

commit 653c930220a4cd1da4744f0bde7da0aa0c8d0559
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 11 05:43:07 2020 +0200

    Disallow negative line numbers in per-file debug log level definitions
    
    See hrm Feature #855537
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c934d0c288df27d7c1fdc80ee9b13fa377fd809
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 12 03:39:56 2020 +0200

    CodingStyle: Instruct usage of fc__fallthrough
    
    See hrm Feature #853526
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e181103e4ce83b6f3947360863513c8c11c3b4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 9 07:28:31 2020 +0200

    Fix sign-compare compiler warning from genlist_sort()
    
    See hrm Bug #855389
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d40d98b79d49fd05a740d9193ba2f71d3090d0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 11 11:05:40 2020 +0200

    create-freeciv-gtk-qt-nsi.sh: Drop mention of gtk2 from comment
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20bb8888329cb6906f280bb62c7d1211a631078c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 9 05:06:22 2020 +0200

    Qt: menus_sensitive(): Add missing break after DISBAND key handling
    
    See hrm Bug #855366
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c707c35c3e253e89fc4489804fdc0699d7d6d4ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 9 04:48:07 2020 +0200

    Use fc__fallthrough where needed
    
    See hrm Feature #854739
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69099ecbc70f7a10b9f184e1cc1696d527468ce1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 8 16:10:22 2020 +0200

    Qt: Fix nations dialog global observer crash
    
    Reported by Anton Körbchen
    
    See hrm Bug #855199
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c49d364820f596b286c590255f33c7789095b411
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 1 19:59:17 2020 +0200

    Fix sign-compare compiler warning from log_parse_level_str()
    
    See hrm Bug #854474
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab63df8a361be18bfcdb56f1fcb4f7e52c6a39bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 20:13:24 2019 +0200

    ruledit/comments-3.1.txt: Get rid of all tabs
    
    See hrm Feature #854150
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09dd3849e155cd0088908e558267672575eb8221
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 19:57:46 2019 +0200

    savecompat.c: Rename 'enum entry_type' field 'entry_type' as 'type'
    
    See hrm Feature #854149
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72c50d3c76fad3b85979c1cdc17e9937c56c1a73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 14:38:51 2019 +0200

    Travis CI: Meson: Build cli modpack installer
    
    See hrm Feature #854112
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01b1492a0f026a66182a3d6cdbf50f68af0d7562
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 1 12:13:51 2020 +0200

    sdl2: Fix assertions when first opening Help Browser
    
    See hrm Bug #854468
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44c1f3653c1cb26ee71d51a905cc62c90fd180ee
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Dec 29 01:39:45 2019 +0100

    Ruleset user action demo: "Disrupt Supply Lines".
    
    Demonstrate how to implement a ruleset defined action in webperimental and
    sandbox by adding the new action "Disrupt Supply Lines". Everything it does
    is done via effects and ruleset variables. Lua is only used to notify the
    players involved. This makes it friendly to the parts of Freeciv that reasons
    about the ruleset.
    
    "Disrupt Supply Lines" itself takes one whole move from the target unit. The
    price the actor unit pays for this is one move fragment.
    
    See hrm Feature #852114

commit 8e14bfed7a740b1512cef30249a893162a1030bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 1 13:29:51 2020 +0200

    tileset_use_preferred_theme(): Fix theme name setting for gtk3x-client
    
    It was accidentally falling to use sdl2-client theme.
    
    See hrm Bug #854470
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 969661b8ddce0fa525613cf1331cd854bac260fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 6 17:38:47 2020 +0200

    gtk3x: Drop remaining gtk_window_set_role() calls
    
    See hrm Feature #853655
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 157346618f25d6886e4f6b600b06826f1dc0f52b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 31 16:22:30 2019 +0200

    Drop FREECIV_DEV_SAVE_COMPAT_3_0
    
    See hrm Feature #854449
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb9c83e92c45afa9710705a43cfd48f5a0044d8b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 4 04:52:54 2020 +0100

    Limit action default target_kind saving.
    
    Don't save action target_kind for non enabled actions with the default value.
    Save even default value when enabled for the sake of clarity. Save non
    default when not enabled since it is changed and may be wanted for later.
    
    See hrm Feature #854775

commit 91dc0be0bf8c53e24bf3b30c0ce5e247493130b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:32:25 2019 +0200

    Meson: Add 'cacert-path' configure option
    
    See hrm Feature #854261
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f1e4098c5fa22b0280016c8f3342f29e277abfd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 19:44:42 2019 +0200

    AI: Check migration from cities full migration distance away
    
    When calculating want for Migration_Pct effect, AI was not
    considering cities far enough as potential migration sources.
    
    Reported by Jacob Nevins
    
    See hrm Bug #854301
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f48152bea208391a53234e45d76e92e3d08b1d48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 1 13:15:15 2020 +0200

    Add missing break to handle_unit_get_actions()
    
    See hrm Bug #854469
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 613b89294ed84edc994da6e142bbc70361fcefc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 31 00:27:54 2019 +0200

    Rename entry_type() as entry_type_get()
    
    See hrm Feature #854095
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff5266029692fa5cafd78e48777aeb36617e2768
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 3 11:09:31 2020 +0100

    Streamline ruleset settable action range.
    
    The minimum and maximum distance between actor and target can be set in the
    ruleset for some actions. Centralize ruleset variable name and default value
    for those actions.
    
    See hrm Feature #854686

commit 2f4a87c371b592053e847f14d60d6b17fa6fcf62
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 3 08:37:30 2020 +0100

    SQLite3 detection: fix "unary operator expected".
    
    See hrm Bug #854668

commit 78b9d7d679e6a77e0f4e254cb63febc90fa9124b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 22:51:34 2019 +0200

    fill_sprite_array(): Call city_size_get() just once in LAYER_CITY2 handling
    
    See hrm Feature #854366
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9e0712842b368f7ea8620a85c01d08a0266ff9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 4 18:16:59 2020 +0200

    Correct --with-qt5x error message
    
    It was claiming that Qt6 libraries were looked for, while we
    still look for Qt5 libraries. Make it to say 'Qt5x' libraries.
    
    See hrm Bug #854021
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db84ff18914ec039b9d7a52e4d35620cb9b0baa9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Jan 3 01:18:52 2020 +0000

    Increase MAX_NUM_RULESETS from 16 to 63
    
    This affects PACKET_RULESET_CHOICES used in single-player setups.
    
    See hrm feature #854627.

commit 1580358aec7f0a2d421d7249607996c9499393a5
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Jan 3 00:21:17 2020 +0000

    Server: new command '/list rulesets'
    
    This uses the existing single-player logic to enumerate .serv files
    (which conventionally correspond to rulesets).
    
    Also, in a single-player setup with very long .serv file names, the
    server no longer sends invalid truncated names to the client (it no
    longer sends such filenames at all).
    
    See hrm feature #854630.

commit 38c21ab19064f351504cd9d9d30bc5e27f97ef7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 4 15:48:14 2020 +0200

    ruledit: Add support for --Fatal commandline option
    
    See hrm Feature #853490
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6efdfd65a355ee2c2bbaec6770f1eba9ff1db314
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jan 2 21:11:20 2020 +0000

    Server: cope better with failure to load savegame
    
    Particularly in the common case where the required ruleset is not
    available.
    
    See hrm bug #854623.

commit 92ba915812ed8cd15448bc16c46a4394d15d0544
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jan 2 17:12:24 2020 +0000

    Add purpose comment to fc_config.h
    
    Mainly for the benefit of people who see it in binary distributions like
    the Windows builds.
    
    (For Meson builds, the same comment goes in freeciv_config.h too, since
    unlike autotools fc_config.h is not a superset of that.)
    
    See hrm feature #854615.

commit 9689475b4f75cf33d18562635c0a2bfa2e905972
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 12:19:09 2019 +0200

    Fix sign-compare compiler warnings from fc_utf8.c
    
    See hrm Feature #854096
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7a45eceb13c1e572c3a86aafa147d52481af764
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 4 03:05:39 2020 +0200

    core/POTFILES.in: Add gui-qt/themes.cpp
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 08f22727996fc67dfd1702677e008c7c5be6949a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:06:19 2019 +0200

    Meson: Define FREECIV_MSWINDOWS when building for windows
    
    See hrm Feature #852980
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8381b065cd8036a65d0d420e4520ccea9f31fe2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:01:21 2019 +0200

    sdl2.m4: Correct upstream version number to 2.0.10 in comment
    
    See hrm Bug #854328
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6e283b57266a6ae6378d51b3897a880d2d96c1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 31 16:16:21 2019 +0200

    Bump version number to 3.0.92
    
    See hrm Feature #854448
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df0aca876f0e0514d66074800f9e16ffc8ae5e5b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 14:03:21 2020 +0000

    Add plague risk to SDL client's city dialog
    
    See hrm feature #854479.

commit 4e35e927be6d7299d7ae2a0a3303594406e2e803
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 14:02:44 2020 +0000

    Clarify meaning of "plague risk"
    
    See hrm feature #854478.

commit 699125aef59fd1377722b047168813efb76aeb04
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 17:08:57 2020 +0000

    SDL2: fix various input event handling
    
    Some right/middle-click actions were unavailable, and there may have
    been trouble with finger events.
    
    See hrm bug #854477.

commit 79a7b25b486244212b44060ae6ccb138e9394116
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 15:28:52 2020 +0000

    SDL2: many keyboard shortcuts didn't work
    
    Due to testing SDL_MouseButtonEvent union members without first
    verifying that the event was a SDL_MOUSEBUTTON* event.
    
    See hrm bug #854476.

commit d9a5a2bef23ab64eb60da02f6fc155efbf88c1bc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 17:00:34 2020 +0000

    SDL2: fix crash when editing global worklists
    
    See hrm bug #854475.

commit 29426ad0eab57edcc06adc48c076b6995e78e3f3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 3 10:35:38 2020 +0100

    Comment fact fix

commit 55e307c9d19f8d7ee0d68963d12ca20436f1307a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jan 1 15:26:35 2020 +0100

    Travis CI: build the SDL 2 client on OS X.
    
    See hrm Feature #854481

commit 039c973009da71b6f5fedb8d36d599c7910099ac
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jan 1 04:01:50 2020 +0100

    Travis CI: OS X build.
    
    Thanks to Marko Lindqvist for pointing out that I had confused CPPFLAGS for
    CXXFLAGS in an earlier revision of this patch.
    
    Requested by Marko Lindqvist
    
    See hrm Task #739973

commit d1bb5ba766c4a9f59e1d2849ea989f2ac1021605
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:08:26 2019 +0200

    make_dir(): Set null character as '\0', not 0
    
    See hrm Feature #854295
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae595a16aa5ffef7c918f385d3b18ad6676ece90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 3 05:41:59 2020 +0200

    Fix -Wtype-limits compiler warning from strvec_index_valid()
    
    See hrm Bug #853423
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05368927a22c3ee48009508eb5006798034a96be
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Dec 31 21:54:25 2019 +0000

    Add README.modpack_installer
    
    Includes some material from
    <http://www.freeciv.org/wiki/Creating_freeciv-modpack_content>,
    which was mostly written by Marko Lindqvist.
    
    Also, tweak the modpack installer man page.
    
    See hrm feature #854464.

commit 77989fa7905cdc941d4f456c4d9224d01cf594e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:17:22 2019 +0200

    Add configure option --with-cacert-path
    
    It replaces old Windows CA cert path hardcoding.
    
    See hrm Feature #854259
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f0dadd75da7d386d52ab3d7d1212dba5ce8e802
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 31 16:10:30 2019 +0200

    Guard current dev-save-compat savegame loading with a version check
    
    See hrm Feature #854447
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53582f5e89f298721a647eea3b283c0c88ab3ecd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 08:47:19 2019 +0200

    Meson: Define FREECIV_HAVE_WINSOCK & FREECIV_HAVE_WINSOCK2 on Windows
    
    See hrm Feature #854236
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57d6a0eb39afe98b694113296f5e6d3c4fb806d7
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Jan 2 11:09:15 2020 +0100

    Updated French core translation

commit 0500c95ea1d171e13b64f2a4fb07d5dc1a3e35d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 23:12:31 2019 +0200

    sdl2: Fix how utf8_strlen() detects multibyte characters
    
    See hrm Bug #854367
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f84952339cd8bb6d574f2008cfc212aaa65b993
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 14:27:04 2020 +0000

    Improve comments around Gtk emergency highlighting

commit 64e3c39dc42091f14e22df03db451acb483bd961
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 11:47:33 2019 +0200

    Add str_to_uint() implementation
    
    See hrm Feature #854090
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60690b60cff6506240f41a69cf663c3dc88ef711
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 16:37:58 2019 +0200

    Refactor diplomat_infiltrate_tile() switch to avoid 'default' case
    
    See hrm Feature #853671
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5372003098cceea2c52f3458d918d3672d81a909
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 12:57:59 2019 +0200

    msys2: Clean out 'buildable' targets from the Makefile
    
    See hrm Feature #854100
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7bc311e3584d0b4e8ef3d82d7868655562011f79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 07:46:15 2019 +0200

    Meson: Add tinycthread to include path
    
    See hrm Feature #854128
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec0db36b4303c040dac583ab799f3449158304f2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 29 14:19:51 2019 +0000

    Add attribute __format_arg__ to Q_() and friends
    
    This is similar to what _() / gettext() gets as standard, and
    suppresses complaints about using the output of Q_("string") as a
    printf format string when "string" has no format specifiers.
    
    See hrm bug #854307.

commit 92e94ce6e98bad84830f54dc6a04dcd54b9d7853
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 29 11:07:56 2019 +0000

    The city dialog plague chance popup was misaligned
    
    See hrm bug #854303.

commit 02d60a0a3dbea77be9ca692096e4c103a586ea27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 12:53:09 2019 +0200

    entry_type(): Return new ENTRY_ILLEGAL value on error
    
    It was returning -1 despite having unsigned return type.
    
    See hrm Bug #854093
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c77abeecda447b120d09273446a4321901a59e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 21:50:03 2019 +0200

    installer_cross: Add freeciv-ruledit.cmd to Qt-client package
    
    See hrm Bug #854125
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a06a83532ad17f76ce471abf1959a83f7810be33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 26 06:49:46 2019 +0200

    Explicitly mark fc__fallthrough in research_total_bulbs_required()
    
    See hrm Bug #853520
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea2c5990cdee218f2e19d7b4ae56250ace57abea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 07:07:48 2019 +0200

    meson-winbuild.sh: Add EXTRA_CONFIG support
    
    See hrm Feature #853579
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3856c870deb1656afa499dc5a6a08d486fdc3d14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 16:00:04 2019 +0200

    Fix type-limits compiler warning from dai_reevaluate_building()
    
    See hrm Bug #853783
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1757fe95b1ba083164fc450e96573d1b586410b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 14:31:23 2019 +0200

    Travis CI: Clean out unneeded python setup
    
    See hrm Feature #854109
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81eea895a3ba3555158b3019378a323e5a1e4d8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 15:05:19 2019 +0200

    Improve cm.[ch] Coding Style
    
    See hrm Feature #853665
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fce7b3f74834e05917a1bf1e9a8e2279fca9c1a8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 28 15:56:32 2019 +0100

    Add 3 blank user actions.
    
    See hrm Feature #852112

commit 3501f10b3846bbf8de6e947cc5ce0af3dd1d9fb1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 28 22:37:01 2019 +0100

    Send actor_consuming_always to the client.
    
    Have the client take if an action always will consume the action from the
    server rather than relying on per action hard coding.
    
    See hrm Feature #854126

commit df9357cdc0f367143f690865a5545c0197f39f12
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Dec 2 21:41:34 2019 +0000

    civ1: Minor help text improvements
    
    The description of Pollution mentioned Solar Plant, which isn't in the
    civ1 ruleset; plus a few other wording tweaks.
    
    See hrm bug #854117.

commit 7cb3c4fe2aea0ab66b9199e36dff27576d417b14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 11:23:11 2019 +0200

    Check gcc version to be at least 7 for fc__fallthrough
    
    See hrm Feature #854081
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72bcd92a1a2da09a4964d3d7c0e2eab521e32606
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 03:51:30 2019 +0200

    Meson: Enable nonblocking sockets support when possible
    
    See hrm Bug #853446
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0132d1f50636c99df492bd644f123a0dcac5fa4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 27 15:37:51 2019 +0200

    msys1: Fix https usage
    
    Reported by Zoltán Žarkov and Jacob Nevins
    
    See hrm Bug #853960
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 763e8814a830d09c15623a0a04152fe4bbb43fde
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Dec 28 11:35:03 2019 +0000

    civ2civ3: Explain why no farmland on bare desert
    
    Since the autogenerated help has an inviting button implying that it is
    possible.
    
    (This commit expands the help for Farmland in some other rulesets too.)
    
    Reported by user "Voland0" on the forum.
    
    See hrm bug #854105.

commit 1e411725769d3cbadde404d778837e2337e9a925
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 19:35:25 2019 +0200

    Improve adjust_terrain_param() coding style
    
    See hrm Feature #853554
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d3b2007e67735fa685574601456d95308139e93d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 28 01:01:46 2019 +0100

    sandbox: ICBM with unlimited range.
    
    Demonstrate ruleset defined action max range for "Explode Nuclear" and the
    special action max range value "unlimited".
    
    See hrm Feature #854014

commit 9002d0af823a61c0a8c7bc03000041abcd3b3cfb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 27 23:25:53 2019 +0100

    Fix numeric action_max_range saving.
    
    See hrm Bug #854012

commit a17cff2f166eaf4c6370da7ac953d1cd3d84903b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 27 22:16:11 2019 +0100

    Ruleset defined max range for "Explode Nuclear".
    
    Allow ruleset authors to set the max range for the "Explode Nuclear" action.
    This makes it possible to allow nukes to "fly over" walls of units blocking
    the way to a high value target.
    
    See hrm Feature #854013

commit 00fb6766f9f9bafeba249762d8249ab37773599e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 27 22:05:00 2019 +0100

    Fix action_max_range load error handling.
    
    The switch() for entry types when loading the "actions.bombard_max_range"
    entry would fall through in error situations to error handling in 'default'.
    This would not work for ENTRY_INT, as it would end up in ENTRY_STR and not
    directly to 'default'.
    
    Rewrite it with if, else if and else.
    
    Reported by Marko Lindqvist
    
    See hrm Bug #853675

commit 9dbdc3233f13d9142d8a68bf7d9fa892d436c492
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 19:45:37 2019 +0000

    Gtk: use fixed-width font for city dialog popups
    
    They were using the style name "city_info_label", which doesn't have a
    corresponding font option, so they were not styled. Changed them to use
    "city_label", a fixed-width font.
    
    (Also comment that "city_happiness_label" has a similar problem, but I
    haven't done anything about that.)
    
    See hrm bug #854005.

commit ef841a29671a7085e20b2aecd95bc396c0c793a0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 16:30:21 2019 +0000

    Gtk3.22/4: fix huge detach handles
    
    The detachable widget handles were far too big. Add some custom CSS to
    shrink them to be comparable to Gtk2.
    
    The Gtk3.0 client will be covered separately by hrm bug #853912, since
    it turns out to be more complicated.
    
    See hrm bug #854002.

commit b996a92fef4cf136e12d835fe70ba18d7d6da6f9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 13:46:19 2019 +0000

    Script / rally point fixes at unit build time
    
     - A unit whose creation disbanded its city now emits the
       "unit_built" signal, and honours city's rally point.
     - Fix trouble in city_build_stuff() if script "unit_built" or
       "unit_cant_be_built" handlers destroyed city.
     - Fix trouble in city_build_unit() for pop_cost units if script
       "city_size_change" handler destroyed city.
     - Fix trouble in rally point code if "unit_built" or
       "city_size_change" destroyed city.
    
    The precise sequence of events around unit building has changed
    slightly.
    
    See hrm bug #853935.

commit 5d917139aa6bdefe6bc23908548a83ae539ff5af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 27 07:51:05 2019 +0200

    msys2: Fix https usage
    
    Reported by Zoltán Žarkov and Jacob Nevins
    
    See hrm Bug #833269
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b05ccb3ea498078cd35ee1681a343683ebc2c77f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 18:16:25 2019 +0200

    Make position fields in struct inputfile unsigned
    
    See hrm Feature #853704
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a14bb0cd71a8737ed686cd75132fbc66d35fffd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 08:48:48 2019 +0200

    Add initial version of meson-winbuild.sh
    
    See hrm Feature #853475
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48dad32a0fb7a0f3bc5cc6ff10c5dc25d29b950c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 13:17:50 2019 +0000

    Document unit population cost better
    
     - Add description in online help (helpdata.txt), including the rules
       about disbanding cities
     - Generalise description of CITYO_DISBAND in city options dialog
     - Fix the message emitted when attempting to disband last city
    
    See hrm bug #853987.

commit 5e48586b133b937d46ce6bcb4f9749f5e0bda9cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 18:14:21 2019 +0200

    mapgen: Do not reduce mountains percentage by steepness^2 factor
    
    Mountains percentage is kept the same with the default steepness
    value of 30. With values different from that mountains percentage
    changes more logically.
    
    Reported by Akechi .
    
    See hrm Bug #767003
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5cf18a07c3222d267b4f41a06ae589acb2ab35e9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 18 00:22:30 2019 +0100

    action_get_sub_target_kind(): error value fix.
    
    The function action_get_sub_target_kind() is supposed to return an
    action_sub_target_kind. Set it to ASTK_COUNT.
    
    Reported by Hilde Bye (from a Clang warning)
    
    See hrm Bug #852987

commit 2062845dcb3a743df133c72242c4ebc6a2edfbd9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 02:06:59 2019 +0000

    Gtk: don't clear worklist source tasks on refresh
    
    In the Gtk3 clients, this caused the worklist source task viewport to
    scroll around annoyingly on actions like adding an item to the worklist.
    
    Reported by vla22.
    
    See hrm bug #706351.

commit c6b4d123f91f82ca2e73c27d0c72d536e87ab334
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 18:17:25 2019 +0200

    Fix sign-compare compiler warning at fc_has_capability()
    
    See hrm Feature #853705
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ed7abbebe2db9b68bb4be613924fec3319ad859
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 14:37:48 2019 +0000

    Gtk3/4: make civ-info-and-units box expand
    
    This stops the detach handle changing size when the contents change size
    (for instance when switching between unit stacks of different sizes).
    
    See hrm bug #853923.

commit d89bacf0b0d277cf3d6c99faa396faff3caed931
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 12:38:45 2019 +0000

    Gtk3/4: ensure overview etc to left of main map
    
    With "Arrange widgets for small displays" enabled, the pane containing
    the overview map, civilization status etc would appear to the right of
    the main pane containing the main map view, etc. (Unlike Gtk2.)
    
    See hrm bug #853922.

commit 43d8d8e224884982ef42574b4935460a2ff36aeb
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 13:08:25 2019 +0000

    Gtk3/4: set more GTK_ORIENTATION_VERTICAL
    
    For some GtkGrids that were GtkVBoxes in the Gtk2 client.
    This has no known functional effect; in practice, I think these VBoxes
    never have more than one child.
    
    See hrm bug #853921.

commit 3ef30b0d3cedebbb44344b8c7623edd97fbea223
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 12:38:14 2019 +0000

    Gtk3/4: fix vote bar location
    
    The vote bar could be displayed in the wrong location, taking up a lot
    of screen space:
     - If "Arrange widgets for small displays" was set; or
     - If that was unset but "Messages and Chat reports location" = "Merged".
    
    This was caused by not setting GTK_ORIENTATION_VERTICAL when converting
    some Gtk2 GtkVBoxes to GtkGrids.
    
    Reported by forum user "RsXT.2" and HRM user "S.C. L."
    
    See hrm bug #656550.

commit 36db010880162f071238ccb9975c7537a0d6396a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 08:15:35 2019 +0200

    Meson: Add support for custom cross-compile include and library prefices
    
    See hrm Feature #853463
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d347bc21afae95ee4076c3f5567a7f322e3a4a88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 19 04:04:34 2019 +0200

    Qt: Fallback to FC_QT_DEFAULT_THEME_NAME
    
    If theme set in the settings cannot be loaded at client start,
    fallback to FC_QT_DEFAULT_THEME_NAME.
    The settings can contain theme names derived from freeciv-2.5
    illegal in later versions.
    
    Reported by Christian Prochaska and Jacob Nevins
    
    See hrm Bug #853130
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50d7b1764c55921448b74abefebfaca0d1dccf7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 16:57:40 2019 +0200

    Set qt5x programs' minimum Qt requirement to 5.12
    
    See hrm Feature #852900
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a08057e42ce6ee721bc8861750b7379a0606a6b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 21 14:01:58 2019 +0200

    Add missing breaks to mapgen.c
    
    They were missing after some supposedly impossible to reach
    cases, also guarded by asserts. The main difference this commit
    makes is cleaning out compiler warnings about those cases
    when -Wimplicit-fallthrough is used.
    
    See hrm Bug #853422
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5f7e5fe67c436211a16ade8a394170b4f569eff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 06:50:21 2019 +0200

    Meson: Build tinycthread for Windows host
    
    See hrm Feature #853447
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b72cace8f5065f36785c8d5bb3d3f411b70dbccd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 24 14:27:02 2019 +0100

    Travis: build the Qt-programs again.
    
    The ppa can be dropped once we move to the next LTS.
    
    Requested by Marko Lindqvist
    
    See hrm Feature #853722

commit 69d0932151ab34d05c91dc1a4499afa6742891e5
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 12:42:03 2019 +0000

    Fix comment about Gtk overview map size.

commit a94f5a6a7973683f6a6187ce25aa49c9f4e5d4c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 25 01:09:40 2019 +0100

    Travis: speed up the "make dist" job.
    
    The slowest current job is make dist. This means that the total build time is
    the build time of make dist.
    
    Speed up the "make dist" job by not installing GUI stuff, language packs,
    mysql or replacing openssl-dev and by not building Freeciv before running
    make dist. Not building Freeciv becomes possible by installing tolua.
    
    Thanks to Marko Lindqvist for the tip about how the Freeciv build can be
    avoided.
    
    See hrm Feature #853746

commit 609ec1d756f56201bd79229479735deacbd0f033
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 17:21:20 2019 +0200

    Add implementation of fc__fallthrough
    
    See hrm Feature #852923
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 455fc7ae818c300028f8f27b5e9a0fbaa5eca3af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 24 16:26:32 2019 +0200

    Apply lua.org patch #4 to our copy of lua-5.3.5
    
    Patch for lua-5.3.5 bug #4
    ("Joining an upvalue with itself can cause a use-after-free crash.")
    from http://www.lua.org/bugs.html
    
    See hrm Feature #853700
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 946d6b5fe78ba9dff67bb9f95fe8f45c9bd1c503
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 05:54:29 2019 +0200

    Add configure option --with-qt5x
    
    See hrm Feature #852870
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 060af1cf6c0e46a56d3d0e7266b722046f044a6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 06:18:18 2019 +0200

    Meson: Define HAVE_IP_MREQN
    
    See hrm Feature #853445
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b21659d0487647df0bd885f15f9df51fd0e21786
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 18:08:31 2019 +0200

    gtk3x: Drop gtk_combo_box_set_wrap_width() call
    
    See hrm Feature #852693
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c30311a2a9b9b8c0b63c8906db915b7a6d28ecc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 24 03:57:54 2019 +0100

    Travis: dependency instal in .travis.yml.
    
    Stop installing dependencies in the build script. Move that to Travis'
    addons.apt.packages.
    
    The initial conversion is a blind copy. All the old dependencies, needed by a
    particular job or not, ends up in its addons.apt.packages. This ensures that
    the same packages are auto-detected so the same things are tested.
    
    Optimizing away unneeded apt packages for each job would probably speed them
    up. That should probably be done in a follow-up patch.
    
    Reported by Marko Lindqvist
    
    See hrm Bug #853424

commit 12c9a3d274253cb84fee60e8711a77ecaa76b626
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 23 03:14:25 2019 +0100

    Travis: test meson build.
    
    See hrm Feature #850242

commit 8c04f3bec3381dbea70d11bede69e9d1f4a54d9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 09:23:56 2019 +0200

    Drop always-true comparison from big_int_to_text()
    
    See hrm Bug #852941
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fcdbc089cba27570bbdbb827caa5d3a17dbebc4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 11:36:03 2019 +0200

    Make --help to advertise log level names instead of numeric values
    
    Since the --help output needs to fit in small space, level names
    are abbreviated down to a single letter.
    
    See hrm Bug #782727
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ce9f8ac4bd611ef4df773136f568d4e61abb54a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 05:24:08 2019 +0200

    Meson: Bump minimum meson version to 0.48.0
    
    Versions up to 0.47.2 did not have 'debug' core option.
    
    Reported by Sveinung Kvilhaugsvik
    
    See hrm Bug #853564
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38479764f5761269bfe79dbc712de0d08322eff6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 20 18:14:19 2019 +0200

    List values for --enable-sdl-mixer in ./configure --help
    
    Reported by Jacob Nevins
    
    See hrm Bug #853375
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7599ccf258f08711767c5f973e3452e5340d8ed5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 20 18:45:18 2019 +0100

    Travis: run "make dist" in parallel.
    
    Start using a build matrix. Use it to run "make dist" in parallel to the
    rest of the build.
    
    See hrm Feature #853559

commit e9b755b366a9b62e939557abd960dfa1ee092bd3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 17:44:48 2019 +0200

    Fix sign-compare compiler warning in get_tokens()
    
    See hrm Bug #853540
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa70b375fbfb676ca69c8cbb761bac12d03351b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 10:36:12 2019 +0200

    Make generic Coding Style cleanup for connection.c
    
    See hrm Feature #853485
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74b1f337abce5e64a5890c4d901a3ad12dd8c35e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 05:42:51 2019 +0200

    Meson: Check for iconv and use it when available
    
    See hrm Feature #853444
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 539b44fcb1ded57ed1856861661958d4f33b7346
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 21 13:48:41 2019 +0100

    Fake generalize "Bombard"
    
    Introduce "Bombard 2" and "Bombard 3", perfect copies of "Bombard". Any
    difference between them should be ruleset defined.
    
    This could have waited for real generalized actions. It was done now so I
    can add a shorter range bombard to webperimental on top of the current
    "Bombard" and so Lexxie can drop hard coded bombard action rename from the
    web client of fcw.org-server
    
    See hrm Feature #851451

commit edb5aa3028b6b780084ecb9eab1cb5b6180e07ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 18 19:43:02 2019 +0100

    Don't attempt to move to bounced unit's tile.
    
    The action "Bribe Unit" will in some cases force a move to the target unit's
    tile.
    
    In certain rulesets a spy unit can bribe a target unit on a tile with a city
    and/or units the target unit won't be able to share a tile with after
    changing  side. In those cases the target unit is bounced after being bribed.
    
    The code checking if the briber should be forced to attempt to move to the
    victim's tile after a successful bribing would check that the target tile
    only had one unit. This was presumed to be the bribe target. But if two enemy
    units shared a tile and one got bribed and then bounced the target tile would
    contain the enemy unit that wasn't bribed. The briber would then have to
    attempt a forced move to a tile with a non allied unit.
    
    Never force a move when the bribe target unit was bounced.
    
    (It may be a good idea to make "Bribe Unit"'s post action forced move
    consistent with the forced post action move of "Attack" for post 2.6 branches
    in a follow up patch.)
    
    Reported by Jacob Nevins
    
    See hrm bug #765938

commit e2c81f241de1638dcce215b9dee3f6e0585894c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 21 11:32:14 2019 +0200

    Cleanup SYS_TOLUA_CMD handling in tolua-5.2 Makefile.am
    
    See hrm Feature #853406
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f96cd4bd3d4d829a287fb032bffb794f464bd76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 21 12:45:05 2019 +0200

    Fix astr_reserve() sign-compare compiler warning
    
    See hrm Bug #853412
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d3a8c892b11e7febd125f0c2d692e1a24de971dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 19:08:19 2019 +0200

    Meson: Enable tinycthread instead of pthreads in Windows builds
    
    See hrm Feature #852952
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 659c346418f1e1b45f2b187b31360cb50a05cfcd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 20 07:05:09 2019 +0200

    INSTALL: Document minimum Qt version
    
    See hrm Feature #853326
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9407d7d094b1f93c14b39826882cbd610e4a2295
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 20:13:20 2019 +0200

    Comment typofix: "shortut" -> "shortcut"
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 819b1076c06320dc54d8745bb1836273b4465c89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 18 12:44:13 2019 +0200

    Add missing breaks to reqtext.c
    
    Erroneous fallthroughs were in handling of some of the
    unsupported requirement ranges.
    
    See hrm Bug #853037
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5abb072b8b23177afa4dec69d0dbe8b40dca07e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 20 19:40:27 2019 +0200

    sdl2-client.m4: Clean out obsolete check against SDL_mixer = sdl
    
    See hrm Feature #853383
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 739fd789f46abd2b5385fa3d5594cfe6a9999cd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 20:14:30 2019 +0200

    Meson: Define _GNU_SOURCE
    
    See hrm Feature #852959
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a43d77eab0fa71fe189344b90b5708d36059e392
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 19 06:12:02 2019 +0200

    sell_random_unit(): Return NULL instead of FALSE
    
    Function's return type is pointer.
    
    See hrm Bug #852996
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7990a19e514440b8bc3a7bb6b58bee6d621c28d9
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Fri Dec 20 01:45:48 2019 +0100

    Updated msys1 environment (python3)
    
    See hrm Bug #851511

commit d6ae14e202b75c0a1c1c28e7156f7ac119577f45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 16:53:47 2019 +0200

    Add FC_QT autoconf macro to wrap FC_QT5 and FC_QT6
    
    See hrm Feature #852867
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b9410649a931faa4c3d68b809ab76bbeb5f3b02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 15:03:20 2019 +0200

    Enable -Wold-style-declaration in --enable-debug builds
    
    See hrm Feature #852936
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c92ee61a02536a7d6ac2be89aa717dc7b119c5f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 19 05:44:23 2019 +0200

    Qt: Use FC_QT_DEFAULT_THEME_NAME theme when clearing custom theme
    
    It was attempting to use default theme name from settings, but that
    might be custom theme in itself.
    
    See hrm Bug #853140
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f54f7782fa97a84d7bbdda1131bb4682181a192
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 16:47:28 2019 +0200

    tcc: Fix conflicting definition of tile_changing_activities
    
    See hrm Bug #852686
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ce5c835914f60dadfcfc6bea09e76d00a607339
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 16:49:39 2019 +0200

    qt6.m4: Add initial version
    
    Initially qt6.m4 is mainly a copy of qt5.m4 with macros and variables
    renamed to their own namespace. Those macros still search for
    the same Qt5 headers and libraries as qt5.m4 macros.
    Darwin specific things have been left out. They have not been
    actively maintained even in Qt5 version, so probably would require
    more than just copying over to Qt6 side.
    
    See hrm Feature #850961
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58b2c2f231d1ead7571a0dc7af2e88cc84527e83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 15:00:13 2019 +0200

    Fix -Wold-style-declaration compiler warnings
    
    See hrm Bug #852918
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb2be38ff30d899e9eced77c8e918d9f879c1e59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 18 04:36:46 2019 +0200

    Fix sell_random_unit() crash with recursive transports
    
    See hrm Bug #852938
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d249fb981e334bf9a65e3e5c474dce609bcd8391
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 20:40:25 2019 +0200

    Meson: Make debug-build client to spawn server from current directory
    
    See hrm Feature #852973
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94b4b68298b59f0fb2a9b6d57f614cf07fb4a472
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 07:28:45 2019 +0200

    Set QT_DISABLE_DEPRECATED_BEFORE
    
    In master it's set to 5.7 that is latest for which we don't have
    pre-existing deprecated constructions in use. This is less than
    our minimum Qt requirement (5.11)
    
    See hrm Feature #852856
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e512073d235142fc803f7ebf7985151b1596eb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 13:56:51 2019 +0200

    Add missing breaks to universal_value_from_str()
    
    See hrm Bug #852927
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 392f3ab9ea7e94489bf69777994b694a708533a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 16 08:47:29 2019 +0200

    gtk3x: Drop gtk_window_set_role() call
    
    See hrm Feature #852690
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a4916200f64227c65c983d7fa9562118fe15e50
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 17 10:20:03 2019 +0100

    Rename "Road" action "Build Road".
    
    It builds a road. Make it consistent with the other "Build X" action names.
    
    Reported by Marko Lindqvist
    
    See hrm Bug #851695

commit d2a47d77e1135e1b56b46fc3a9812ed475cc33fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 17 10:05:32 2019 +0100

    Split ASTK_EXTRA in existing and non existing.
    
    Makes stronger sub target validation possible.
    
    See hrm Feature #852130

commit f5f1b8529d72f64ca0a0ff3b5a1f1847c8c81e4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 06:20:15 2019 +0200

    Qt: Replace deprecated qSort() call with std::sort()
    
    See hrm Bug #852857
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dc5e70b703d3ad21389c210e2425246699597be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 04:22:38 2019 +0200

    msys2: Convert langstat files to ISO-8859-1 when building installer
    
    This fixes display of name of the language "Norwegian Bokmål"
    
    Reported by Jacob Nevins
    
    See hrm Bug #681314
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a093c5e005a5249673de7ff79dcfae64869824f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 16 20:15:37 2019 +0100

    Unique UI names for conventional nuke actions.
    
    See hrm Bug #852687

commit 5d0d746d3c89245f19148cb6577bf25d4d7486c3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 12 10:58:11 2019 +0100

    webperimental: ban striking city production.
    
    The Leader can do the "Surgical Strike Building" action. It is not supposed
    to be able to destroy the city production. Ban it.
    
    See hrm Bug #852163

commit de53b43813bf51e6361e2f73d37722518c4bd283
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 12 22:51:31 2019 +0100

    Split production from building targeted actions.
    
    Split an action that targets the city's current production from actions that
    targets a building in a city or its current production. This gives finer
    grained control to ruleset authors. It also enables just assuming that a
    building sub target is a building in validation code and in sub target
    encoding and decoding.
    
    Split "Sabotage City Production" from "Targeted Sabotage City".
    Split "Sabotage City Production Escape" from "Targeted Sabotage City Escape".
    Split "Surgical Strike Production" from "Surgical Strike Building".
    
    See hrm Feature #852132

commit 809d772602f1f5f3d0c69d77a7aecf32a3bd6316
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 16 21:17:49 2019 +0100

    rscompat: modify copy of effect, not original.
    
    Modifying the original can trigger an eternal loop.
    Modifying the original can break the result when more than one universal is
    split from the same source universal.
    
    See hrm Bug #852824

commit 4030a4731be2cdea9a8525e89ee3befeb2379fa4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 16 06:32:48 2019 +0200

    Add C11 threads configure check
    
    C11 threads are the preferred threading model.
    
    See hrm Feature #852681
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2c1d5d5d474eb9690678a32adcfad7a32c9bc2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 16 08:44:16 2019 +0200

    gtk3x: Replace gtk_window_set_icon() call
    
    Use gtk_window_set_icon_name() instead.
    
    See hrm Feature #852689
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f338f3e228d1e6d0ac72468634171ae9572c4549
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Dec 17 21:44:18 2019 +0000

    Updated Polish translation by Hubert Kowalewski
    
    merged from S3_0 e912c45b69. Stats on master:
    core: 98.4%: 7567 translated, 93 fuzzy, 27 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 89%: 95 translated, 8 fuzzy, 4 untranslated.
    
    (There is some confusion with UTF-8 msgids in this update; it's ended up
    with extra double-escaped msgids, which have new translations attached,
    also somewhat double-escaped. On this branch, because of the msgmerge,
    all of these have ended up marked obsolete, and the possibly out-of-date
    translations attached to the correct msgids will be used.)

commit 576b56e3d951c313e0cfd8b93e45ad0d817026d5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 16 06:27:32 2019 +0100

    savegame: pad the correct field.
    
    Padding for a city's rally_point_sub_tgt_vec field ended up in sub_tgt_vec
    for orders after the first order. Use the correct field name.
    
    See hrm Bug #852685

commit 926569caa77a3eb719a5b9b58d0a2ed2a81e1110
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 13 01:38:10 2019 +0100

    savegame: store order action id as a number.
    
    The save game format allows storing it as a vector of numbers. This is better
    than storing it as a string converted by num2char(). It allows more actions.
    
    Remove num2char(). This was its last user.
    
    See hrm Feature #850504

commit 51141edf99678cd0c52d4bb14d1190e175ae174a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 19:11:06 2019 +0200

    Fix comment capitalization typo
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f68f6be5899b13838f904569e8ed08cb4e7b09c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 8 13:47:35 2019 +0200

    sdl2: Add Cultivate/Plant buttons
    
    See hrm Feature #851551
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d8d3745e719273caf94706f7c2a1b797c993173
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 02:09:05 2019 +0200

    AI: Reduce defense building wants by about 20%
    
    AI with H_DEFENSIVE handicap still suffers same amount
    of handicap as before.
    
    See hrm Feature #825079
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78ed272248c9d95f856966a1e04bfd8a3ed7aaa3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 13 23:19:30 2019 +0200

    gtk3x: Turn a couple of GtkButtonBoxes to GtkBoxes
    
    GtkButtonBox will go away with gtk-3.96. Reduce their usage already
    where possible.
    
    See hrm Feature #852422
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f434d048680d6ce1f1a529f28c2e6c5f9944f2ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 13 20:51:27 2019 +0200

    Add support for terrain defined placing_time
    
    See hrm Feature #851866
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a8c5e1c4b6f8d5db8b9a711cb556b8b9a98672f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 8 03:17:53 2019 +0200

    Meson: Unconditionally define HAVE_MKSTEMP
    
    See hrm Feature #851530
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c4ca841b5eb618bbac58005eb6288ac2cbda904
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 12 11:51:15 2019 +0100

    ai: non production sabotage target support.
    
    Just pick the last building with equal to or better odds than the previous
    for now.
    
    See hrm Feature #852204

commit a8a6113bf7be11858163c0ee03079cf8803ac9da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 5 06:20:29 2019 +0100

    Improve movement cost from action estimation.
    
    Evaluate movement cost from the action in the state the unit will have after
    the action may have moved it.
    
    See hrm Feature #850770

commit a5e4ed8580452e85c1e00cbb62fdca9c8708bc8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 12 01:58:16 2019 +0200

    Fix gcc-10 warning about use of possibly uninitialized variable
    
    See hrm Bug #851873
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c2beec181d8f0e4dcba5a4c5606b0e67fda096c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Dec 11 23:52:22 2019 +0000

    Fix formatting error in freeciv-client(6) man page
    
    See hrm bug #852070.

commit ce57e819cba63b3af6961cb6bef793bcd65b8af2
Author: Zeko <zeko@freeciv.xyz>
Date:   Tue Dec 10 03:30:36 2019 +0200

    Replace deprecated QFontMetrics::width with QFontMetrics::horizontalAdvance
    
    See hrm Feature #834390
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2da7a48499b1f5bd7bcccd8fdb33814521da1f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 12 01:35:58 2019 +0200

    Refactor code to avoid gcc-10 warning
    
    See hrm Bug #851728
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dff16d48c03ce727ec48aafb160bdf1482bc0b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 10 08:23:18 2019 +0100

    Split "Explode Nuclear".
    
    Split the new actions "Nuke City" and "Nuke Units" from the "Explode Nuclear"
    action. They handle acting against a city or a unit stack at an adjacent
    tile. "Explode Nuclear" is now only about detonating in place.
    
    This moves all the weird "Explode Nuclear" special case rules to the ruleset.
    
    See hrm Feature #850219

commit 84802f56997d6c4bdbc4bad1342052628ca52af4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 10 21:40:07 2019 +0200

    Make sure tile info is sent to owner when placing is set
    
    See hrm Bug #851529
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be2862771527faa1d26f814d8fc22c09e80ea98e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 9 00:54:47 2019 +0200

    gtk3x: Replace deprecated gtk_entry_set|get_text()
    
    They will be dropped in gtk-3.96.
    
    See hrm Feature #851566
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab06fcaa66bf874fec24d0349a9f6cfeba95d2b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 01:12:48 2019 +0200

    Bump minimum Qt requirement to 5.11
    
    See hrm Feature #849444
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4016b8ca3f4857457280da70704b1ed1fb76d55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 8 02:25:58 2019 +0200

    Show extras being placed in main map
    
    Client shows the extras being placed if it knows about them.
    Currently it often doesn't (Bug #851529)
    
    See hrm Feature #851528
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17938c639f239381c0d1fcfcce356b49f5e86100
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 10 07:39:19 2019 +0200

    Terminate format escapes list
    
    See hrm Bug #851727
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0cdce5681edac55a8843365b8d44aa9ea308bb58
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 21:09:48 2019 +0200

    helpdata.txt: Add documentation of cultivate/plant controls
    
    See hrm Feature #851200
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4bf4d1e141aa9e6ca143997a233a83974895f9a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 00:59:06 2019 +0200

    Travis CI: Disable Qt programs from build
    
    See hrm Feature #851187
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6de035ac703119b3086f8473934153a6021c5637
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 22:38:43 2019 +0100

    GTK clients: improve act sel dlg sub tgt support.
    
    Make simple_action_callback() able to handle sub targets. This makes the
    custom call backs for "Pillage", "Road", "Build Base", "Build Mine" and
    "Build Irrigation" redundant.
    
    See hrm Feature #851693

commit 4d6368838f9615739b40f88e0bf6f21f18e69914
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 18:56:51 2019 +0100

    GTK clients: general act sel dlg detail cb.
    
    Replace action specific follow up question detail from server requester
    callback functions with the new request_action_details_callback() call back.
    
    See hrm Feature #851670

commit a83cf8671b270d9151dc97fa9e20f39b0c30c338
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 15:16:38 2019 +0100

    GTK clients: remove redundant act sel dlg cb.
    
    Use simple_action_callback() in the action selection dialog where possible.
    
    Delete all the old action specific action selection dialog callback functions
    that don't do anything simple_action_callback() can't do.
    
    See hrm Feature #851648

commit 1c409f9515813edf062291130e732ba085c588ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 14:27:13 2019 +0100

    GTK clients: default act sel dlg callback.
    
    Use simple_action_callback() by default unless an action specific call back
    function is specified for the action.
    
    See hrm Feature #851642

commit e7a3be20218b4d46031601cc64a2919b6a988860
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 09:25:03 2019 +0100

    GTK clients: generic act sel dlg callback.
    
    Introduce simple_action_callback(). It is to be used as a call back function
    in the action selection dialog for actions that don't require anything
    special in their call back function.
    
    This reduces the amount of work to introduce a new action.
    
    The number of actions where this can replace the current call back function
    is large. Only a few known good existing actions have their old action
    specific callbacks replaced here.
    
    (I made Freeciv-web auto generate its action selection dialog years ago. I
    didn't get around to do it for any C client before now.)
    
    See hrm Feature #851603

commit ad71fe529bb425072cfbf5c9b821ff087170d798
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 12:45:10 2019 +0100

    GTK clients: action id to act sel dlg callback.
    
    Pass the action id to the action selection dialog button callback function.
    Exploit the fact that the GTK client only can show one action selection
    dialog at a time by making the data shared between actions a static variable.
    
    See hrm Feature #851635

commit 6510b3d8007782917375f1b285994f80c0718088
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 19:46:58 2019 +0100

    autohelp: document sub target kind.
    
    See hrm Feature #851672

commit cae9f566d4988e31896ece6e23d0e4d39f2980e1
Author: Zeko <zeko@freeciv.xyz>
Date:   Sat Dec 7 20:21:21 2019 +0200

    Allow C++11 lambdas in coding style
    
    See hrm feature #851519
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2fd46c96d8b735ac0dbb3f181c91501626913f2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Dec 9 01:11:33 2019 +0000

    Gtk3.*/4: handle "close" signal in input_dialog
    
    This is sent when the user hits "Esc" at such a dialog.
    Among other effects, if the user hit Esc at a new city name dialog, that
    settler would subsequently be unable to build a city.
    
    Reported by Joan Creus.
    
    See hrm bug #689225.

commit 15f60afa7b44c32d128fc8fb8ad7d1100a5a39df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 8 00:45:07 2019 +0200

    Make extra placing to last extra build time turns
    
    Extras that have no build time defined (are supposed to use
    terrain specific build time) still take 1 turn to complete.
    
    See hrm Feature #851525
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56b091569a1865657ca155f84e092dbad7b3d43e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 23:04:44 2019 +0200

    configure.ac: Drop unused 'AMIGA' variable
    
    See hrm Feature #850944
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dea2189c7833c9de5bd21d6ecfce6f2237c3039e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 18:35:05 2019 +0200

    Restore Ctrl+F for "Find City"
    
    Ctrl+S is used also by Save Game, so can't use it for Find City.
    Similarly restore Qt-client Full Citybar to Ctrl+F.
    Change Show City Growth from Ctrl+F to Ctrl+O.
    In sdl2-client change Show Pollution from Ctrl+O to Ctrl+Shift+O.
    
    Reported by Jacob Nevins
    
    See hrm Feature #850461
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3b31df011522ece994aa5541a88e2793313c2b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 10 07:08:54 2019 +0100

    Comment fact fix

commit 9fdffcb489aab7d4bc6ef55d541e5ad027645389
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 00:57:30 2019 +0200

    Implement minimal editor support for owned extras
    
    Goal of this commit is to provide network protocol part
    of editing of owned extras. It does result in minimalistic
    editing support too.
    
    Requested by Jacob Nevins
    
    See hrm Feature #851220
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6075f581f95f49492b3019f29fdbf5f055ac41aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 17:11:56 2019 +0200

    gtk: Set sensitivity of Cultivate and Plant menu entries
    
    See hrm Feature #850833
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afd14f3a57916aa11fd6de89163d3b7d7549361a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 00:59:16 2019 +0200

    qt5.m4: Rename FC_QT52_CHECK as FC_QT5_VERSION_CHECK
    
    Also the macro's output variable fc_qt52 has been renamed
    to version-agnostic fc_qt5_min_ver.
    
    See hrm Feature #850950
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18978a7b61d732d2eb8b6803c4657422d108b2d9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Dec 7 13:25:53 2019 +0000

    Miscellaneous TRANS comments.
    
    See hrm bug #851518.

commit 86a5eb74fbaf7d838b57a48c2a286489b251284a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Dec 7 13:32:36 2019 +0000

    Fix a message about failure to act
    
    The format string arguments were the wrong way round.
    
    See hrm bug #851510.

commit c1598d8a2af074cfb14fe9a95a83d2af319ca772
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Mon Dec 9 13:55:21 2019 +0500

    Update for Russian translation.
    
    core: 7599 translated messages, 51 fuzzy translations, 29 untranslated messages.
    nation: 1843 translated messages.
    ruledit: 107 translated messages.

commit dadb51dc996eec4e16681663be635bafed51652e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 20:36:06 2019 +0200

    README: Fix numbers of INSTALL chapters referenced
    
    See hrm Bug #820728
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d371e6e5d5407679ddc25a47b547810ed213d169
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 16:51:16 2019 +0200

    Add menu entries for Cultivate and Plant
    
    Cultivate and Plant UI added to gtk- and qt-clients.
    No icons added to sdl2-client.
    
    See hrm Feature #850477
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d55ecacd5f132570e7ea8d4767026903988f046
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 00:56:42 2019 +0200

    Send emergency version number in client_info packet
    
    See hrm Feature #657293
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d521e55701639b1cf1a799471ac37a6f37c8ebe3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 22:35:18 2019 +0200

    Update mkstemp.m4 to serial 27 from gnulib upstream
    
    See hrm Feature #850943
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 193c6a9daff227266dc180e7b8f41ee63a5a5c3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 17:04:16 2019 +0200

    Consider ACTIVITY_CULTIVATE/ACTIVITY_PLANT tile activities
    
    This makes them to show up in tile info popup
    
    See hrm Bug #850820
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6beadd42d93ff2051917b3bb81b23f20ec293f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 2 06:47:00 2019 +0200

    Sandbox: Make advance clauses to require Writing
    
    Both parties need to know Writing before techs can be traded.
    
    See hrm Feature #768209
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ad3a17dca805a2ac30feaf706fe4b31ac06cb64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 19:14:52 2019 +0200

    Correct comment implying that python > 2.2 wouldn't work
    
    See hrm Bug #851193
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef6200480702163a1980f6abdf32e97a2561ea0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 00:13:57 2019 +0200

    Fix tripling of units when copy+pasting tiles in editor
    
    Reported by Alexandro Ignatiev
    
    See hrm Bug #850947
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 245002c121673c4f858adc95914e2e73ed34b899
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 6 22:06:57 2019 +0200

    Save ruleset_locked and capabilities when saving scenarios
    
    See hrm Bug #821959
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbadbdf0ec1cd49938fc70346118676eef38b509
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 21:25:08 2019 +0200

    Update sdl2.m4 to SDL2-2.0.10 level
    
    Manually rebased upstream changes to our modified version.
    
    See hrm Feature #850938
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbda89cf3f74e35d56102501c111b7dbd2989595
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 16:33:10 2019 +0200

    Rearrange control keys to make space for cultivate and plant controls
    
    Reserve Shift+I and Shift+M for Cultivate and Plant.
    Move "Connect With ..." / "... Waypoint" from Shift+<key> to Ctrl+<key>.
    Move "Show City Growth" from Ctrl+R to Ctrl+F ("Food") to make space for
    changed Road connect.
    Move "Find City" from Ctrl+F to Ctrl+S ("Search") to make space for changed
    "Show City Growth".
    
    Qt only: move "Show Full Citybar" from Ctrl+F to Ctrl+S
    
    See hrm Feature #850461
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13b0605a47aa70797516481772c4445fc53bae94
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 4 00:29:37 2019 +0100

    daiactions: consider regular move cost.
    
    Some actions will always charge the move fragment cost the actor unit would
    pay to perform a regular move to the target's tile. Add this cost to the
    regular action move fragment cost dai_action_value_unit_vs_city().
    
    See hrm Feature #850769

commit b5d1e127e7f2516a545ba036994e4188bbc88ce7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 17:28:45 2019 +0200

    Fix client crash in lua call to city:inspire_partisans()
    
    Check if the caller is server before executing inspire_partisans()
    parts that would require omniscience. If the caller is client and
    correct answer for the current rules would be available only with
    omniscience, always return FALSE.
    
    Reported by Alexandro Ignatiev
    
    See hrm Bug #797679
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b24cce6604e6248d62153ed5f6ae6d4c1e3b160
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Dec 3 21:35:42 2019 +0000

    Cancel ANIM_NUKE when done
    
    This was causing permanent sluggishness and high CPU usage in clients
    which use frame_by_frame_animation (Gtk3/3.22/4) after a nuclear
    explosion.
    
    See hrm bug #850672.

commit 715025fb957d3a0f2c33dfece45e6d6f783f795b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 00:22:39 2019 +0200

    savegame3.c: Remove aifill players after rulesets loaded
    
    Remove aifill players created ruleset loading time so that
    later correct number (maxplayers limitations) of them can be
    created with the correct skill level.
    
    See hrm Bug #850666
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c145bf90cad3f98f3bae4faf8fb9e46319ebdd62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 12:54:48 2019 +0200

    Remove duplicate word from code comment
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a43ef9a30abc86ce6a7212ad3daf3fe97ab5a65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 16:44:45 2019 +0200

    Add function headers for civmanual client stubs lacking one
    
    See hrm Bug #820981
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 165118dec8241385dfec5b032b61364256a833c5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 23:07:31 2019 +0100

    civ1: remove lie from land unit class.
    
    There is no airlift in the civ1 ruleset. Stop claiming that units with the
    land unit class can be airlifted.
    
    Reported by nef at the Freeciv Forum
    
    See http://forum.freeciv.org/f/viewtopic.php?f=15&t=597&start=40#p100875
    See hrm Bug #850673

commit 0e290f0e40f208b8e44242f70634c999e6242b5c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 22:03:27 2019 +0100

    civ1: improved (dis/)embark move cost.
    
    Bring the civ1 ruleset's unit embark and disembark cost closer to what it was
    in Civilization. This is just a start the people that know Civilization 1
    better than I do can fine tune.
    
    See hrm Feature #850669

commit f27f6f14f62ed06bdee261833ff7ee22769b9868
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 21:44:06 2019 +0100

    civ2: improved (dis/)embark move cost.
    
    Bring the civ2 ruleset's unit embark and disembark cost closer to what it was
    in Civilization II. This is just a start the people that know Civilization 2
    better than I do can fine tune.
    
    This allows diplomats to use their second movement point after landing from a
    ship, so the the tech-pirate strategy that works so well in the real civ 2
    isn't completely ruined.
    
    Reported by an anonymous Civilization 2 player at our wiki.
    
    See https://freeciv.fandom.com/index.php?title=Comparison_of_Freeciv%27s_civ2_modpack_and_Civilization_II&diff=19136&oldid=13908
    See gna bug #23782
    See hrm Bug #850668

commit 328ded10dc4eb42e2af556f18499c0079883a877
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 18:13:02 2019 +0200

    Qt: Do not try to load without savegame selected
    
    Do nothing if user clicks Load button without savegame selected.
    Previously game proceeded to loading page where it then stayed forever
    waiting for server to get game loaded.
    
    Reported by  David Fernandez (bard)
    
    See hrm Bug #778016
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91e3bfb70b367a7f14c54389708e9b3b7d3be31c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 16:14:12 2019 +0200

    Correct code comment about HutTech unit role
    
    Reported by Alexandro Ignatiev
    
    See hrm Bug #823695
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef49da726b82439025b301d5e26a52f5be65c5b6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 4 20:46:26 2019 +0100

    Comment fact fix.

commit 69ea39e115a6bb0612b7eb2e27902d87c4b74e13
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 10:51:12 2019 +0100

    Fake generalize "Conquer City"
    
    Introduce "Conquer City 2", a perfect copy of "Conquer City".
    Any difference between them should be ruleset defined.
    
    See hrm Feature #850551

commit 0f7b1ed58d7490463ef21029d367d58deacb843d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 10:11:49 2019 +0100

    Fake generalize "Transport Disembark"
    
    Introduce "Transport Disembark 2", a perfect copy of "Transport Disembark".
    Any difference between them should be ruleset defined.
    
    See hrm Feature #850550

commit 7c6b5e00691ef9b49b35746458ff46d355ed6885
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 2 05:54:16 2019 +0200

    Add requirement vectors for clause types
    
    Ruleset can specify requirements for the clause types to be available.
    
    See hrm Feature #768208
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1e5167c9a38022fe7aa38c65a8ccc042737d00b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 2 10:32:01 2019 +0100

    A unit can't board a non allied transport.
    
    Force "Transport Embark" and "Transport Board" action enablers to mention
    that it only can be done to domestic units, units on the same team and allied
    units.
    
    See hrm Feature #850424

commit 311b40dabe3c81374747407f511d3a48b8aaabee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 2 04:26:58 2019 +0200

    Drop settings_consider_all_changed()
    
    See hrm Feature #850362
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6791cb61d5f0719179fd62e198ba11a891dee19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 2 04:25:12 2019 +0200

    Send server setting defaultness to client
    
    Requested by Jacob Nevins
    
    See hrm Feature #692371
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3dc8b22b35d7218d0a5d492c213c893205425a50
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Dec 1 19:38:43 2019 +0100

    A probability can't be above 100%.
    
    See hrm Bug #850312

commit 256ca3ce73655e1c4ec6149dc8d5c9d2ea72e4c9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Dec 1 09:22:29 2019 +0100

    Auto attack actions to the ruleset.
    
    Put the actions that autoattack should try in the new field attack_actions in
    the auto_attack section.
    
    Only allow removing and changing the order of the old auto attack actions for
    now. Other actions need more testing and fixing of issues caused by a worst
    case action probability of 0%.
    
    See hrm Feature #850300

commit ee74851b81490dc884dea1e5053514b0a13da269
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Dec 2 23:22:04 2019 +0000

    Merge current S2_6 en_GB translation
    
    From 98adb81658. master stats:
    core: 81%: 6229 translated, 974 fuzzy, 473 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 60%: 64 translated, 18 fuzzy, 25 untranslated.

commit 95284be1a6931295523cb41ca905393aa3928d60
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Dec 2 22:41:33 2019 +0000

    Updated Polish translation by Hubert Kowalewski
    
    merged from S3_0 f7a336c9f0. Stats on master:
    core: 97.7%: 7496 translated, 131 fuzzy, 49 untranslated.

commit 1c33900b840d584eacf39d1cd3e98104c4692854
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 1 00:36:53 2019 +0000

    Gtk3.22/4: restore mnemonics to most buttons
    
    Many of these are GTK_STOCK buttons in the Gtk3 client. I've mostly
    chosen the keyboard mnemonics that the Gtk3 client shows on my system.
    
    See hrm feature #850297.

commit de62f51c88a648df96af4c944470da69f9df1e7c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 1 03:25:42 2019 +0000

    Gtk3: restore mnemonics to action dialogs
    
    See hrm feature #850296.

commit 155df9a41a53242932e002305cac53ccb0d23954
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 21:33:14 2019 +0000

    Gtk3/4.x: restore Alt+mnemonics to menu system
    
    See hrm feature #850295.

commit 3fc0988c7a042a88aca55ccd50f0c8134d383db0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 20:20:50 2019 +0000

    Gtk3/4.x: don't use keypad for fullscreen
    
    Laptops/netbooks often don't have a numeric keypad. Use Alt+Return
    instead, like Gtk2 did.
    
    See hrm bug #850293.

commit 10f39218cc3b786db69c4459d5a115b632cd0052
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 20:13:34 2019 +0000

    Gtk3/4.x: replace META with MOD1 in shortcuts
    
    This works with the 'Alt' key (on my Linux PC at least), like Gtk2 did.
    
    See hrm bug #850292.

commit e16afad6a0dad930d7edde6d8d70aa8788903832
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 18:32:49 2019 +0000

    Qt: don't cache first theme directory
    
    The first time a theme was loaded, its directory was cached and all
    future attempts to use themes would try to use the same directory.
    However, the user could still be presented with themes in different
    directories, which would then fail to load.
    
    See hrm bug #850290.

commit 9f03c4fba88e71d7dfb758322bd7f63983ca8a6c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 14:44:24 2019 +0000

    Add dates to NEWS files.
    
    See hrm task #850289.

commit 55706fd9de8a46b07fa01d4cc6405d704360fd89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 20:48:25 2019 +0300

    Show unit activity icons for ACTIVITY_PLANT, ACTIVITY_CULTIVATE
    
    See hrm Feature #825185
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b27bbb6449f0b063112054b63f8fee221202cf0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 1 06:02:44 2019 +0200

    Meson: Add daiactions module to build
    
    See hrm Feature #850276
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edc3c6c9b2ac2ccb677cda812666ba410ba8fb00
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Nov 30 09:46:52 2019 +0100

    Support complex "will never auto attack" rules.
    
    In 3.0 it became possible to define a user unit type flag NotAnAutoAttacker,
    put it in auto_attack.will_never and give it to every unit type that never
    should auto attack. If only a few unit types should auto attack - say
    Nuclear Mine, SAM and AA Gun - the NotAnAutoAttacker flag would have to be
    added to every other unit type.
    
    Replace auto_attack.will_never with auto_attack.if_attacker, a new
    requirement vector. This allows a user unit type flag AutoAttacker to be
    defined for the above case. As a bonus support for more complex rules is
    added.
    
    See hrm Feature #850212

commit 0adbbc46b71b830da2df72f7dce3f23e1a483756
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 28 12:18:38 2019 +0100

    New action "Transport Embark"
    
    Introduce the new action "Transport Embark". It covers cargo initiated
    entering of a transport on an adjacent tile. It also covers cargo initiated
    transfer to another transport at an adjacent tile.
    
    See hrm Feature #850022

commit d3a7f59d0fb0ef92f00f08208c6c016f9494e6da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Nov 30 16:21:24 2019 +0100

    Fix memory leak.
    
    Make unit_survive_autoattack() free the probability of impossible actions.
    
    See hrm Bug #850240

commit c3d0dd01bcfe715a26327b0ad6cf482452427c5a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 28 15:32:04 2019 +0100

    Fix the post bribe disembark code.
    
    Disembark was baked into regular moves before hrm Feature #848682. The code
    to do a post bribe disembark was accidentally committed before it was ready.
    Complete it.
    
    See hrm Bug #850087

commit 5cfbd48e02017ab81b0c1461eccbdf394e0ce965
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 29 09:37:20 2019 +0100

    Comment clarification.

commit 191be284431a372e5498c4349277d573e4ed08bb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 28 07:50:26 2019 +0100

    New action "Transport Board"
    
    Introduce the new action "Transport Board". It covers cargo initiated
    entering of a transport on the same tile. It also covers cargo initiated
    transfer from another transport at the same tile.
    
    See hrm Feature #848637

commit f5f6074a18750aa992f00bf3058917acae790f82
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 28 09:19:42 2019 +0100

    Non transported units can do "Conquer City".
    
    Feature #849289 made it look like transported units were the only units able
    to do "Conquer City". Clarify.
    
    See hrm Bug #849954

commit 3b69933736b8e8d505034ddcb1301e0200c1a582
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 27 17:05:19 2019 +0100

    Introduce the new module daiactions.
    
    Factor aidiplomat's action sub target selection and action utility evaluation
    into daiactions's initial functions dai_action_choose_sub_tgt_unit_vs_city()
    and dai_action_value_unit_vs_city().
    
    See hrm Feature #849851

commit d698045a4caa53f7dfa3eb2f5b986755c73bf8db
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 10:40:08 2019 +0100

    webperimental: state terrorism.
    
    Allow sabotage, poisoning and suitcase nuking of non allied units and cities.
    Doing those actions in peace time causes international outrage: everyone, not
    just the victim, gets a Casus Belli against the guilty party.
    
    See hrm Feature #849540

commit ecd0a53854431d52c8871e235a0fc38801bfe132
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 08:12:21 2019 +0100

    AI spy action vs city evaluation: Casus Belli.
    
    Have dai_action_want_vs_city(), currently only used when evaluating spy
    actions against a city, consider the diplomatic implications (Casus Belli) of
    performing the action.
    
    See hrm Feature #849459

commit 86fe1b7ee928d7b40d5de2bfd8f1b3fd85f25178
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 06:13:03 2019 +0100

    AI: Suitcase Nuke > Sabotage City
    
    Adjust the utility of "Suitcase Nuke" and "Suitcase Nuke Escape" so they beat
    "Sabotage City", "Sabotage City Escape", "Targeted Sabotage City" and
    "Targeted Sabotage City Escape".
    
    See hrm Feature #849451

commit 6b31d6952576ff79e163aee464a5167447d71efc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 14 11:09:26 2019 +0100

    unit_pays_mp_for_action(): add attack cost.
    
    Move the cost of a successful attack to unit_pays_mp_for_action(). Doesn't
    include the cost of occupychance post attack forced move.
    
    This cost can't move to the ruleset yet because the support for OneAttack is
    still greater than the support for Action_Success_Actor_Move_Cost. Having it
    in unit_pays_mp_for_action() gives the AI access to it.
    
    See hrm Feature #849449

commit ca632d05ad2c36ac9e8903719fa7225c5ab2f561
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 06:00:05 2019 +0100

    AI spy action vs city evaluation: movement cost.
    
    Have dai_action_want_vs_city(), currently only used when evaluating spy
    actions against a city, consider the move fragment cost the actor unit has to
    pay.
    
    See hrm Feature #849448

commit d874447a669e2a7d04c6656deeffe65f982a912b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 05:55:52 2019 +0100

    AI: A unit can't pay more than MAX_MOVE_FRAGS.
    
    MAX_MOVE_FRAGS represents all the movement a unit has. Cap the move fragment
    cost from Action_Success_Actor_Move_Cost and Action_Success_Target_Move_Cost
    when calculating the AI utility they provide.
    
    See hrm Feature #849446

commit 6e6a2a311090e2ae60af49fc4ba69d4617642767
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Nov 25 17:10:43 2019 +0100

    AI: utility based spy vs city action selection.
    
    The Freeciv AI will typically make a choice by its utility ("want"). Much of
    its action selection code is hard coded by the order actions are attempted in
    the source code.
    
    Change the action selection a Spy does vs a city to an utility based selector
    that supports generalized actions. The action it performs is supposed to be
    100% identical to the old code. Value changes, support for things like move
    cost and Casus Belli and support for other actions can be done later.
    
    See hrm Feature #849343

commit ff04ae67262eb1df9139ada3703deb21b1e108f7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Nov 25 14:05:02 2019 +0100

    Clarify disembark in "Conquer City" documentation
    
    The hard requirement documentation for "Conquer City" in README.actions
    mentions being able to disembark. Clarify that this doesn't refer to any unit
    exit transport function.
    
    See hrm Feature #849289

commit 1f066c7ccf4dfa7ab21e24e1f1a9cfa85b6233dd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 24 21:36:58 2019 +0100

    New action "Transport Disembark".
    
    Introduce the new action "Transport Disembark". It covers cargo initiated
    transport exit to an adjacent tile. It doesn't cover transport exit followed
    by an action. It doesn't cover transport to transport transfer.
    
    See hrm Feature #848682

commit 4917cf37b3f38ef57fcfa806b90df8515552f7d5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 24 22:22:58 2019 +0100

    webperimental: Leader can destroy buildings.
    
    The next step to make Dear Leader more powerful is to allow him to destroy
    visible buildings, like city walls, in enemy cities. Doing this has a 50%
    chance of success and ends his turn.
    
    See hrm Feature #849195

commit 3897610810e14f616ee299e138463860e2912f63
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 24 21:55:43 2019 +0100

    webperimental: add being healed movement costs.
    
    Charge 1 mp from units being healed by the court physician.
    
    See hrm Feature #849194

commit 8269e221e8271335698a5c3493da3cf42873dcd6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Oct 31 00:16:30 2019 +0100

    adv_data: clarify what is being counted.
    
    Rename "missiles" to "suicide_attackers" since that is what is being counted.
    Rename "missile" to "suicide_attack" since that is what is being checked for.
    
    See hrm Feature #849138

commit 6124fe8effcf4787f33767af7b5631214e4cdf70
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 24 15:22:25 2017 +0200

    New action "Surgical Strike Building".
    
    A "Surgical Strike Building" is an attack against a player specified building
    in a city.
    
    The target building must be seen to be targeted. Future work may have
    previous Investigate City actions, Targeted Sabotage City actions, the see
    invisible buildings parts split of those split to a new action or some new
    action representing a Spy with a laser high lighting the target building
    provide the required visibility to do a precision strike against an unseen
    building.
    
    For now there is no powerful enough defence against this action to make its
    usage common. It will be limited to special actions for extremely high value
    units (like Leader) and probably also spend all movement fragments to leave
    the high value unit exposed. "Use the royal sapper to destroy the city walls
    and pray that you manage to eradicate all opposition before turn change."
    
    Ruleset defined pre action battle, if introduced, could make this action more
    usable. I think a new battle kind where one unit in the city able to attack
    the actor unit attacks it (shooting version of diplomatic battle) would suit
    this action well. "Precision Bomber tries Surgical Strike Building but is
    interrupted by attack from Anti-aircraft Artillery."
    
    Another thing that would make this action more usable is the ability to
    exclude certain target buildings, like wonders.
    
    See gna patch #7683
    See hrm Feature #848643

commit a69c9e441f06b4cb5a6082149c2d98d10cf5dc6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 22 12:22:38 2019 +0200

    installer_cross: Generate gschemas.compiled at target
    
    Do not ship gschemas.compiled from build host, but generate
    it when installing.
    
    See hrm Feature #848649
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6cce37c5297ca267e246eb428578a82cbd36a1a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 22 20:46:56 2019 +0100

    4 generic unit action events.
    
    Introduce the generic events e_unit_action_actor_success,
    e_unit_action_target_hostile, e_unit_action_target_other and
    e_unit_action_actor_failure for new (or previously silent) action messages.
    
    See hrm Feature #848791

commit d927c0a8486aae44a9bf5533738cb312ba73ab02
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 22 08:23:05 2019 +0100

    Make exit transport requirements consistent.
    
    A unit was forbidden from exiting a transport to its current tile if it was
    fueled or was losing hit points at that tile and the tile didn't have a city
    or an Extra where it could refuel. But it could exit the transport to the
    same tile by waiting for the transport to move one tile and then move to the
    tile it couldn't alight or unload on.
    
    Make transport exiting to same tile consistent with transport exiting to an
    adjacent tile by removing this hard requirement from "Transport Alight" and
    "Transport Unload".
    
    See hrm Bug #848658

commit 38ca32702ce19a1980db32e4c18a96f79c842de9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 22 05:45:37 2019 +0100

    New action "Transport Unload"
    
    Introduce the new action "Transport Unload". It covers transporter initiated
    unloading of a target unit to the current tile. It doesn't cover unloading
    followed by movement to another tile or followed by an action. It doesn't
    cover cargo initiated unloading. It doesn't cover transferring directly
    to another transport.
    
    See hrm Feature #848492

commit 37e8ec55499f3d473b5845e875a5eedd52894e14
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 21 13:29:49 2019 +0100

    New action "Transport Alight"
    
    Introduce the new action "Transport Alight". It covers cargo initiated
    unloading from a transport to the current tile. It doesn't cover unloading
    followed by movement to another tile or followed by an action. It doesn't
    cover transport initiated unloading. It doesn't cover transferring directly
    to another transport.
    
    See hrm Feature #848430

commit fa6683ebd50e2f39748b801cf467ee7e16d34f8e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 21 11:09:29 2019 +0100

    New effect Action_Success_Target_Move_Cost
    
    Introduce the new effect Action_Success_Target_Move_Cost and use it to soft
    code successful action target move cost for the action "Expel Unit".
    
    See hrm Feature #848435

commit 94c41483f6c5d49512cdd9c17b5464a31555d311
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 06:12:56 2019 +0100

    Clarify Action_Success_Actor_Move_Cost docs.
    
    Specify that the move fragments subtracted by Action_Success_Actor_Move_Cost
    applies on top of any movement fragments the action itself subtracts.
    
    See hrm Feature #848229

commit 028e38f53703d8a248bd9731e67c1f059f6b26a2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 18:01:19 2019 +0100

    Auto help: document will never autoattack.
    
    See hrm Feature #848344

commit 86569c660fcac986d62c610ea7d68deabaf496f6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 16:56:42 2019 +0100

    Auto help: mention how much "Heal Unit" heals.
    
    See hrm Feature #848326

commit d6110db7693cf41087f6209e0a912bbd3d445adf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 09:49:36 2019 +0100

    Load and store OutputType reqs by rule name.
    
    Read and save OutputType requirements by rule name rather than by (translated
    in the case of writing) vernacular name.
    
    See hrm Bug #848260

commit 2364e2a6d61c962c86cd6d2aaf98c9349645145d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 06:57:37 2019 +0100

    Auto help for death inside nuclear blast.
    
    The nuke_pop_loss and nuke_defender_survival_chance_pct ruleset settings were
    added in hrm Feature #801780. Auto document them.
    
    See hrm Feature #848233

commit 7cf73c9ce29906545d3228ca6acf50cd16dcfa7b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 15:01:54 2019 +0100

    Attempted Bokmål translation of new strings.
    
    My attempt at translating the strings introduced in hrm Feature #848070 to
    Bokmål. Marked as fuzzy since I'm a Nynorsk (not Bokmål) user and the
    translation was quick.

commit f4be6c443dbffc20b18a65b454abb5c3bd621bd7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 15:00:41 2019 +0100

    Auto help: document Casus Belli for unit actions
    
    See hrm Feature #848070

commit 3d0acf5cdd5995608a22beeb5280dfb5f59d50a2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 13:14:24 2019 +0100

    Set counter to 0 before use.
    
    The code that adds text to unit actions explaining that an action can't be
    done if another action is legal uses "i" to count the number of blocking
    actions. It assumed that i was 0. But code may be added above that writes to
    i without setting it back to 0. Set i to zero so such code won't cause
    problems.
    
    See hrm Feature #848052

commit 3f7d417daf4910d3801e11aecab2f0787e1489b8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 11:16:13 2019 +0100

    universal_fulfills_requirement: support DiplRel.
    
    See hrm Feature #848034

commit 03f4b02ab5d78c1476d5dc8ae70ce0b007d457c5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 09:12:15 2019 +0100

    Improve no universal found function handling.
    
    See hrm Feature #848027

commit 77680913120f67710b3af00101f83ff314174402
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 07:12:24 2019 +0100

    Replace magic number of EFT_CASUS_BELLI_* amount
    
    ...with the macros CASUS_BELLI_VICTIM and CASUS_BELLI_OUTRAGE.
    
    See hrm Feature #848015

commit 18f08b5b36e2535f421e8f0f0c86eefd2cd38ff8
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Nov 17 07:45:49 2019 +0200

    Call get_tooltip_improvement in Qt client with city pointer
    
    Reported by Marko Lindqvist
    
    See hrm bug #846914
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 945a27c649e08657f7edf8282dc42726250b0873
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 17 06:08:34 2019 +0100

    webperimental: adjust "Heal Unit" cost.
    
    The only unit that can do "Heal Unit" is the Leader. Spending all his
    movement points to heal up to 25% of some unit's hit points is too expensive.
    Reduce the cost to a single move.
    
    Feature #847689

commit 8dcf0aa583e939568f63bf28a790c3ea946499c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 13 14:03:33 2019 +0100

    Ruleset saving (ruleup) test.
    
    See hrm Feature #752136

commit b6e01c4068e364d9f375971d8f4de9a6d7776f47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 16 07:09:26 2019 +0200

    Switch from python to python3
    
    See hrm Feature #842994
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25a386b3fd3bc9f5df54c0bc0685d000b2128f2e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 15 13:57:58 2019 +0100

    Clarify that actor unit may be a non diplomat.
    
    The unit action server query code started by reusing the existing spy action
    code. The actor unit was therefore often referred to as diplomat. Change
    names to make it clear that other kinds of actor units may use this system
    too.
    
    See hrm Feature #847398

commit f2173409a8e09fea9fecfb79ddf7dcf64fdab425
Author: Andreas Røsdal <andreas.rosdal@gmail.com>
Date:   Wed Jun 14 22:44:10 2017 +0200

    Set MAP_MAX_SIZE to 38 for Freeciv-web.
    
    Freeciv-web has carried a patch to increase max map size for Freeciv-web
    since 2017. MAP_MAX_SIZE is inside an ifdef FREECIV_WEB in Freeciv. Apply the
    patch Andreas added to Freeciv-web to Freeciv so Freeciv-web can drop it.
    
    See hrm Feature #847376

commit 23ae684640fc1995301f3a427ce8ffbafcbf19ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 14 04:36:42 2019 +0100

    Auto help: document unit turn ending actions.
    
    Document actions that ends the actor unit's turn because of the effect
    Action_Success_Actor_Move_Cost. This makes it consistent with how "Attack"
    ending the actor unit's turn because it has the OneAttack unit type flag is
    documented.
    
    See hrm Feature #847267

commit 28a69a38ec6a368b91b5a3d5cb0c0c28dd8a07ab
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 14 10:03:51 2019 +0100

    universal_fulfills_requirement: support actions.
    
    See hrm Feature #847262

commit 9c7607db530480fb1ad6590b7fbeb8538708159d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 13 07:32:24 2019 +0100

    New effect Action_Success_Actor_Move_Cost
    
    Introduce the new effect Action_Success_Actor_Move_Cost and use it to soft
    code successful action move cost for the actions "Establish Embassy",
    "Investigate City", "Bombard", "Capture Units", "Expel Unit" and "Heal Unit".
    
    See hrm Feature #846773

commit cfa2ebccba99605c193045b153d449bef4a3ac6f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 13 14:49:14 2019 +0100

    Include terrain_control in movement.h.
    
    SINGLE_MOVE and MOVE_COST_IGTER in movement.h refers to terrain_control.
    Include it.
    
    See hrm Bug #847090

commit fa071cd3aae5506330e23088c34c341bec588108
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 12 10:46:27 2019 +0100

    Centralize successful action move cost.
    
    Successfully performing certain actions has a movement price that is
    subtracted after the action is done. Centralize this subtraction for the
    actions "Establish Embassy", "Investigate City", "Bombard", "Capture Units",
    "Expel Unit" and "Heal Unit".
    
    See hrm Feature #846967

commit 423625c68619eb32585aa762c596bbecf49642b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 12 13:05:45 2019 +0100

    freeciv-manual man page: document tech output.
    
    See hrm Bug #846835

commit 4e57e3b9332b6c1dfdb37362394351bcaf140545
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 12 10:30:26 2019 +0100

    Replace magic number of max move frags...
    
    ...with the macro MAX_MOVE_FRAGS.
    
    See hrm Feature #846809

commit 0a92b6869180ae94dd23840f9ed36716bc1431d9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 10 18:05:42 2019 +0100

    Move unit_type's need_improvement to build_reqs.
    
    Move unit_type's need_improvement to the internal build_reqs requirement
    vector.
    
    Don't change the ruleset format. The requirement vector support for unit_type
    isn't ready to be exposed yet.
    
    See hrm Feature #846539

commit 6a56d14d4aa880a827916a1842029536beb488d3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Nov 11 00:25:35 2019 +0100

    CanPillage unit class flag to the ruleset.
    
    See hrm Feature #846557

commit b18930195a8cbe9bf05fac1705501c9ee9043e0b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 6 18:46:39 2019 +0100

    Internal unit type requirement vector.
    
    Add the requirements vector build_reqs to unit_type. Store unit type's
    government requirements in it. Replace use of unit_type.need_government with
    use of the requirement vector.
    
    Don't change the ruleset format. The requirement vector support isn't ready
    to be exposed yet. (When it becomes ready it will probably have another form,
    like an action enabler for an action with a city actor.)
    
    See hrm Feature #846538

commit 997edc7cddbd0f51fece3eef8bf0307f352407ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 10 14:59:28 2019 +0100

    Fix city worklist building postponing.
    
    Make building postponing happen again.
    
    See hrm Bug #846514

commit 2cc1bb29ccdca168cf12831db849f45ccc132f65
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 7 12:25:53 2019 +0100

    Factor out postpone build req vec reasoning.
    
    Factor out worklist_change_build_target()'s logic that goes over an
    unbuildable building's requirement vector to see if it should be postponed or
    canceled.
    
    See hrm Feature #846513

commit d3bcfd37fb1f4b3f8fb427aa1c2cca2635ac9e82
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 8 07:20:05 2019 +0100

    Comment fact fix

commit 6d125fcde6d8905b4b651e94af7f54a513a299bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 7 08:04:26 2019 +0100

    Add more unit class user flags.
    
    "Missile" moved to the ruleset. A 3.0 ruleset may use all 8 itself. Add more.
    
    See hrm Feature #846122

commit 639b2667030309fd0b0b362e0ed9c7b29968ed7b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 7 08:09:04 2019 +0100

    Fix comment typo

commit c99f29bd4f0130276f0713ea8e655da48fb8ff22
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 5 13:31:28 2019 +0100

    protocol: standardize action main target fields.
    
    Action sub target fields are already transferred as ACTION_SUB_TGT. Do the
    same for main targets by introducing ACTION_TGT. It is large enough for all
    main target kinds.
    
    See hrm Feature #845766

commit 745a2a230e923c07a3f24d849f2c740338a1651b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Oct 30 23:46:44 2019 +0100

    adv_data: stop claiming utype flag control...
    
    ...over the action enabler controlled unit abilities "Paradrop Unit",
    "Airlift Unit" and "Suicide Attack".
    
    See hrm Feature #845488

commit e9436a809f6f6630835cef0d15cff42698f13f7c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Nov 17 17:26:42 2018 +0100

    Missile uclass flag to the ruleset.
    
    Move the Missile unit class flag to the ruleset and lift the restriction that
    a unit that can perform "Suicide Attack" can't perform regular attacks.
    
    This makes units that can attack the normal way but also perform suicide
    attacks possible. Rules for what circumstances permits regular attack and
    what circumstances permits suicide attacks are action enabler controlled.
    Example rule: an air unit that has to perform a Kamikaze attack to fight sea
    units. It has combat bonuses against sea units to make the Kamikaze attack
    worth performing.
    
    See hrm Feature #787111

commit 8b2989b6680c94400aa87b1ded219a141123af6a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 5 13:00:31 2019 +0100

    Fix incomplete comment.

commit 26b61a8bb2ba7ea04203dffd3cee5d1b48f25032
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 20 04:39:33 2019 +0300

    Update included lua-5.4 to version 5.4.0-beta
    
    This is only a version number update in documentation.
    
    See hrm Feature #842591
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0cb02cf37a2ed9fd49fd87048ea5e4b3ccf5e9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 12 19:19:35 2019 +0300

    Update msys2 environment to 191012 level
    
    See hrm Feature #841414
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9b94235d1677a86a8a4b2902be1bdfa6528e518
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 12 05:37:42 2019 +0300

    Update included lua-5.4 to version 5.4.0-beta-rc2
    
    See hrm Feature #841262
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac45f28be09dc3bf14a2604c1871f6939ee0fbec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 12 05:22:39 2019 +0300

    Make extra placing to take place at turn change
    
    Extra placing is no longer an immediate action.
    
    See hrm Feature #826830
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dcc3eb32d7cc68431eac573ad760e73bbcccb934
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Oct 11 11:27:12 2019 +0200

    Updated French translations

commit ab1c8f2a914300783f769819bed37c848c66721a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 7 15:25:42 2019 +0300

    Fix segfault at loading older format savegame
    
    Conversion of the action_vector was trying to save excess, uninitialized,
    elements.
    
    See hrm Bug #840623
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94a27480f3a66b79bbaefd4cc79847a57ef32770
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Mon Oct 7 01:43:15 2019 +0300

    Replace Qt client-side rally points with server-side ones
    
    Server-side rally points have numerous advantages. Shortcomings to be addressed in future patches:
    
    * Possible crash if a city is destroyed while setting its rally point (issue #830553)
    * Orders are not displayed while setting the rally point
    * Only supported by the Qt client
    
    A shortcoming of server-side rally points is that they can only be set if an unit is being built.
    
    See HRM feature #840514
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7176e19a7fb8317767d533320a00f63cfa770a92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 5 23:50:29 2019 +0300

    Update included lua-5.4 to version 5.4.0-beta-rc1
    
    See hrm Feature #840145
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 243d5ad0745e2409667d4398c5814d7d2ec918c0
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Fri Oct 4 09:28:11 2019 +0300

    goto.[ch]: add support for rally points
    
    Add functions to send rally point packets to goto.[ch]. The interface
    mirrors the one used for normal goto orders.
    
    See HRM task #838543
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 461b045bff0ddc5cb740ef76de29c315cf7b30d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 4 09:05:07 2019 +0300

    Set RULESET_COMPAT_CAP to "+Freeciv-3.0-ruleset"
    
    See hrm Feature #820799
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 841ad229df9e1bae5350046145e2d47045a7e439
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 4 08:21:10 2019 +0300

    Set master soundset capstr to "+Freeciv-3.0-soundset"
    
    See hrm Feature #820798
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b160a5990561219dac7f7cc4e2f00515216752e
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Mon Sep 23 06:10:53 2019 +0300

    Factor out make_path_orders in client/goto.c
    
    The new function will be used for rally orders.
    
    See hrm Feature #835674
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e9164a6f71bdcc7093e4aae8abb09d9b9d377faa
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Thu Sep 5 14:20:56 2019 +0300

    Update README.delta with information about struct fields
    
    See hrm Feature #834328
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f6d707e827bdc6d2f85712b2b3bd35497d79c96
Author: Zeko <zeko@freeciv.xyz>
Date:   Wed Sep 4 01:45:33 2019 +0300

    Remove unused function: tile_{add,remove}_{base,road}
    
    See hrm #831057
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e32e134c64dfcec56cd435804eab6c565bf1c648
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Tue Sep 3 15:59:48 2019 +0300

    Network protocol: turn unit orders into array of struct
    
    Unit orders were sent as 5 distinct arrays:
    
      ORDERS orders[]
      DIRECTION dirs[]
      ACTIVITY activities[]
      ACTION_SUB_TGT sub_targets[]
      ACTION_ID actions[]
    
    This combination was used four times in the protocol. This commit turns
    all of them into a single array:
    
      UNIT_ORDER orders[]
    
    This change simplifies the interface of some orders-related functions,
    making it possible to share code between goto and rally points.
    
    See hrm Feature #833667
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e78bf3730c6e8f62b080008116e364885f333c5b
Author: Zeko <zeko@freeciv.xyz>
Date:   Fri Aug 30 05:01:21 2019 +0300

    Remove unused function: zoc_ok_move
    
    See hrm #831056
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit faf49be4fc5a85283294a8a8e9060cdbc6329bfb
Author: Zeko <zeko@freeciv.xyz>
Date:   Thu Aug 29 17:28:16 2019 +0300

    Add handling of SDL_FINGERDOWN events
    
    See hrm #831742
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 819a49c7973fdbf19f0e0de05e6a174872d74ba3
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Thu Aug 29 13:49:35 2019 +0300

    Move do_make_unit_veteran() to common/city.h
    
    Also rename it to city_production_unit_veteran_level since it doesn't
    do anything to the unit.
    
    This function is needed in the client in order to set rally points.
    
    See hrm Feature #830557
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67a9b6ae8e197e71115a8bfbdb5d5db6ba5538d9
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Aug 25 08:28:51 2019 +0300

    Remove gui_iconv because it is dead code
    
    See hrm #831012
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 598d2dc388b73d84550c5573c10b8b6209fdad61
Author: Zeko <zeko@freeciv.xyz>
Date:   Sat Aug 3 10:05:03 2019 +0300

    Fix multiple declaration of pOptions_Button
    
    See hrm #829535
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a255f35f41ffb55dc4e6c1bf9864714c5d8b2c7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 3 09:49:05 2019 +0300

    Fix gcc9 warning in mapimg_generate_name()
    
    See hrm Bug #830116
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a53ac41fc25ae24b2f768db863374c5965e73738
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 30 21:51:41 2019 +0300

    Meson: Install stdsounds
    
    See hrm Feature #829523
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 445c845c13cb5a6c27d961c3277f04960af3d036
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 11:54:19 2019 +0300

    Granularity: Use default nationlist
    
    See hrm Feature #827548
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3639cd98396d7ae17a9400d5fa068204d44d1c1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 26 23:48:14 2019 +0300

    Travis CI: Use 'apt' instead of 'apt-get'
    
    See hrm Feature #829052
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95346174b81240dd78663df1a1694bc145d89107
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 12:04:31 2019 +0300

    Add AI trait "Builder"
    
    See hrm Feature #825086
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8373f31c0e40fd70cbd37eb45a3e5785dc166b96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 27 09:43:00 2019 +0300

    Update msys2 environment to 190727 level
    
    - Updated to use upstream snapshot 190524
    - Empty package cache
    
    See hrm Feature #826810
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c93f95b6ccbf13ee521bf1496538263ffe43e8ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 17 07:44:18 2019 +0300

    Granularity: Multiply move costs and rates by 5
    
    Make units subject to terrain move costs for the correct costs
    to apply to them.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 503b5e2cf6168f9593482a52db125bda2a98b50b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 09:38:38 2019 +0300

    Alien: Replace ui_name_irrigate_tf by ui_name_cultivate
    
    See hrm Bug #827524
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2704537a7f3a988bbc0f9abd2f4d4756d0fce67f
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   Thu Jul 18 10:01:37 2019 +0300

    Female Kibutznik is Kibutznikit
    
    Changed to the correct form
    
    See hrm Bug #829168
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e583860621cfae0a0fa7ae24711e9be6d9d3307
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 16 05:37:33 2019 +0300

    Granularity: Set base Max_Rates effects
    
    See hrm Feature #826832
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e6fab18db4410c046cb023e4e2316f421849389
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 08:51:39 2019 +0300

    Meson: Install gtk3.22_menus.xml
    
    See hrm Feature #827508
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1ec8176c8fcab4f64f0e23660a4461a3a3b8c79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 17 12:44:18 2019 +0300

    civ1: Remove max rates limits for tax/sci/lux
    
    Reported by nef
    
    See hrm Feature #827329
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6cca34be04f811cab76027a0b8684bc3fbaa182
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 16 02:21:51 2019 +0300

    Granularity: Setup Grassland terrain
    
    Replace Generic terrain with Grassland. Make it to provide 200 food.
    
    See hrm Feature #826807
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85016b1ca4f24092aec3b154a64ec61fe1296fb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 15 20:28:10 2019 +0300

    Granularity: Multiply attack/defense values by about 10
    
    Nomads have attack & defense of 7 instead of 10.
    
    See hrm Feature #826739
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f1ddb15357291f5703ed329a23bd7d9532732c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 8 00:57:00 2019 +0300

    Disallow placing extras where also workers are making changes
    
    See hrm Feature #825236
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 145acd4429f0bc48c84ed740a6ed71aa12f0a4d1
Author: Zeko <zeko@freeciv.xyz>
Date:   Fri Jul 26 21:22:48 2019 +0300

    Remove unsafe QString construction from uninitialized char array
    
    See hrm bug #827171
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 965af7e322d25e41e14a2bedb1a4041a2d68f070
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 15 09:15:33 2019 +0300

    Meson: Install large flags
    
    See hrm Feature #826396
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6d87fe0003a8ef821029a768caaba7d6bbbbd95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 8 01:41:10 2019 +0300

    README.scenarios: Add chapter about savegame compatibility
    
    See hrm Feature #825240
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 828ee717266f9619e63c73a61adb55e8acd4e874
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 12:01:55 2019 +0300

    Granularity: Add base "Size_Adj" effects
    
    See hrm Feature #825214
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3945c3da2f842c1df07fd17952459beab41d9b1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 17 05:57:48 2019 +0300

    README.packaging: List tex ai being built in by default in new features
    
    See hrm Feature #827157
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfa277790d74cae0ee4d0ec1c5a46d8af1882e2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 01:02:20 2019 +0300

    Rename comments.txt as comments-3.1.txt
    
    See hrm Feature #825209
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 267f259abac3301f9e48303f61f2c849e98b5cd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 09:17:07 2019 +0300

    Add adv_choice_get_use()
    
    See hrm Feature #825091
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4967e4a153e8575aaddb801df2de1e722b211c8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 22 21:40:53 2019 +0300

    Fix stringop-overflow compiler warning in xml registry
    
    See hrm Bug #828263
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99feab328d942777b97d7080f1fd97fe491d6f8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 20 16:42:52 2019 +0300

    Update to crosser-1.8
    
    See hrm Feature #827999
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b701966a50bfb57378094d1441ae2e7ef3b6f44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 23 10:16:51 2019 +0300

    Comment typofix: "is is" -> "is"
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 174830b7e30a051f21c0cc1c2e2d2a4543079a78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 23 09:51:38 2019 +0300

    Typofixes: "Is is" -> "It is" / "Is it"
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e82a78d3cd219b72f8fde411c632eaba6ed4686
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 9 02:02:13 2019 +0300

    Meson: Install building and wonder icons
    
    See hrm Feature #825445
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24e761e11c4080c2ecc00a828e10f1aaf5b7f886
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 19:33:24 2019 +0300

    Disable FIELD_RANGE_ASSERT
    
    It has been enabled by accident.
    
    See hrm Bug #825126
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8d550a8acbff66cb52b44e04cc6604820bc471b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 04:12:51 2019 +0300

    find_something_to_kill(): Count considered unit as one more attacker
    
    When counting how many units there would be to attack enemy city,
    and considering an unit to be built, count the considered unit in.
    Maybe attack is worthwhile with the new unit.
    
    See hrm Feature #825074
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b03849f0a3823ebf5bbf2535a0308174aa0f85c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 02:06:09 2019 +0300

    Help: Do not claim that extra is placed by generator when it's not
    
    If extra has 'generated = FALSE' help should not say it's placed
    by map generator. Also, made it to say that generated extras
    of resource kind are placed by map generator.
    
    See hrm Bug #825071
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e768799056e99738debe16dca2bb676b24922ee9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 11:50:08 2019 +0300

    Do allowed_terrains check against original city name hint
    
    The code to check if terrain given as city name hint exist modifies
    the name to check also non-plural form if the terrain is not found
    with original. Later allowed_terrains check should be against the
    original name given in as the hint regardless.
    
    See hrm Bug #827555
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1bae5a16c0c38a07722a2764b552df4f0150e84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 20:01:08 2019 +0300

    Meson: Build freeciv-mp-cli
    
    See hrm Feature #825023
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53913c2e6fada531c555ff13a1a4cb39d287b920
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 21:41:24 2019 +0300

    Granularity: Add first techs
    
    Set tech requirements for existing units.
    
    See hrm Feature #825029
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1aaa409d6748d68703e669652895995d86e99c51
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Thu Jul 18 03:13:26 2019 +0300

    Fix negative array index in send_path_orders
    
    i can be equal to 0 after the loop when a final_order was given without a path.
    This caused p.orders[-1] to be read. Prevent it by requiring i > 0.
    
    See HRM issue #827156
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d15a8e054fd2b203a2a4799d2355fb0492c5dd3c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 03:53:42 2019 +0300

    Fix military advisor to consider sea attacker instead of land attacker twice
    
    See hrm Bug #825073
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea15fc761acc4145ed984cab87dcf8e135360071
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 01:52:55 2019 +0300

    Meson: Install techs.png
    
    See hrm Bug #824833
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5975091fb230233c3eefbb9d708da10b0a265a02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 17:26:58 2019 +0300

    Granularity: Set output_granularity to 100
    
    Multiply output values by 100 everywhere.
    
    See hrm Feature #824526
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b9627a677fe9c4bd7215ba0919652899a1037fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 17:55:21 2019 +0300

    Update included luasql files to luasql-2.5.0 level.
    
    See hrm Feature #824990
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4655d120a7f70187a63459653eea45cc289d920d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 18:54:07 2019 +0300

    PF: Support move costs bigger than 253 in fuel maps
    
    See hrm Bug #824102
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a506932ed2c5c18e136a353eab5be57f5abdf74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 01:43:14 2019 +0300

    Meson: Add checks for functions
    
    See hrm Feature #824830
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fbca91d97f2cca603a09fac992c5cbf308329e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 11:59:38 2019 +0300

    Adjust network protocol for high granularity
    
    See hrm Feature #826808
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2c9db1b27dcf7c08c97658419626613eb926881
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 00:10:13 2019 +0300

    Alien: Give "NeverProtects" flag to Burrowing units
    
    See hrm Feature #824810
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 428a9388839c5d64a2a256691e3d4e749444d4cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 15 03:21:24 2019 +0300

    Bump .modlist, .mpdl capability string
    
    See hrm Feature #826215
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a527d19d529f620d69570a5d84945f64781d21d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 22:57:26 2019 +0300

    Sandbox: Do not call default.lua hut handling for Hermit's Place
    
    Reported by Alexandro Ignatiev
    
    See hrm Bug #824818
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af5ff75b5b907416a90c5f784cc7617cd6a4ba6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 8 01:25:15 2019 +0300

    civ1: Don't allow planting Forest to River tile
    
    Reported by nef
    
    See hrm Feature #825239
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88dedbc15d26b8c0ddddbc1225367742fc0c5db5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 03:52:49 2019 +0300

    Granularity: Set base City_Unhappy_Size effect
    
    See hrm Feature #824596
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6591a59eca999c4726c30381da767928f592f50d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 22:59:20 2019 +0300

    Tex: Use tex map unit list when evaluating city worker tasks
    
    Use worker thread's copy of player unit list when evaluating city worker
    tasks, to avoid trouble when workers get killed in main thread while worker
    thread is going through tasks they could be doing.
    
    See hrm Feature #824565
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ccf0ccb6a55961c7217573a9576b81daeb63d13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 04:44:56 2019 +0300

    INSTALL.meson: Document important upstream implemented configure options
    
    See hrm Feature #824597
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 060e6bef5379c373f1d852b3caf057d3ee7a35e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 16 00:46:56 2019 +0300

    Rename aicity.c as daicity in POTFILES.in
    
    See hrm Bug #826803
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe0c5da47043d2993a62a4c0275e00aece008dec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 21:15:41 2019 +0300

    Rename ai/default/aicity.[ch] as daicity.[ch]
    
    See hrm Feature #824110
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9fbee362750bda9288d738d0215203a8381a203
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 13:59:55 2019 +0300

    Granularity: Set summary text to granularity ruleset one
    
    Replace summary text derived from stub ruleset, and specific to
    stub ruleset, with a text suitable for granularity ruleset itself.
    
    See hrm Feature #825217
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9251a5ef4795c7bfbae30271a4ef62f6e852c6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 00:39:45 2019 +0300

    Meson: Check for fork() and vfork()
    
    See hrm Feature #824588
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46cb1b65593792fcbfce039008127c07407e2e75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 16:54:05 2019 +0300

    AI: Consider "Coast" units usable boats
    
    Relax is_boat_free() check against fuel using units to allow
    UTYF_COAST units to be used as boats.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ede67b466ad1319daad2f2a59c121b09aae13d2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 22:38:50 2019 +0300

    Bump .tilespec and .spec capstrings
    
    See hrm Feature #824555
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 319847140ba4e54ba2e607409c38895844913e72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 12:38:25 2019 +0300

    Adjust max values for ruleset settings for high granularity
    
    See hrm Feature #825215
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bb4349d07b4198f89f46932eff55f3cdd47d2c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 18:52:26 2019 +0300

    PF: Correct check against impossible move in pf_fuel_map_iterate()
    
    See hrm Bug #824100
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c88ffff5694be8375c4104baf168419db8efa486
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 13 23:23:30 2019 +0300

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e76d82582490e249aea5c339c988f290d2ef6b0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 30 11:42:18 2019 +0300

    civ1: Correct River helptext
    
    It was claiming that River can exist on any land terrain when in
    reality it can exist only on Grassland.
    
    Reported by nef
    
    See hrm Bug #824129
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f609fa628407e534ea15676d7e38844b0d419acd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 13 06:28:42 2019 +0300

    Add history_interest_pml ruleset setting
    
    See hrm Feature #823245
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 586ad2253a683eb22ba0c3b2ebd8811422c64868
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 09:41:29 2019 +0300

    Meson: Set IS_DEVEL_VERSION
    
    See hrm Feature #824085
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02419650ebdb8ebb455c2e74257640281a021b63
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Jul 7 10:27:38 2019 +0300

    Clarify helptext for airliftingstyle setting
    
    See hrm #825210
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a38a2d3ff140d837952597f8bfd5ed67d4bba54c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 18:48:01 2019 +0300

    PF: Handle FC_INFINITY move cost in fuel maps
    
    tile_move_cost_ptrs() uses FC_INFINITY to flag that all
    movement is spent. Handle that special value if received
    in pf_fuel_map_iterate()
    
    See hrm Bug #824099
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78839df322cad1532ca33f5f66d986673f77cb68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 06:12:01 2019 +0300

    README.scenarios: Add chapter 'Luadata'
    
    See hrm Feature #824071
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6082bd4886ed1459f411617ee3da7395a756278e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 8 02:18:53 2019 +0300

    Fix gcc9 warning in NDEBUG build
    
    See hrm Bug #825241
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f76f6c8a63e91412bd033ccbe2b8f8694fc7acac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 10:39:58 2019 +0300

    Allow placing extras to own territory only
    
    See hrm Feature #824087
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6270ecb8971e36c66be022668ae24c2a57fd7882
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 06:42:11 2019 +0300

    Meson: Install stdmusic
    
    See hrm Feature #823707
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc98cbafeb3ea674e9f0102c312c1b31a8ff01c9
Author: Zeko <zeko@freeciv.xyz>
Date:   Thu Jul 11 02:54:48 2019 +0300

    Implement server side of the rally points
    
    See hrm Feature #822928
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 782f25c8fcdc9c14803cffa03b7cc75e0b6dd591
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 23:06:34 2019 +0300

    Qt: Correct display of adversary luxury rate
    
    Reported by Jacob Nevins
    
    See hrm Bug #825218
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5629c729c0b78a467f6930ae13860f1ef4f01ca3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 09:26:40 2019 +0300

    Granularity: Add Nomad and Warriors unit types, remove Generic
    
    See hrm Feature #824080
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b5461cbbac874bb7773ec5dfefe23d5be899421
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 26 05:26:00 2019 +0300

    README.scenarios: Document [scenario] fields
    
    See hrm Feature #823395
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 158b11d4c8e35c3d920ba88b93e5a20e70720f86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 06:38:24 2019 +0300

    Meson: Enable audio
    
    See hrm Feature #823706
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6439cb1a93dfd7b2aec5a40b026fa6db7252dd9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 10 00:10:54 2019 +0300

    Add ACTIVITY_CULTIVATE, ACTIVITY_PLANT
    
    They do only tile transformative part of
    ACTIVITY_IRRIGATE/ACTIVITY_MINE. ACTIVITY_IRRIGATE/ACTIVITY_MINE
    are not changed; they still do both extra building and tile
    transformative forms, as they are still what is actually used in
    most cases. There's no way to initiate the new activities from
    the client.
    
    See hrm Feature #824074
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2cd6d13c35e4f5c2d2139ddc80ef4dbcd92232d9
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Jul 7 10:18:44 2019 +0300

    Fix heap buffer overflow when stripping string prefix
    
    See hrm bug #769012
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a66022307d134249d479b659abf3f07e00f5f330
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 21:47:46 2019 +0300

    Add configure option --enable-ruleup
    
    See hrm Feature #823938
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 647412ee2a9d6e013896c4fabb1229930c05df96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 23:14:08 2019 +0300

    INSTALL.meson: Add chapter about prerequisites
    
    See hrm Feature #823133
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff67f1613da6a14c288ad160204bbb8f3d13b4ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 08:11:40 2019 +0300

    Granularity: Add Settlers unit type
    
    - Add action enabler for city founding
    - Add Settlers unit type
    - Remove "CitiesStartUnit" role from Generic unit
    
    See hrm Feature #823714
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78d2c0175d52d3c72d9bdba1be57121f1ba471c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 9 00:10:33 2019 +0300

    Add extra rmcause "Enter", use it for huts
    
    Patch by Alexandro Ignatiev and myself
    
    See hrm Feature #802768
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce89223df146dbdc0a637294d192343f95672a17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 1 16:16:09 2019 +0300

    PF: Fix handling of NS_PROCESSED in fuel map iteration
    
    In case of fuel map iteration, even already processed tiles can
    be rechecked if they are not refuel point. Make sure that when
    that happens, they do not end to main queue, but only to waited_queue.
    
    See hrm Bug #824278
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31d50eb11f054e10e11ff3225ad4c7c3be97dd4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 1 23:06:53 2019 +0300

    Rename "Irrigate TF" action enabler as "Cultivate"
    
    See hrm Feature #821921
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94257d4c010fb5f3d36dca65092878acfaeda645
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 25 19:19:56 2019 +0300

    civ1: Make Great Wall to protect against population loss
    
    Great Wall is documented to be equivalent of having City Walls
    in every city. City Walls protect against population loss, so
    Great Wall should too.
    
    Reported by nef
    
    See hrm Bug #822929
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14476905b94277d6beb428814acea2b5c29b7803
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 07:06:44 2019 +0300

    Meson: Define FREECIV_DEBUG in debug builds
    
    See hrm Feature #823013
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c43f6bde93034eef1447bf2a99fe47ae0962fa73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 22:30:53 2019 +0300

    Travis CI: Make also C++ compilations with -O3
    
    See hrm Feature #823123
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit beff81a442e2c769f9eda895c5c0dd4f52f42d2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 17:43:37 2019 +0300

    Tell ruleset section name in ruleset update log warnings
    
    Converting some 3.0 effects to 3.1 action enablers can result
    in warnings in the conversion log. Tell which ruleset section
    they are about.
    
    See hrm Feature #823056
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c9e0d5abd44c43c1eff92a4d563bb78fba71167
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 19:07:42 2019 +0300

    Make food_stock signed value in network protocol
    
    See hrm Bug #661865
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5626f4fec5ee04611589556af2116d4841226681
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 17:48:56 2019 +0300

    Add 'infracost' property for extras
    
    See hrm Feature #823926
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5d8962bfc5e0cd257bf8efacf13572f133783bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 12:23:10 2019 +0300

    Granularity: Setup file headers and descriptions
    
    See hrm Feature #822935
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6110ed1472b3dc70a27b88e66ff2f65a6db12f8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 13:42:38 2019 +0300

    Meson: Install data/ruledit/comments.txt
    
    See hrm Feature #822959
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c37197d79a55feeba99a1aca3c0110dac13865e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 10:57:49 2019 +0300

    Travis CI: Add granularity ruleset loading test
    
    See hrm Feature #822934
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35def4fcdb3ee6f1fe0434ea8f511b149784af7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 02:11:03 2019 +0300

    sdl2: Do not try to add callbacks to the list when client is closing
    
    Reported by Zoltán Žarkov
    
    See hrm Bug #824593
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d22393f2c2a22ee33ff0dda7f005e60348feaf1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 01:13:04 2019 +0300

    Document --wiki option in freeciv-manual manpage
    
    See hrm Bug #822921
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85567c921303df54deb331657a34d3fe3f2af622
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 07:54:08 2019 +0300

    civ1: Make only Artillery and Bombers to ignore City Walls
    
    Reported by nef
    
    See hrm Bug #822926
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3d94040eb30c36529bf7e6c4770136a78f8f75f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 22:38:14 2019 +0300

    Display remaining infra points in infra placement dialog
    
    See hrm Feature #822922
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ceaad8dd7a3c7177fe45bfca78604c4ea50b7cc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 30 01:59:50 2019 +0300

    Improve documentation of terrain.ruleset [extraui] section
    
    See hrm Feature #824117
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd5f15b33c0db5e6f2b367ab7e039abe601fc3b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 01:01:43 2019 +0300

    Add manpage for freeciv-ruleup
    
    See hrm Feature #658078
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 998dd219509f9f43bbb5ec5e2e1200d9602cc948
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 05:01:05 2019 +0300

    Meson: Build freeciv-mp-gtk3
    
    See hrm Feature #822920
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6e7ac5536820318dab196349f403c16972106ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 20:45:05 2019 +0300

    Travis CI: Use python3 instead of python2
    
    See hrm Feature #822909
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a86c72bdab44756315cbda4b78f3b7cece19f87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 10:34:35 2019 +0300

    Copy stub ruleset as granularity ruleset
    
    See hrm Feature #822933
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e73bcd35a8a42fa24a39ad4ac915e7f9f8f2496
Author: Zeko <zeko@freeciv.xyz>
Date:   Wed Jul 3 02:40:42 2019 +0300

    Fix arithmetic error in SDL2 create_line
    
    Reported by Ignatus and Zoltán Žarkov
    
    See hrm Bug #824589
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 320d4b6aa6f168da5ed66204628b08658369c040
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 21:48:32 2019 +0300

    Build libfreeciv-srv library when freeciv-manual or freeciv-ruleup enabled
    
    Server library was not built if both server executable and ruledit builds
    were disabled. Also freeciv-manual and freeciv-ruleup need it. When both
    server and ruledit were disabled, freeciv-ruleup build was failing and
    freeciv-manual build was implicitly disabled even if explicitly enabled.
    
    Reported by Máximo Castañeda
    
    See hrm Bug #822914
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46ad49a5363fed5ec2054f5c56e4234d720690f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 20:44:46 2019 +0300

    Travis CI: Install python3.7 instead of python3.5
    
    See hrm Feature #822907
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d567a724498ec1763168009c637d8b0759c2b367
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 22:02:37 2019 +0300

    Add unit type flag "NeverProtects"
    
    Requested by Lexxie L
    
    Patch by S.C. L. and myself
    
    See hrm Feature #809471
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d89a91194c7667675d57b5cbdd7c2e49ac2c371
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 03:50:18 2019 +0300

    Add initial version of README.scenarios
    
    See hrm Feature #822122
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1af48588ca2b91dce5b2b0c43845deaf95cf53b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 1 22:56:40 2019 +0300

    Rename "Mine TF" action enabler as "Plant"
    
    See hrm Feature #821916
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 247cc047aff1c9e8a8fe7ec7fd8c4b6636114889
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 20:44:26 2019 +0300

    Travis CI: Build gtk3.22-client
    
    See hrm Feature #822905
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d70503c8a10cdb67cb97cba59f370b0adb4767b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 20:43:20 2019 +0300

    Meson: Install individual nation rulesets
    
    See hrm Bug #822280
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 508296e673bfefa45625ee4d71e4f7ec4b7195c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 17:24:22 2019 +0300

    Add output_granularity ruleset setting
    
    See hrm Feature #822932
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9161cc2aa2a77446f1888a994a94b58901f88148
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 08:48:58 2019 +0300

    entry_str_set(): Free old entry only after allocating a new one
    
    This supports the case where the new entry is supposed to be
    copy of the old one. This is useful when replacing only some
    entries of the string vector, i.e., keeping some unchanged.
    
    See hrm Bug #824076
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee4d06a3c292ba6891a6b4c3ce4657b7a5ed6739
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 20:44:08 2019 +0300

    Travis CI: Update to use Bionic build environment
    
    See hrm Task #822903
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a351826c86ca703d6b26daf54cf14563cbc3d2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 19:20:30 2019 +0300

    Meson: Setup data paths
    
    See hrm Bug #821612
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 485728ee0c4a23233fe2ed41daa600ba113e8cc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 25 16:46:04 2019 +0300

    Stub: Make styles.ruleset file header template-like
    
    Replace file header comment in stub ruleset styles.ruleset file
    with a similar comment and template description as in other
    stub ruleset files.
    
    See hrm Bug #822938
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6664a22584714a912d76f3ea65accd4b42e4b3ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 03:02:03 2019 +0300

    Introduce player_can_place_extra()
    
    See hrm Feature #821957
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a80a13faa344bc197454443ab89a94f68d8382f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 04:03:03 2019 +0300

    gtk3: Use gtk_font_chooser_get|set_font()
    
    Replace gtk_font_button_get|set_font_name() calls with calls to
    gtk_font_chooser_get|set_font().
    
    See hrm Feature #821847
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 403d91b0a8e800286ad9b39a98311489d35f9ba5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 21:53:59 2019 +0300

    amplio2: Add extra_units.png|spec
    
    Art by XYZ, GriffonSpade, VladimirSlavik, and ngunjaca
    
    See hrm Feature #822790
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 081154d72a118475a3ac34a827ecfa53e0c6a03f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 18:58:10 2019 +0300

    INSTALL.meson: Document configure options
    
    See hrm Feature #822266
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bdc68c066faca0e8c4919f5318a77ed5118c906
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 17:16:35 2019 +0300

    default.lua: Do not use 'type' as a variable name
    
    'type' is a name of standard lua function. It should be treated
    like it was reserved word.
    
    Reported by nef
    
    See hrm Bug #822189
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f456d213f304615e20750a24c5cc4bb865f1c127
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 17:30:23 2019 +0300

    Comment typofix: remeber -> remember
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92ff326909b211246104f145471be0eea4d52d21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 16:47:28 2019 +0300

    Comment typofix: are -> or
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 865ad341605556a56abce534e051189e98d2df20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 26 08:07:35 2019 +0300

    rulesave: Fix erroneous newline breaking saved rulesets
    
    See hrm Bug #823431
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab5fa13d8682d7ac2f05a9ad0a87bb0de130cd82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 01:35:55 2019 +0300

    Add support for scenario specific luadata file
    
    See hrm Feature #822120
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ea7ae00d782a457014cf4e66d40c0667d195148
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 04:37:44 2019 +0300

    README: State that gtk+-3.24 is ok for gtk3.22-client
    
    See hrm Feature #821848
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7386df74306bb631a89d88ef2e4371920c7c11f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 27 17:00:30 2019 +0300

    Add concept of infrapoints
    
    In this initial version:
    - Added server setting infrapoints to control how many infrapoints
      players are granted in the beginning. Default is 0 to disable
      infrapoints feature. There's no other ways to get infrapoints.
      When they are gone, they are gone
    - gtk3.22-client is the only supported client. It has crude ui to
      place extras on tiles
    - Each player buildable extra costs 1 infrapoint to place
    
    See hrm Feature #821956
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6283e34c83ce6f166f090983f37193eceb8a8ac8
Author: Zeko <zeko@freecivweb.org>
Date:   Tue Jun 25 17:55:25 2019 +0300

    Correct off-by-one error in "land ahoy" achievement checker
    
    See hrm Bug #823174
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 646f4411a194b9bc5303b984067789e4cd3b0c04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 16 19:48:10 2019 +0300

    Show player culture value in info label
    
    See hrm Feature #821946
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a150f4f51f57cd272aab5d8c12b8aa2bf49acaed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 05:42:48 2019 +0300

    Document ruleset alt_dir support
    
    See hrm Feature #821831
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5f8cc645c38c9e0b4294cc2e66b0e1e77df4f89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 17:10:56 2019 +0300

    Add extra.units.png|spec for trident
    
    Art by XYZ, VladimirSlavik, ngunjaca, and danau
    
    See hrm Feature #823068
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 279bc26fdfd4ea5437aac8430a65b19b14e39ded
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:56:44 2019 +0300

    gtk3x: Replace gdk_window_...() calls with gdk_surface_...() calls
    
    See hrm Feature #822558
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3f95ea2050fa1b4a10d97cff3cb7d2f9a58f3dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:54:43 2019 +0300

    gtk3x: Avoid gtk_style_context_add_provider_for_screen() usage
    
    See hrm Feature #822557
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de4a8d65152effc1264b35327ef2952c2c20f189
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:52:31 2019 +0300

    gtk3x: Avoid gdk_window_set_cursor() usage
    
    See hrm Feature #822555
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 427f570d2d4e7a29901377d397a9a54b4b854542
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:46:59 2019 +0300

    gtk3x: Avoid gdk_cursor_new_from_pixbuf() usage
    
    See hrm Feature #822554
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f60de7974b3ea23721eca541fe9d2bdca36b71f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:44:14 2019 +0300

    gtk3x: Avoid gtk_widget_hide_on_delete() usage
    
    See hrm Feature #821834
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e72632552275bd39aec100ed4d95d96bdb6b9067
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:43:38 2019 +0300

    gtk3x: Replace GDK_WINDOW_TYPE_HINT_... with GDK_SURFACE_TYPE_HINT_...
    
    See hrm Feature #780506
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b6b2c08fe6ec2555050182e01e1f727bb85a38a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:42:56 2019 +0300

    gtk3x: Replace gtk_widget_get_window() calls with gtk_widget_get_surface()
    
    See hrm Feature #778154
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97fdae0b084f82e023779e007e961a0915a260a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:42:09 2019 +0300

    gtk3x: Replace GdkWindows with GdkSurfaces
    
    See hrm Feature #767466
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4c33c9f5b3fe59b861315d971034a8ff414902f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:40:50 2019 +0300

    gtk3x: Pass GdkTexture to gtk_window_set_icon() calls
    
    See hrm Feature #780505
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76f01c8e1a77e40dc2365d43834c883fd709c65a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:39:58 2019 +0300

    gtk3x: Drop extra parameters from gtk_button_new_from_icon_name() calls
    
    See hrm Feature #780503
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 750d3b9acf6a86f198ed27d9a84a6def234cea53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:39:24 2019 +0300

    gtk3x: Avoid deprecated gdk_cursor_new_for_display() calls
    
    See hrm Feature #777522
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ff468c0dc68ec572d74c80fb7aca3cf932b9c1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:38:44 2019 +0300

    gtk3x: Drop extra parameters from gtk_image_new_from_icon_name() calls
    
    See hrm Feature #777529
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b588e3216ae54005c0b1c8fc873db950ade7feb9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 23:10:29 2019 +0300

    Set gtk3x-client to use gtk+-3.94
    
    See hrm Feature #767471
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0019ca2835a342ccd3b6d4761272166c1ecf166a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 01:50:51 2019 +0300

    Meson: Install hexemplio
    
    See hrm Feature #821844
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1fa4245898c2ef5da5f7d4e12e5055583c95292
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 18:31:59 2019 +0300

    INSTALL.Cygwin: Document audio support building
    
    See hrm Feature #821798
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4288a9d1b6de4b63f5f1135f9c38960323fef28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 00:50:37 2019 +0300

    Add server settings for chance of losing inciting money
    
    Settings incite_gold_loss_chance and incite_gold_capt_chance added
    
    Patch by Gyubal Wahazar and myself
    
    See hrm Feature #797697
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e481111ef32febf0e993ed894a0fc18c7a83514
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 23:47:19 2019 +0300

    gtk3x: Disable gtk3-style drag&drop implementation
    
    gtk4 drag&drop is still not present in gtk+-3.94, but gtk3 one is already
    removed. Disabling drag&drop code from gtk3x-client allows us to compile
    against gtk+-3.94 while we wait for later gtk versions to support
    drag&drop again.
    
    See hrm Feature #820718
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bcb7105a5621f7692e1bbe8bbf482a4443d420e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 12 02:11:01 2019 +0300

    Add INSTALL.meson document
    
    See hrm Feature #821132
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de64c4ea3c38b6ea6a883886a4491c6573191acb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 25 20:11:21 2019 +0300

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c7887b8a42fde7152c143a38dcf4b99e2a6b9d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 09:00:41 2019 +0300

    civ1: Do not claim in Barracks help that they heal units
    
    Units in civ1 have no HP to heal.
    
    Reported by nef
    
    See hrm Bug #821646
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c97588fe2b62d06ea9d119c867e01d994d8b7c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 07:20:29 2019 +0300

    Revert feature to allow scenario to make client show an image and play sound
    
    Hopefully it will be reintroduced with a better implementation in the
    future.
    
    See hrm Feature #771485
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79497bc177b8c484c02403b0ea8bfd6b534bae95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 08:01:40 2019 +0300

    INSTALL: Remove ancient warning against using -O3
    
    See hrm Feature #821642
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bf388b6cfa264de7c29c6b69f44bb8afd35df08
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 04:58:11 2019 +0300

    Use place_starting_unit() to place nation specific start units
    
    This makes sure nation specific starting units are placed on a
    tile where they can exist, and any hut extras on the tile will
    get cleared.
    
    Reported by Jacob Nevins
    
    See hrm Bug #767129
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b2568c0f97d64c10180dae71028b49945322f02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 00:24:40 2019 +0300

    Add scenario option to inhibit loading of ruleset luadata.txt
    
    See hrm Feature #820980
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7daf947b8e6784ecb2fab9742ff6fe82130ebb5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 04:23:55 2019 +0300

    Meson: Install helpdata.txt
    
    See hrm Feature #820977
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba61db69fd88edc951c4138678e8de26c58f4379
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 13 17:18:43 2019 +0300

    Update included lua-5.4 to lua-5.4-alpha
    
    Upstream released lua-5.4-alpha-rc2 as lua-5.4-alpha.
    Nothing in upstream has changed. Only our own documentation
    about the version needed updating.
    
    See hrm Feature #821519
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1407b3675ca92ec13b0a953287988a0a22fd114
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 12 01:34:29 2019 +0300

    Show adversary culture in intel dialog
    
    Requested by Dean Brown
    
    See hrm Feature #781139
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2067ff76d346a19bd0d923eb25f0e3804b8a53b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 17:45:38 2019 +0300

    INSTALL.Cygwin: Add libsqlite3-devel to the list of packages to install
    
    See hrm Feature #821034
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bca8f10203953fbf10881f412d384856871eab3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 05:02:54 2019 +0300

    Sandbox: Add example parser.lua and related luadata.txt
    
    Data contains messages to display in the beginning of the specified turn
    number.
    
    See hrm Feature #732561
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f71433381f7c655cc0cfebb871d81b64d0d6d6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 00:14:05 2019 +0300

    Improve ruleset documentation of extra.buildable
    
    Requested by nef
    
    See hrm Feature #821817
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db57683956540b4c83eaf8cb1df79256c8beb23e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 01:09:29 2019 +0300

    Meson: Add configure option 'ack_experimental'
    
    User has to explicitly set the option to be able to build with meson.
    Otherwise it just prints an error message telling that autotools should
    be used for building freeciv.
    
    See hrm Feature #820964
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64e6b18226369c59c6b672988c0cea822a7e39fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 16:31:15 2019 +0300

    savegame3.c: Rename player.culture field as player.history
    
    See hrm Feature #821117
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dbd302c0892575102d4e435f2979bd1c53dbe23b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 03:33:31 2019 +0300

    gtk3.22/gtk3x: Avoid deprecated gtk_font_button_get|set_font_name()
    
    Replace gtk_font_button_get|set_font_name() calls with
    gtk_font_chooser_get|set_font() calls.
    
    See hrm Bug #821128
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84cf353806a212ed800df31048d8764a883ae529
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 00:21:56 2019 +0300

    Add DefenseMultiplierPct & DefenseDividerPct combat bonuses
    
    Requested by Lexxie L
    
    Patch by S.C. L.
    
    See hrm Feature #809470
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fafae400e1c504bedf03e74d4522b287d517df23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 04:18:45 2019 +0300

    Set all map-only scenarios ruleset_locked=FALSE
    
    Make them require "+std-terrains" ruleset capability.
    
    See hrm Feature #821962
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9be04e657b2d40715c2f400f419249e172cd8c8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 00:11:47 2019 +0300

    INSTALL.Cygwin: Add libicu-devel to the list of packages to install
    
    See hrm Feature #820729
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac0e2600084ae9e7606cd65e96d58b98a5816c3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 10 23:31:26 2019 +0300

    Meson: Make client build configurable
    
    See hrm Feature #820959
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bfeddb8de921b388ded19e554757cfd436eb7d7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 04:06:02 2019 +0300

    Define "std-terrains" ruleset capability
    
    - Drop never well-defined "minimumu-default-sets" capability from all rulesets
    - Document new "std-terrains" capability in doc/README.rulesets
    - Give "std-terrains" capability to all applicable rulesets
    
    See hrm Feature #821960
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5dcb3f443f97e5c0fbc001028f1496e5e12cea5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 10 20:57:06 2019 +0300

    Experimental: Set alt_dir as "goldkeep"
    
    See hrm Feature #820950
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72c08a14502fcd46b8616fb2192380cc70a89b03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 22:21:55 2019 +0300

    Send player culture info to players with embassy
    
    Requested by Dean Brown
    
    See hrm Feature #820730
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5479e860b000bda59caabd2c940482c0c949204
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 13 20:12:41 2019 +0300

    README.actions: Document "Capture Units" req that target cannot transport
    
    See hrm Bug #821573
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad5769b7ffa4717596a2ebf81632b2d84819ef53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 00:19:39 2019 +0300

    Make city happiness effects on civil war chance ruleset defined
    
    Requested by Zoltán Žarkov
    
    See hrm Feature #769075
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f4b7e14d54e4055447080ad5ef325e7394f55f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 10 18:53:46 2019 +0300

    Sandbox: Enable multiresearch
    
    See hrm Feature #820915
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9441a68cbdd72196f08a1e0e75f28d9adf504561
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 14:18:58 2019 +0300

    INSTALL: Drop Debian notes
    
    See hrm Feature #820742
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ce13d0194d95b591de5672fd1a57c04c5b562c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 03:17:18 2019 +0300

    Add ruleset alt_dir support
    
    The ruleset can define alt_dir for itself. That definition about
    current ruleset is saved to savegames (along the main rulesetdir definition).
    When the savegame is loaded and loading of the ruleset as defined by
    main rulesetdir definition fails, server tries to load ruleset from
    the alt_dir.
    
    Purpose of this is to provide a way, though slow - migration happens
    over a version boundary -, to rename ruleset directory. Older ruleset
    version, in the old path, has future path as alt_dir, so future version
    can load from that path.
    
    See hrm Feature #820924
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 093bd89a887f63be3af5b11952b5920b54e0ff9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 09:59:19 2019 +0300

    sandbox: Demonstrate "Coast" unit type flag
    
    Caravel needs supplies every third turn.
    
    See hrm Feature #732562
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec32381ba20ff275a08046272ac1b9dc12be1b01
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 22:20:53 2019 +0300

    Rename player.culture as player.history
    
    It contains only history, not full culture value. Confusing name has
    already produced issues. Everything remains ABI compatible.
    
    See hrm Bug #821112
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50155d66f552ea215adf97c6e04c42a10da7d4f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 04:31:54 2019 +0300

    README.msys2: Document default number of make jobs
    
    See hrm Feature #820727
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eafd85906d6d0bf77bf699f9610f3a49fda16a74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 09:23:51 2019 +0300

    Alio: Drop duplicate Burrow Tube sprites
    
    road.burrow tags are completely dropped as this branch
    is not yet in datafile format freeze.
    
    See hrm Bug #740865
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3367384d759cdf20bec0a183b034106c11e3154
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 04:24:22 2019 +0300

    Add meson.build to release tarball
    
    See hrm Feature #820726
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd47d78b4d638dcfc1e56981c613f57150faa33e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 12 01:14:30 2019 +0300

    Editor: Remove possibility to set game start year
    
    In most cases it wouldn't be respected, and it breaks ruleset driven
    calendars when it is.
    
    Reported by Jacob Nevins
    
    See hrm Bug #767130
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d06e8cb537f27c9f4f6ce79bf24f037489ac9a08
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 02:11:44 2019 +0300

    gtk3x modpack installer: Set GLIB_VERSION_MIN_REQUIRED to 2_60
    
    See hrm Bug #820719
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be09da651af47d85fd95ffbcbf366017417d6783
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 12:08:30 2019 +0300

    Meson: Switch to lua-5.4
    
    See hrm Feature #820586
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10a427cc6b170888b2086cda910e2eb758d152ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 19:43:56 2019 +0300

    INSTALL.Cygwin: Add Qt-client build instructions
    
    See hrm Feature #820664
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b022a43ee963b5610c49e6ad575cbfcfa48cbc2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 22:16:32 2019 +0300

    gtk3x: Disable drawing of mapview overlays
    
    Temporary solution to make gtk3x-client to compile with
    gtk+ development snapshot gtk+-3.94.
    
    See hrm Feature #820703
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e266126ba10bb7ca3c9c3b63dbe60564c0347be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 18:18:33 2019 +0300

    Support moc-command named 'moc-qt5'
    
    Cygwin has moc named as 'moc-qt5'
    
    See hrm Bug #820604
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a44b73ae9c03c4066553cdb0e9ae748f473c7a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 03:09:55 2019 +0300

    Move instances of '&&' or '||' still in the end of line to next line
    
    See hrm Feature #820479
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b5e5d855369825b8db2c39d635286e9cdacdd46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 04:17:40 2019 +0300

    Update help_nodes_init code comment
    
    - Correct variable name; helpnodes_init -> help_nodes_init
    - Correct reference to boolean value; 0 -> FALSE
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25df840a7f94b66600ad2a19d242406ad008f6f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 01:10:05 2019 +0300

    Update included lua-5.4 to version rc2
    
    See hrm Feature #820476
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c05768fb6db4a42cf2ba09e882e2e5212cd302af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 5 03:31:00 2019 +0300

    Update INSTALL.Cygwin
    
    - Instruct build of gtk3.22-client instead of gtk3-client
    - Minor updates, corrections, and clarifications
    
    See hrm Feature #819966
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85297f42b4d229bc525fa86b00938affc4bcc3a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 17:39:03 2019 +0300

    Meson: Build gtk3.22-client
    
    See hrm Feature #819705
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25857727a77b5a1bd2161641f7d522aec842ee60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 4 01:01:17 2019 +0300

    README.msys2: Correct upstream snapshot version to download
    
    See hrm Bug #819779
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e1a25c513dcbb0c694df371b14e786b52c610b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 01:23:50 2019 +0300

    Take lua-5.4 to use
    
    See hrm Feature #743677
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d95a3c10eba1946db50eb83a7e429c51b979acaf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 4 00:51:44 2019 +0300

    INSTALL: Update Windows notes
    
    See hrm Feature #819778
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b843139ebbe1189d7efa82447fe076aacc02db4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 4 02:22:49 2019 +0300

    sdl2: Popup full government dialog when about to start revolution
    
    Removed separate revolution dialog completely. Now we popup the
    government dialog that used to popup in the end of the revolution
    in the beginning of the revolution.
    With some server settings target government must be known from
    the beginning of the revolution, and so server was rejecting
    any attempts of revolution from sdl2-client that did not provide
    that information.
    
    Reported by Louis Moureaux
    
    See hrm Bug #794114
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c171b909c9b8a79dec08f927c9352a96e3a88491
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 00:51:48 2019 +0300

    Add copy of lua-5.4-alpha-rc1 to git
    
    See hrm Feature #819534
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cb1dc301cc066b006b85ccadd405fbd77f15f22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 04:36:46 2019 +0300

    gtk3x-client.m4: Correct comments about source directory
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0218534a6792ad6552230fbfb2b61f7a17c29ff4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 16:54:14 2019 +0300

    Improve coding style of do_map_click()
    
    See hrm Feature #819696
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 576d7c9684e3f9716104c6a5be9614825d95ee0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 01:19:49 2019 +0300

    luascript.c: Update LUASCRIPT_SECURE_LUA_VERSION for lua-5.4
    
    See hrm Feature #819535
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9926449e299a868135c10803b211c3ed41f33690
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 23:54:59 2019 +0300

    Improve coding style of is_*_unit_tile() functions
    
    See hrm Feature #819532
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c10120900dd3bdf267e56a6566464a3675287e4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 01:48:52 2019 +0300

    Correct lua-5.3 freeciv_lua.patch
    
    See hrm Bug #819537
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e6ff67022234d4107be570630502d7538338dbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 23:01:27 2019 +0300

    Improve coding style of is_*_city_tile() functions
    
    See hrm Feature #819530
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3504cb0c09e55325a12a7c74612a4294a7027690
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 03:12:07 2019 +0300

    gtk3x: Avoid gtk_icon_size_lookup() usage
    
    See hrm Feature #819470
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb89a3f1d44d8cc3b85055c7b3147e46309da387
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 19:34:56 2019 +0300

    Add space between ")" and following "{" where ever it was missing
    
    See hrm Feature #819488
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b9f4684bc9215fdec6313bbd57b0b8db89fa0aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 1 03:12:26 2019 +0300

    Correct ruler title documentation in government.rulesets
    
    They were documenting nation specific ruler_titles as if those
    were part of governments.ruleset, and failed to document default
    titles that are part of governments.ruleset
    
    See hrm Bug #741552
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2fa41a200d72a173a869867bbadefaeaa4dce44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 10:50:13 2019 +0300

    Add space between "else" and following "{" where ever it's missing
    
    See hrm Bug #819487
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2a2dc98f4a6f2c5d1877ebd65d9b4a812bb4d7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 01:35:12 2019 +0300

    Ship myanmar_old flag. Use it as alt flag for burmese
    
    Requested by Jacob Nevins
    
    See hrm Bug #678456
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c3bcb49be917abb86d8e9c304be9a33acd22325
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 10:40:46 2019 +0300

    Add space between "switch" and "(" in headers, generated files
    
    See hrm Feature #818955
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6b597f607f6c157a4a147e6d7b4c609df545f93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 31 00:25:56 2019 +0300

    Meson: Install documents
    
    See hrm Feature #819097
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfecfb7da443eb2ad1967fa3c03008ff6d8a8b6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 15:47:36 2019 +0300

    Move FC_MULTIARCH_TUPLE to new multiarch.m4
    
    See hrm Feature #819049
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05d3dded2e3964074107ce1cbe492c14669668eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 02:38:11 2019 +0300

    Disallow capturing occupied transports
    
    Reported by Gyubal Wahazar
    
    See hrm Bug #772516
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7df43bbbc733692b06b070575ed45b5f59da027d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 12:36:18 2019 +0300

    Replace remaining occurrences of "while (0)" with "while (FALSE)"
    
    See hrm Feature #819040
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76fa7722613d1558869310bb209f188ec5add51e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 23:02:18 2019 +0300

    Comment typofix: "elsethere" -> "elsewhere"
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3829d92a986ffc6b6ebf82225cf28bf6c646cc1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 02:08:13 2019 +0300

    Make event cache settings SSET_META instead of SSET_RULES_FLEXIBLE
    
    See hrm Bug #778665
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20b001ec5675722f0f4839d4d971dc98f4526d6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 29 23:26:46 2019 +0300

    Add space between "switch" and "(" where ever it's still missing.
    
    See hrm Feature #818955
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit da6a87e9636e20a284b00ea04450b6d0cc792f1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 31 01:23:16 2019 +0300

    Travis CI: Build in separate builddir
    
    See hrm Feature #819099
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdec31270efe8ff395e2aa898f4e5a0501aff026
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 00:45:35 2019 +0300

    Update stdlib_h.m4 to serial 48
    
    See hrm Feature #818968
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e88b78328c7602c72cb3a27749e4ab0846eaf52f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 29 20:17:42 2019 +0300

    Qt-client mapview.cpp: "if(" -> "if ("
    
    See hrm Bug #818937
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e84650ddfa5fb6c7769fbfa0a4f14833041f756
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 00:43:51 2019 +0300

    Update mkstemp.m4 to serial 26
    
    See hrm Feature #818967
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83a04a31dc99e318eb57e196c8563ba16bd7838e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 29 20:02:33 2019 +0300

    Improve city_improvement_upkeep() coding style
    
    See hrm Feature #818935
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a09ac5a0edf15b11013875fe3362aefe0599aa3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 24 06:13:47 2019 +0300

    Update msys2 environment to 190523 level
    
    See hrm Task #817963
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53cad9b92b5efcf78ecd53f66a085e92e483e142
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 23 13:53:27 2019 +0300

    README.nations: List flags-large.spec and shields-large.spec in flag doc
    
    Reported by publo
    
    See hrm Bug #817952
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ff2bcc71eaf5815a556ed6e79a650407e0c591f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 20 18:00:05 2019 +0300

    Update translations/*/Makefile.in.in to gettext-0.20 level
    
    See hrm Bug #817521
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b628e0f657ae89bb69d4af72cec2e2911139c003
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 19 01:27:32 2019 +0300

    Update gettext bootstrap files to gettext-0.20.1 level
    
    See hrm Feature #817414
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 525bd768fbf5a216a397c1f513e5214a4c62242b
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri May 17 11:13:43 2019 +0200

    Updated French translations

commit 63ebcf394b5fa048c7ebbf39ac64ff448be8c150
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 13 18:08:22 2019 +0300

    Update gtk3x modpack installer to use gtk-3.96
    
    See hrm Feature #816623
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f8ef309e945f6ea672e9928af0d762ab0118832
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 11 04:23:15 2019 +0300

    Fix server crash when ruleset does not define tech_req for a unit
    
    Reported by Corbeau
    
    See hrm Bug #816374
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35dabcd3937cf6e7f8e2989cc999cfaee14e49f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 4 08:06:34 2019 +0300

    gtk3x: Replace 'gtk+' by 'gtk'
    
    gtk-4.0 will not have '+' in its name.
    
    See hrm Feature #811005
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bc5b56d481db96a216e63545727c209507cffc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 4 06:51:04 2019 +0300

    installer_cross: Improve build error detection and handling
    
    See hrm Feature #811004
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42f85b9f2d566270e005861b6a3e0b8a370c8c73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 3 16:49:12 2019 +0300

    winbuild.sh: Clear install directory before new build
    
    See hrm Bug #810308
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10e66197b616ebd07488b2579583b9303b61a238
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 3 07:14:35 2019 +0300

    Tex: Fix build with clang
    
    See hrm Bug #810735
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff5d3fbdeed39410aab4c4f31e2982c22930c2f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 04:28:41 2019 +0200

    Update to crosser-1.7
    
    See hrm Feature #804423
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4ead300889ee114d355db9bdbe8669ebc6ddddd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 9 12:06:22 2019 +0200

    Bump .spec -file capability string
    
    See hrm Feature #804954
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51188a643b738332a9000620ed5ae654f4a809da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 02:45:43 2019 +0200

    Europe 1900 WWI: Use tex AI for all players
    
    See hrm Feature #803040
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ac88fe0325012026e8c4a118012a9d947089c20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 28 07:24:09 2019 +0200

    Meson: Install most rulesets
    
    Refactor civ2civ3 installation to be more dynamic, and use that model
    to install also classic, multiplayer, sandbox, alien, civ1, civ2.
    
    See hrm Feature #804976
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac1988e707b25759e674a864e08e39636e2bfa18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 08:22:28 2019 +0200

    Notify player when requested multiplier value takes effect
    
    See hrm Feature #804352
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04259dac034d83174393b162d008ff3ccb0ec54f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 26 00:59:07 2019 +0200

    Rename 'veteran_raise_chance' as 'veteran_base_raise_chance'
    
    See hrm Feature #804515
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37e578d4330fd2eb50cbfa14ed14ca3ab5665425
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 04:51:00 2019 +0200

    Meson: Install libfreeciv
    
    See hrm Feature #804716
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1e8de43b75e6bc2a6170a439ade3727edb2295e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 28 20:24:32 2019 +0200

    sandbox: Replace deprecated give_technology() with give_tech()
    
    See hrm Bug #804996
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c56fa447f8a660de53dec6c22c3a5efd2cfdacd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 15:13:59 2019 +0200

    tex/threaded AI: Do not run dai_do_first_activities() on restart phase
    
    See hrm Bug #804448
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c356dd07c428025a55b9771e9b803c4aa0343687
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 07:08:13 2019 +0200

    Replace magic number of turns war mood lasts with a macro
    
    See hrm Feature #804721
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5dc3dd9fe79366ea74c115c683cec3992ec8b11
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 04:09:48 2019 +0200

    Meson: Install civ2civ3 ruleset
    
    See hrm Feature #804715
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 997cd0b0fcd5503c28058caa0a8bbc52047f7b56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 26 01:33:13 2019 +0200

    Update documentation about follow tag update
    
    See hrm Feature #767041
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a61672c8c41607696ace5e52be7f1ee29d396f31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 28 05:41:20 2019 +0200

    Notify player when multiplier restored to default value
    
    See hrm Feature #778819
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6cf11b204ea42c23a352aa7ba67ff4089e4ae09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 13:53:01 2019 +0200

    Call city_created, city_got AI callbacks for cities loaded from savegame
    
    See hrm Bug #804440
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98b43edcba7fa1a0b68d3c3881412fffe8e8e938
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 07:04:52 2019 +0200

    Meson: Make executables installable
    
    See hrm Feature #804393
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5eb6246ee36f590e674ec9f374402e3e05afa62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 11:53:41 2019 +0200

    version_gen.h: Define VERSION_LABEL, VERSION_STRING only if not already defined
    
    See hrm Bug #804417
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89e3f607d54619a7d9035a460486c5e3a17a22e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 07:52:39 2019 +0200

    Call unit_created, unit_got AI callbacks for units loaded from savegame
    
    See hrm Bug #804394
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0128822245cca2be28e37a238685abf2515bd93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 03:55:06 2019 +0200

    Meson: Rename libfc_toolutil as fc_toolutil
    
    See hrm Feature #804381
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 800b9ec878f7fcda99673132a7d80840841079d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 28 02:21:27 2019 +0200

    sdl2/themespec.c: Correct comment about accepted capabilities
    
    Neither themespec capability string nor individual spec file capability
    string documentation had been updated from their sdl-client format
    to sdl2-client format. They had wrong format and referred to version
    2.3 instead of current 2.6.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d5756a0f0306bbdf342642648705716f6dcbe33
Author: James Wilson <jwilsoncalderdale@gmail.com>
Date:   Mon Feb 25 02:44:05 2019 +0200

    Display messages when bombarding units or being bombarded
    
    See hrm Feature #734377
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ead513ad1f80c01b20ea97a46ec50192fe5d628
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 05:07:02 2019 +0200

    Move savegame loading code to new subdirectory server/savegame/
    
    Also rename savegame.[ch] as savemain.[ch]
    
    See hrm Feature #804383
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc3af2dc7071da1b4e3ccf874c8ba8430438a3d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 23:35:03 2019 +0200

    Tex: Ignore messages about cities that are not placed on tex map yet
    
    See hrm Bug #803041
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92636f45951268b840abad1487b719f2a2963481
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 06:24:41 2019 +0200

    ruleset.h: Correct comment about accepted capabilities
    
    - Capstring for 3.0 was given instead of 3.1 one
    - For the development capstr, tilespec string was given instead
      of ruleset one
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8e8fc7bf8db1318e8adf5cd10ad957573d35185
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 02:43:01 2019 +0200

    Add nuke_pop_loss and nuke_defender_survival_chance_pct ruleset settings
    
    Patch by 0xandr 0xandr
    
    See hrm Feature #801780
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80ee832d4738b9cc035f890857c90e7661ee9949
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 05:28:14 2019 +0200

    Travis CI: Make dist
    
    See hrm Feature #778378
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0a7d2547188f8380e9dd9bef1b4a76ba669dd43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 03:52:00 2019 +0200

    Meson: Generate macros for public headers to fc_config.h
    
    Generate HAVE_xxx_H macros to fc_config.h for headers that
    already have FREECIV_HAVE_xxx_H macros in freeciv_config.h
    
    See hrm Bug #804380
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40202dc35116837149e11765423074acddca0487
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 01:50:36 2019 +0200

    Update helpdata.txt
    
    Includes a couple bits of UI info that were lacking.
    
    1 zooming/scaling the map graphics with the + and - keys.
    2 in the diplomatic dialog, you can remove an item from the list by
    double-clicking on it.
    
    Update by Dean ddeanbrown@comcast.net
    
    See hrm Feature #804379
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0571b6710ded83a6d7e1c3fa3e54a6a78f95d5d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 05:50:38 2019 +0200

    Add only_killing_makes_veteran ruleset setting
    
    Requested by Ignatus
    
    See hrm Feature #804292
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c01466cd128b6d2a8671effcf07f4bc08742472
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 06:12:46 2019 +0200

    Improve documentation about Age requirement range
    
    Requested by Akechi
    
    See hrm Bug #769391
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98668a77579bcff3925a29b695cd5d1a4f8465fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 23 14:48:56 2019 +0200

    Tex: Ignore messages about units that are not placed on tex map yet
    
    See hrm Bug #803038
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19bbacb84bae46daf4e45f30c87f8b8bb5807178
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 04:33:32 2019 +0200

    Update .gitignore files to reflect rearranged fcmp files
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27ddbdc54d9a97db6de203e71b4ad93a011a7bbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 01:46:17 2019 +0200

    Updated Spanish translation by Jordi Negrevernis i Font.
    
    msgmerged from S2_6 d0c3a485bc
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b152f5b023d47021fcccade60628634bf8a4c68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 18:41:24 2019 +0200

    Update Finnish translation
    
    By Sini Ruohomaa
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce5fee2b3a53c2b77b7e8972d31bfd818643b391
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 07:27:19 2019 +0200

    Comment typofix: generate_specnum.py -> generate_specenum.py
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a98ea17d52e400ef79a9388d0277884961add6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 22 00:30:27 2019 +0200

    Meson: Build tex AI
    
    See hrm Feature #804132
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c712106e1e2b6ee7533ea7cceeac54bb11d5093
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 21 23:50:45 2019 +0200

    Sandbox: Reduce veteran raise chances
    
    As number of combat rounds has been limited, and not every battle is to death,
    average number of battles unit partakes during its lifetime has increased.
    To balance that, reduce veteran raise chance from a single battle.
    
    See hrm Feature #804128
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25c14374c956c83608dae7905aea610125b158dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 19 02:59:39 2019 +0200

    Meson: Rename libfc_server as fc_server
    
    This avoids duplicate 'lib' in the name of the produced library file.
    
    See hrm Feature #803577
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7eb16d48f59e8293a8fe7b602c485eec892d05c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 22:49:48 2019 +0200

    civ1: Prevent Railroads on city center tiles
    
    Reported by nef
    
    See hrm Feature #803249
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 724387a9dabbd5cf8bdf990d7ab6f992e46562a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 19 09:29:14 2019 +0200

    Travis CI: Build stub AI
    
    See hrm Feature #803598
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdf4ec4c42f5c04e65640f87502ce0dd48c366c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 12:52:24 2019 +0200

    Tex: Add existing cities/units to tex map when thread starts
    
    See hrm Bug #803217
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73180a93b6a73b08fcf16132227e789e4de54cee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 18 20:00:48 2019 +0200

    version_gen.h: Do not redefine FOLLOWTAG if it's already defined
    
    It's defined in fc_config.h on autotools based builds. Meson
    based builds need it in version_gen.h.
    
    See hrm Bug #803544
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f3cfa57d5d8e21dd33c8467a62bbd435af87347
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 17:38:50 2019 +0200

    Update msys2 environment to 190214 level
    
    See hrm Task #801982
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ca66c7863a9f5847eae4d5b432d458030d721ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 16 19:00:11 2019 +0200

    Ruleset update: Do not add action enablers if reqs would contradict
    
    If generated reqs for a new action enabler contradict, consider it
    to mean that it should never be enabled, i.e., not even exist.
    Old code dropped contradicting requirement, resulting in action
    getting enabled when it should have not.
    
    See hrm Bug #782316
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f11eaa3839cb8dc13b306266ddd95ca99383cb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 15:51:53 2019 +0200

    Tex: Update references to 'threxpr' to read 'tex'
    
    See hrm Feature #803221
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e47b87f96aabfd8de2d7d40d75eb513425d735c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 01:33:06 2019 +0200

    Europe 1900 WWI: Replace threaded AI savegame keys with tex AI keys
    
    See hrm Feature #803015
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c1db4f635d6fe590875d65185dfd9d8de6c45f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 16 13:50:29 2019 +0200

    Tex: Update unit type on tex map
    
    - Add unit_info callback to AI interface
    - Call unit_info when unit transformed to another type
    - In tex AI implementation of unit_info update unit type on
      tex AI map
    
    See hrm Feature #803003
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0eb09baafc0d9a002ddd0263850f5c658f07bf3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 16 01:18:10 2019 +0200

    Enable tex AI by default instead of threaded
    
    See hrm Feature #802868
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a172cb6208b7bd11b55ea6d662226bd5eb2bd71
Author: Zeko <zeko@freecivweb.org>
Date:   Sat Feb 16 02:56:17 2019 +0200

    Refactor fcdb login flow to allow better authentication methods
    
    See hrm #802523
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fc005d40182c7eccfd03ea6546ab484784e671d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 15 04:24:08 2019 +0200

    Ruleset doc: Mark calendar fragment names for translation in examples
    
    See hrm Feature #802774
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3bb0c0bc1d732161e374cf9959961347d5529559
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 15 02:33:11 2019 +0200

    Make '-j2' the default MAKE_PARAMS for msys2 builds.
    
    See hrm Feature #802771
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52426e58bbd0b7f2786f07300f994747e158d737
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 15 00:20:46 2019 +0200

    Travis CI: Enable mysql database backend
    
    See hrm Feature #802361
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e8f150c85688b46c4ccb0c5550add6a9ce5ab3aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 12 18:30:11 2019 +0200

    Combine NETWORK_CAPSTRING_MANDATORY and NETWORK_CAPSTRING_OPTIONAL
    
    They were originally split for ggz support, but as we no longer
    support ggz there's no need to keep them separate.
    
    See hrm Feature #780295
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00e92a4bc712aa7f609806005ea8525af8d8c773
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 11 23:20:24 2019 +0200

    Scripting API: Add hut_frighten signal
    
    Use lua callbacks to construct user visible frighten messages instead
    of having single message hardcoded to the engine.
    Also add extra name parameter to hut_enter signal.
    
    Patch by Alexandro Ignatiev
    
    See hrm Bug #780730
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 213d7d748964da18f00695dcbbc5bb625aa289f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 13 00:10:20 2019 +0200

    Move fcmp files from tools/ to a new subdirectory tools/fcmp/
    
    See hrm Feature #802356
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75aa0d24ce5e71ea94010b9636e14dc6d14dcb44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 12 02:08:26 2019 +0200

    Show whether tech has been stolen from the city in city dialog
    
    Gtk- and Qt-clients supported. Information is shown both to city owner
    and diplomat investigating the city. Investigating diplomat gets overall
    information, it doesn't matter who did the stealing.
    
    See hrm Feature #657146
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb291ba7345791c907de10980e0889e022c06ce6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 12 03:03:31 2019 +0200

    Do not allow execution of 'lua unsafe' from a read serv file
    
    Requested by Jacob Nevins
    
    See hrm Bug #693065
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75d8823f53d879c4c69a41556db12d983fc7ca29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 11 01:51:04 2019 +0200

    Tex: Update city owner on tex map
    
    - Add city_info callback to AI interface
    - Call city_info when city changes owner
    - In tex AI implementation of city_info update city owner on
      tex AI map
    
    See hrm Feature #801821
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85b5185fd56ae75e896ba0f768653cf10238c07b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 10 22:09:18 2019 +0200

    Tell tech steal defender if tech was already stolen from the city
    
    See hrm Feature #801810
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b6c001e692d052f8003bf51232686d3e1f37006
Author: Zeko <zeko@freecivweb.org>
Date:   Sun Feb 10 11:56:30 2019 +0200

    Add ODBC support to FCDB
    
    See hrm feature #769096
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2d161b14d8b4c8fcce715df46d29a8f050ffeed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 10 01:30:56 2019 +0200

    Do not reduce borders or vision on destruction of base on virtual tile
    
    When changes to a virtual tile cause extra on it to get destroyed,
    do not change real player vision counts or borders. Virtual tiles
    are most often used by autosettlers when they consider what to do next.
    Such calculations of just considering a change were incorrectly
    reducing player vision and borders.
    
    Effect on player vision was reported by Lexxie L and Máximo Castañeda
    
    See hrm Bug #797698
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75a9a77859f4fd778b27997b5ea89a67d8206c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 12 07:39:43 2019 +0200

    Travis CI: Replace python3.4 by python3.5
    
    See hrm Feature #801791
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2426f0d23777b8d91587e5eeb7d35f39faff940a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 10 15:23:58 2019 +0200

    Travis CI: Use Xenial environment
    
    See hrm Feature #801791
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93f1ff023670b2dd25c9b86117ebc1ae8675b9d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 10 00:20:15 2019 +0200

    Update md5.c to match upstream revision 1.15
    
    Also update comment about freeciv specific changes for a part
    for which the code change had already been implemented before.
    
    See hrm Feature #801777
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f12cd431e8528d399b34f25f3ab742704a034004
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 11 19:30:37 2019 +0200

    Update path to default units.ruleset in a code comment
    
    Replace 'default' in ruleset path with 'classic'
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4966d3db00c3842eb7251880e9a0522db6dfbbea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 9 22:27:41 2019 +0200

    Update included luasql files to luasql-2.4.0 level.
    
    See hrm Feature #801775
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc951e51fb4284b86cd5459573c4e16c904dbfe4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 9 16:20:03 2019 +0200

    Fix gcc9 compiler warnings
    
    See hrm Bug #801655
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 570c84ca2866bc15db7512189415f3ac5eba6be5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 9 14:27:01 2019 +0200

    Drop duplicate setting of mapimg layer indicator character in client
    
    See hrm Bug #801661
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 526c53323e1dec332f359126f4cd4274f96ded0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 11 00:03:16 2019 +0200

    Fix comment typo: "endrturn" -> "endturn"
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c955ac8fa21742c3f5624cff83edddf34bd4f025
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 7 19:00:56 2019 +0200

    Document [tileset], [soundset], and [musicset] preferred game.ruleset entries
    
    See hrm Bug #785647
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf9216e3024e4e11d8c96a0f8253e4eda0da27e6
Author: Zeko <zeko@freecivweb.org>
Date:   Wed Feb 6 13:55:51 2019 +0200

    Add a multiplier option for spaceship travel time
    
    See hrm #800950
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2315e8910f099a239ed24b4e4a7e5fc154cf6d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 4 14:55:39 2019 +0200

    Do not try to print NULL unit state property for %s
    
    See hrm Bug #800852
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05c0e76ce1dc593cd69b8815d73c1fb1c119ff2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 4 00:11:58 2019 +0200

    Do not try to print NULL terrain property for %s
    
    See hrm Bug #800781
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b487f15267107f04c7fca77a6e091da2b8cafc4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 23 10:27:22 2019 +0200

    Do not try to print NULL soundfile for %s
    
    See hrm Bug #799291
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2824549d00cf294810fbd44e449cb7c35481024c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 29 16:02:16 2018 +0100

    Centralize char2num() in savecompat.
    
    See hrm Feature #797699

commit 085354a262eed035d0dc5e188927d6301da99943
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 6 09:40:43 2018 +0100

    Survives split the action "Attack".
    
    Stop relying on the "Missile" unit class flag to decide if performing the
    action "Attack" consumes the actor unit. Split "Attack" in "Suicide Attack"
    and "Attack". The new action will always consume the actor unit. "Attack" has
    a chance of actor survival.
    
    The Missile unit class flag is still hard coded: "Suicide Attack" units
    must have it, "Attack" units can't have it. The goal is to remove this
    restriction and to unhardcode the Missile unit class flag.
    
    See hrm Feature #783336

commit 72b852b3be7540513e69de876bb8c33c88215cc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 10 13:30:00 2018 +0200

    INSTALL: Document building sound support
    
    See hrm Feature #785520
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a55f0a183f46a96dc3404678afd9bdf1ee0afad3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 13 12:45:58 2018 +0100

    ruleup: handle non existing comment headers.
    
    A comments.txt that is missing certain comment headers could end up getting
    loaded, for example when setting FREECIV_DATA_PATH to an older version of
    Freeciv in order to upgrade a ruleset that lives there to 3.1.
    
    Survive a missing comment header. This fixes a crash that happened when 3.1
    ruleup was loaded with a dataddir from 3.0.
    
    See hrm Bug #786092

commit 81cdb9ef1f7827abc18a608293e28746bac0bfd9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 10:03:29 2018 +0200

    Easy to run freeciv-ruleup from the build dir.
    
    Introduce a new script, fcruleup, that makes it easy to run freeciv-ruleup
    from the build directory. It works like fcser, fcgui and fcruledit.
    
    Doesn't add storage/datasubdir to an unset FREECIV_DATA_PATH since, as Marko
    Lindqvist pointed out, the user (almost?) never wants to upgrade a ruleset
    from there, but with it included in the path may accidentally load an already
    compatible ruleset from there instead of the ruleset that user meant to
    upgrade.
    
    See hrm Feature #785461

commit b098ab7bcd1354c86a585fffa2de70abcb0d12f3
Author: Chadwick McHenry <mchenryc@gmail.com>
Date:   Fri Nov 9 23:20:39 2018 -0500

    Fix divide by zero error in mapimg
    
    Use player_count() instead of player_slot_count() so player colors
    are sized meaningfully. Ensure no division error, or negative
    offset is used.
    
    See hrm Bug #707912

commit f3fad42b2d86b033b5ed0b82250732cc4829cb6e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 9 20:44:27 2018 +0100

    Utility function to replace universal in req vec.
    
    Intrduce universal_replace_in_req_vec(), a function that replaces all
    instances of a universal in a requirement vector with another universal.
    
    See hrm Feature #785466

commit 3705fe0695c02942f3eac6acbeeff967e47e1d9a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 8 19:33:55 2018 +0100

    Common universal is in requirement(s) checks.
    
    Add universal_is_mentioned_by_requirement(), an utility to check if a
    universal is directly mentioned in a requirement and
    universal_is_mentioned_by_requirements(), an utility that does the same for
    requirement vectors. Utilities to check if a universal fulfills a requirement
    (vector) already exists.
    
    Replace ruledit's universal_in_req_vec().
    
    See hrm Feature #785450

commit c154ecffa93c2c6955d05636ae02b4fcfa6d8dda
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 10 00:02:50 2018 +0200

    Consider extras with cause "Hut" enterable
    
    Whether extra was considered enterable was erroneously deducted
    from its UI category.
    
    Reported by Alexandro Ignatiev
    
    See hrm Bug #782719
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f9a03cff95adf78fcab7b0277765729e9397653
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 8 15:31:18 2018 +0100

    Auto help: document OneAttack under "Attack".
    
    The OneAttack unit type flag is only used for regular attacks. Document it
    under the "Attack" action̈́'s details.
    
    See hrm Bug #785262

commit 5965428f6155f6587a004ca352f342ae077acd42
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 8 14:56:59 2018 +0100

    Veterans with nukes are still stronger in combat.
    
    A unit capable of performing "Attack" may become a veteran through performing
    it even if the ruleset permits it to also do "Explode Nuclear". This is a
    consequence of "Explode Nuclear" and "Attack" becoming action enabler
    controlled.
    
    Update the test before writing the increased strength in combat help text to
    include all units capable of performing "Attack".
    
    See hrm Bug #785242

commit 6d18ac855f7ea6b9190a34b3c1a256ce4a436f38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 20:48:49 2018 +0200

    meson: Build freeciv-manual
    
    See hrm Feature #782721
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee3c012a9749f1eb26dfeefc5f10fa23d1b93a7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 18:42:49 2018 +0200

    ruleup: Add support for --Fatal commandline parameter
    
    See hrm Feature #781129
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de049f64abba7341c34f7305231b0b20f7346fe7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 19:00:04 2018 +0200

    meson: Build freeciv-ruleup
    
    See hrm Feature #782714
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e017c68c8cfd61ef1c5fea95ace8eae0f167364c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 26 07:34:25 2018 +0300

    meson: Build client common code to a static library
    
    See hrm Feature #782106
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f5287b6661bf5c5b999f077c39e40ae39da0086
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 1 08:17:26 2018 +0100

    Replace the last Missile unit class flag check...
    
    ...outside of utype_is_consumed_by_action() with a check if the unit is
    consumed by the "Attack" action.
    
    See hrm Feature #783395

commit 8f71c53103ac45b992bffe0a85c8d405da6e286d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 16:40:25 2018 +0200

    autotools: Generate version_gen.h for network capstr
    
    - Generate version_gen.h also in autotools based builds
    - Drop network capstr from fc_config.h
    - Use capstr from version_gen.h
    
    See hrm Feature #780298
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2e2bf57fc7f1afa89de342b15d596c077689254
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 21:44:36 2018 +0200

    meson: Fix generating of packhand_gen.h
    
    See hrm Bug #782738
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c780c2cf300e74d1b3d58b94d14d972118a2815
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 16:32:55 2018 +0200

    Update msys2 environment to 181027 level
    
    Arch specific meson packages added to the environment.
    
    See hrm Task #767991
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be394d4f256078a09c8c01ffc23049e56adf0c90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 17 07:46:54 2018 +0300

    meson: Build classic AI
    
    Link it to the server.
    
    See hrm Feature #780183
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 667a31919022bb33d19db4ce0dea309cb319cf35
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Oct 29 08:41:52 2018 +0100

    AI: check consumed by "Attack".
    
    Replace Missile unit class flag checks in AI and advisor code with checks if
    the unit is consumed by the "Attack" action.
    
    See hrm Feature #782841

commit 69a753aae0025c47c8bb053e39024e9051b04629
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 28 23:36:20 2018 +0200

    Explicitly disable sys-lua in msys2 based installer builds
    
    See hrm Feature #782386
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afdb1a1ce7d5fe073a00ea71451e0427e2307b9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 27 14:15:36 2018 +0300

    meson: Detect headers configure time
    
    See hrm Feature #782311
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8eccf3e6df621662ceea975d2ffea6221483f371
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Oct 22 13:00:07 2018 +0200

    Some actions needs an extra sub target.
    
    Validate that required extra targets are there when performing an action and
    when loading a savegame containing an order that needs an extra sub target.
    
    See hrm Feature #782589

commit d1b3a633c25988df0ff5a843fe28fc6186eafa24
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 4 17:04:38 2017 +0200

    Path finding: check consumed by "Attack".
    
    The path finding code doesn't have to worry about returning a unit that
    doesn't survive an attack. It therefore checks if a unit has the Missile unit
    class flag. Check if the unit is consumed by the "Attack" action in stead.
    
    See hrm Feature #782581

commit c58f7e5c9f08118c25ff0853440d3e7423cb8875
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 28 11:13:46 2018 +0200

    Qt: Find themes from any data directory
    
    See hrm Bug #782349
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76a231fef6f6069150c3a9afc82ecefacf5dfd71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 20 14:18:13 2018 +0300

    meson: Build minimal server
    
    There's no AI included, so the produced server will just give an
    error about that and refuse to start.
    
    See hrm Feature #780179
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9deddf43104e2d4774e742c661477723f2d346e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 22 16:28:16 2018 +0300

    installer_cross: Set Unicode true
    
    See hrm Feature #781275
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c771e5cd49cb5d288acabff8ac18891629e756d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 20:18:11 2018 +0300

    meson: Call tolua_..._open() functions by the name they are generated with
    
    See hrm Feature #780178
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 221283300d5ec881711cb411adb964fd0f23e2c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 25 17:53:43 2018 +0300

    Make code about ruledit specific 'disabled' properties more self documenting
    
    - Renamed 'disabled' fields as 'ruledit_disabled'
    - Add 're_' to names of active iterators that should only be used in ruledit
    - Unified names of active iterators to always end by '_re_active_iterate',
      this meant moving '_type' part of some of the names from the middle to
      the beginning
    
    See hrm Feature #781740
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7b1c29a85a9d7a055a2d710f8140482d0177bcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 20:10:57 2018 +0300

    meson: Have tolua generated common/ file generation as custom_target
    
    See hrm Feature #780419
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0eb563ea6bf68aa37357baef0c661df416753be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 24 17:20:51 2018 +0300

    Msys2: Create correct link to modpack installer in gtk3.22-client package
    
    See hrm Bug #781746
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ba9077e426ee9db4a1ac1ad0dc5d2e015badb0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 24 17:30:54 2018 +0300

    meson: Explicitly run interpreters instead of relying on shebang
    
    See hrm Bug #781737
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54a150afe2674138e729c5e1af39cad6d11e1c13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 18 19:42:40 2018 +0300

    gtk3x: Avoid gtk_true() usage
    
    It's dropped from gtk+-3.94
    
    See hrm Feature #780516
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf52320e34d7e63bfe384581252139390a983af4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 20:04:16 2018 +0300

    meson: Include common/ to libfreeciv
    
    See hrm Feature #780151
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f508e24cb45c7a2fc25de052a5d25a3edf3df5b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Oct 25 14:36:01 2018 +0200

    Comment fix: activity too can have a sub_target.

commit 800488852a2e12268ff3b547a24e8942134d8e8b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 20 10:57:16 2018 +0200

    Merge unit action sub targets.
    
    Certain actions have both a main target and a sub target. Examples of action
    sub targets are what tech to steal from a city and what road extra to build
    on a tile.
    
    Extra sub targets were for a while split from tech and building sub targets.
    This caused bugs like unit order action extra sub targets not being stored to
    save games since the savegame code only wrote sub targets stored in
    sub_target, where tech and improvement sub targets were stored.
    
    Treat extra sub targets like tech and building sub targets by merging them
    back together.
    
    See hrm Feature #780902

commit bd2e2e1bbc2b6ee157d234ef5b1a9deb42e39059
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 21:33:26 2018 +0300

    configure.ac: Drop VERSION_WITHOUT_LABEL
    
    See hrm Feature #780300
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab8211bc6776a393c63ba004d9bbc167c72000ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 20 14:11:40 2018 +0300

    meson: Add tolua generator object
    
    See hrm Feature #780047
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1c07286f64f1e388a5a00119c01ef583af98e46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 18 19:53:53 2018 +0300

    gtk: Drop gtk_icon_size_lookup() call with unused results
    
    See hrm Feature #780526
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc5aefa1e2c4dbe6c119fd2b4e8bd8d2363e60c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 22 07:03:11 2018 +0300

    meson: Generate version information header version_gen.h
    
    See hrm Feature #780185
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdb6e5326e2b2ab107174a63d49c01a731a37638
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 18:16:08 2018 +0300

    meson: Require minimum meson version
    
    Minimum meson version is 0.36.0
    
    See hrm Feature #780646
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef32317e1c44f90110314e56a41583dcd90bc953
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 20 08:12:02 2018 +0200

    savegame3: unit order sub target lookup name fix.
    
    Look for the unit order field "sub_tgt_vec", not the non existing fields
    "tgt_list" and "extra_list", when loading a savegame.
    
    See hrm Feature #780772

commit 435b5341b61c686d099bb009ba967978b9936eb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 18 19:35:44 2018 +0300

    gtk3x: Avoid gtk_image_new_from_surface() and gtk_image_set_from_surface() calls
    
    They are dropped from gtk+-3.94
    
    See hrm Feature #780502
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7feac304270d5e8dc91c9c7f5062737c709e1a82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 18:14:00 2018 +0300

    meson: Add dependencies/tolua-5.2/include to include path
    
    See hrm Bug #780645
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 927fd2bcff232ec2bc48f6259b7b11172d4ffc00
Author: Zeko <zeko@freecivweb.org>
Date:   Fri Oct 19 08:05:37 2018 +0300

    Add fcdb check for "take" and "observe" commands
    
    See hrm #778018
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6725e9ffafcb0142fde79e1ecb3e32006b627ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 16 16:36:51 2018 +0300

    generate_packets.py: Support generating only subset of source files
    
    See hrm Feature #780035
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ceccc138e2d061dfef91900e6898f23abb62fb0b
Author: Zeko <zeko@freecivweb.org>
Date:   Thu Oct 18 19:34:16 2018 +0300

    Add fcdb check to "delegate to" subcommand
    
    See hrm #766520
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f6ddac02a526211f5eceaa959f4cc682f5c522e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 16 03:44:26 2018 +0300

    meson: Add packets_gen custom target
    
    It generates packets_gen.h, packets_gen.c, packhand_gen.h, packhand_gen.c,
    hand_gen.h, and hand_gen.c
    
    See hrm Feature #779816
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8401537386e3d364bf3ccf79faa3f4717bd46da5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 17 20:02:52 2018 +0300

    configure.ac: Use version string from fc_version
    
    See hrm Feature #780294
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aeb3027592653341d84a00851e3aea753d57cbb5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 16 05:32:13 2018 +0300

    Revert "Server - move AI phase before player activities/orders phase"
    
    This reverts commit ee0070b2fa965664f08c70e5c00ea9c782804bb2.
    
    See hrm Bug #769791

commit f7b59c389798c85407f3202ac42cd9db61a7a53b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 21:23:49 2018 +0300

    meson: Build dependencies/
    
    See hrm Feature #779794
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e30f1859b144197c40414dbdbbf088b1c6a7180
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 16 16:39:16 2018 +0300

    installer_cross: Make sure crosser set is "current"
    
    See hrm Feature #780036
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e753174f2e7f3459af4b9eca6bf2bdc491536fa6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 19:27:14 2018 +0300

    meson: Generate specenum_gen.h
    
    See hrm Feature #779773
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a45f8429c496cb2e9f30cd314a6813b82aed6176
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Oct 16 08:49:49 2018 +0200

    savegame format: merge order sub targets.
    
    A unit order can contain a sub target for an action (or for an activity).
    They were for a while stored in two fields: extra_vec and sub_tgt_vec. Merge
    extra_vec back into sub_tgt_vec.
    
    See hrm Feature #779903

commit 3884eb4e3ac6327a373088e39115e83b547d9051
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 05:51:19 2018 +0300

    gtk3x: Drop extra parameters from gtk_box_pack_start() calls
    
    See hrm Feature #663042
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5363bf6d3c7844e004411d0f4800ee60de0a3edf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 05:50:59 2018 +0300

    Set gtk3x-client to use gtk+-3.92
    
    See hrm Feature #778153
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f767fd044ae28c06601883d0e8c81a325a1d88c4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Oct 15 11:18:58 2018 +0200

    GTK clients: use action_id for action id's.
    
    The GTK clients, like the rest of Freeciv, used a mix of int and gen_action
    for action id's. The gen_action enum is on its way to only be about the
    result of an action rather than it's id. They are in the process of being
    separated. Using an int doesn't mark the action id as an action id rather
    than - say - a pointer to an action.
    
    Use action_id for action id's. Rename variables referring to the actor's id
    from act_id (typically used for action id's) to au_id.
    
    See hrm Feature #779547

commit 7065901425341ed65d7220e1a4663c56d9af17cc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 13 15:13:41 2018 +0200

    Clarify that action sub target are sub targets.
    
    Actions like "Targeted Steal Tech" have a target - the city to steal from -
    and a sub target - the tech to steal. Tech and building sub targets have been
    called "target" and "value". This has caused confusion. In the case of
    "target" it also takes up a name that could be used for specifying the main
    target. Use the term sub target in names and comments.
    
    See hrm Feature #779357

commit 02bb938e4b68dc6ab2a3cf528f1d7cbeb3e7cef5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 17:42:30 2018 +0300

    meson: Add initial files
    
    See hrm Feature #779742
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c25079945c7c20b9b2148a6d8713bee23000591b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 05:49:15 2018 +0300

    gtk3x: Get rid of obsolete gtk_event_box_new() calls
    
    See hrm Feature #778842
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d11769ce79ab8baa902000b5c3f7b3bffab65b75
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 13 13:14:31 2018 +0200

    savegame format: clarify order sub target.
    
    A unit order can contain a sub target for an action. Tech and improvement sub
    targets were stored in tgt_vec. This name has already caused confusion. It
    also takes a good name to store targets, like the city to steal a specified
    tech from, to unit orders. The name has not been used in any frozen save game
    formats yet.
    
    Rename tgt_vec to sub_tgt_vec in savegame3.
    
    See hrm Feature #779339

commit 21cf31633a0439723abaf04924f03a179d96c357
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 13 10:31:38 2018 +0300

    Make server to send its version number to client
    
    See hrm Feature #735534
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f54c35a134d8d14779f2bf5f84760cca85350ac5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 12 01:51:20 2018 +0300

    Update europe_1900_WWI scenario to 3.0 savegame format
    
    See hrm Feature #699393
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e33c67fa03e866c58e7777e4003b71d000667b3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Oct 10 14:22:35 2018 +0200

    SDL2 client: use action_id for action id's.
    
    The SDL 2 client, like the rest of Freeciv, used a mix of int and gen_action
    for action id's. The gen_action enum is on its way to only be about the
    result of an action rather than it's id. They are in the process of being
    separated. Using an int doesn't mark the action id as an action id rather
    than - say - a pointer to an action.
    
    See hrm Feature #778826

commit ba8d64326fe4d55c9fa9267924c6c26f6d6abfca
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Oct 10 12:44:35 2018 +0200

    Qt client: use action_id for action id's.
    
    Include the get*_targeted_action_id() parts that should have been done in the
    original commit of hrm Feature #774228.
    
    See hrm Feature #774228

commit 241f38eab99a2724b52bd10c02e260873900cfcd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 10 07:58:58 2018 +0300

    Make 'multiresearch' server setting SSET_RULES
    
    See hrm Bug #778682
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d26e02a7610eacd0c4394f34030a7db0a760f90e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 09:33:30 2018 +0300

    Drop buy_gold_cost from web_city_info_addition packet
    
    The same information is now transferred in main city_info packet.
    
    See hrm Feature #778078
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2246400179534734cbcf3c7a6fde1e4e410e7a7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 8 14:16:59 2018 +0300

    Introduce MAX_NUM_BUILDINGS
    
    Define max number of buildings separately from MAX_NUM_ITEMS.
    No functional change as the value is kept the same.
    
    See hrm Feature #778280
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f9f9e3f9dd8d9790044ace5a529224d9f7fdf97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 10 05:06:15 2018 +0300

    Do not error in savecompat when an < 3.0 scenario has no [random] section
    
    See hrm Bug #778659
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 772b8b9451f5acb9670f56c452ab09c94e02e68f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 9 03:17:25 2018 +0300

    Consider City_Radius_Sq effects when showing city area for city founding units
    
    Player and tile wide requirements are considered. There's no city yet, and
    future city will not have unit related requirements fulfilled as founder
    gets disbanded on founding the city.
    
    Reported by Phil G.
    
    See hrm Bug #746187
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21c6563ab1bc7599501cfd585f9771caaeb93ec0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 14:28:04 2018 +0300

    freeciv-manual: Make output format selection runtime parameter
    
    See hrm Feature #657117
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d190d7db70d925e5c60a4686364ae1706346b48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 09:10:35 2018 +0300

    Move city_production_buy_gold_cost() from common/ to server/
    
    See hrm Feature #778077
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acdfcc64bc5d8a8af80b5ca55c388f2449feb84a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 07:36:11 2018 +0300

    Drop obsolete is_native_tile_to_base()
    
    See hrm Feature #778074
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef9e60e6172ca0ffaf4597ec80d898044b124d57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 05:12:28 2018 +0300

    installer_cross: Implement initial version of gtk4 environment installation
    
    See hrm Feature #778072
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dca458a14b17d2a75ea1b118c24e95a98802ab13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 8 22:14:55 2018 +0300

    Alien: Correct action ui name entry names
    
    See hrm Bug #778327
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60b1b3c7f9d952b44bb46fbd5e4f956a9ef222ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 9 06:15:15 2018 +0300

    Make linking against crosser libSDL2 > 2.0.5 to work
    
    See hrm Bug #743842
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2c067da004b94f9439a82f04e4c43ade9d44aa6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 04:42:31 2018 +0300

    gtk3x: Avoid nonexistent gdk_get_default_root_window()
    
    See hrm Feature #777693
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62305aca36b9949ed3fc3feed31cee583c90c5de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 08:42:38 2018 +0300

    Let omniscient server to calculate city buy cost
    
    See hrm Feature #767936
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1972beecec0a50689852bfd5070b4f1ba48c9827
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 02:44:24 2018 +0300

    Switch multipliers back to default value if requirements are not met
    
    See hrm Feature #739928
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e5a1642be470549164b9fb77f4a6a2a65de5c96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 13:05:46 2018 +0300

    Remove base flags retired in 3.0
    
    See hrm Feature #778036
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c251ddda41d4d9cdcc546f2f1d6d281a239d24f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 03:27:15 2018 +0300

    installer_cross: Add freeciv-gtk3x.cmd
    
    See hrm Feature #778071
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40bb417998a415ca9cb7b6b359192dd8b6d4e0cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 09:32:00 2018 +0300

    Increase max number of unit types to 250
    
    See hrm Feature #778026
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61d2a70e9ec9c1fefa6cf213c81c5383cb90ed9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 03:48:31 2018 +0300

    Tutorial: Use hex topology
    
    Reported by Alexandro Ignatiev
    
    See hrm Feature #778019
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a108966a47daf8987ab6593966c32d4df592b0e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 04:41:32 2018 +0300

    gtk3x: Drop gtk_widget_add_events() calls
    
    See hrm Feature #686885
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2488e948c9076ec3b85a30111a5c341b82d21f95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 07:48:39 2018 +0300

    Travis CI: Drop dependency libsdl1.2-dev
    
    See hrm Feature #778075
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76e44eab84740d931d05d1a061323ff29307aa9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 23:54:23 2018 +0300

    winbuild.sh: Allow user to set GUIP part of the package name
    
    See hrm Feature #777732
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fc977d713067789f4790e1cd25b53fdb8c91ef2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 09:13:02 2018 +0300

    Drop outcommented MAX_LAST definition
    
    See hrm Feature #778025
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c13af1ca707a24919dcba2e8a5c1c90f31b4db3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 02:26:48 2018 +0300

    Drop unused really_close_connection_dialog()
    
    See hrm Feature #731625
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b8bd4d1a5a034c49a21481ee72b5c41f631b1cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:03:19 2018 +0300

    gtk3x: Drop obsolete gtk_toolbar_set_icon_size() call
    
    See hrm Feature #777527
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57607037fd23d03fd5f1ea27d32502f38d6592d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 22:23:12 2018 +0300

    winbuild.sh: Add EXTRA_CONFIG support
    
    See hrm Feature #777731
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5969bf872adccbd50457077671e590ca4bd4a5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 13:14:08 2018 +0300

    Use B_LAST instead of MAX_NUM_ITEMS where applicable
    
    See hrm Feature #777624
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8c994f6af5aad7bc6c98ce4bbfd501362d34acc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 08:31:33 2018 +0300

    Make sure second and later games use correct random seed
    
    Reported by Jacob Nevins
    
    See hrm Bug #761219
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cf73f68b72640b296c8d669e33f7459f9054a29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 19:08:34 2018 +0300

    installer_cross: Support building gtk3x-client
    
    Just building the binaries is supported. Produced installer does
    not contain gtk4 environment.
    
    See hrm Feature #777722
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e80c922ca6048eb4945fee2b0f28a2a5657d6b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 17:08:22 2018 +0300

    gtk3x: Replace remaining direct accesses to GdkEvent fields with accessor calls
    
    See hrm Feature #777701
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 316931c92660b80ebe911e48b2ae074665156657
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 5 03:20:00 2018 +0300

    Add editor support for unit 'stay' property
    
    See hrm Feature #662672
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae3a617c6c1a1e665373b330c2c919ffb1fbe3d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 13:36:44 2018 +0300

    Document marking of log_warn() messages for translation
    
    See hrm Feature #735943
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1221006fc44e5e21b9f7490ba4c6be86488a68ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 07:51:26 2018 +0300

    Do not give double culture for non-unique achievements to first gainer
    
    Reported by Akechi
    
    See hrm Bug #763885
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82e4339af720aef646730da8b6a9df385dfa7997
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:17:10 2018 +0300

    Keep current tileset when topology changes between overhead and iso ones
    
    See hrm Feature #777520
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62b9b554165ea4e403012b6bcad6596cfc03d79e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:00:23 2018 +0300

    gtk3x: Avoid deprecated gdk_pango_context_get_for_screen() calls
    
    See hrm Feature #777521
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9bc276f8a63289e7c9806ddb1300ad36687913f
Author: Zeko <zeko@freecivweb.org>
Date:   Fri Oct 5 17:53:12 2018 +0300

    Change call signature for luascript funcs to allow any return values
    
    All fcdb functions in database.lua have been changed to raise
    exceptions rather than return FCDB_ERROR enum, and user_load now returns
    a password hash.
    
    See feature #769078
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a60d180c16e0d4c07e91fce52795900d2516b11
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:11:06 2018 +0300

    Update network capstring documentation in fc_version
    
    - Update base format
    - Remove instructions to avoid mandatory capabilities in a new
      development branch, as we bump the capability for the version number
      anyway
    
    See hrm Feature #776785
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb6c700735f466792f54b443b8df519be56a1fc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:10:44 2018 +0300

    Increase max number of ruleset defined advances to 250
    
    See hrm Feature #776787
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5e5262763f80bc22139178351a425f2b7c1e777
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 2 16:48:41 2018 +0300

    Fix gtk3x-client compile
    
    See hrm Bug #777144
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d59c25992e1f9cd838c2af8926ea1067988aecf3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 1 23:31:11 2018 +0300

    Sanitycheck barbarian init_buildings against B_LAST, not A_LAST
    
    See hrm Bug #776786
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8e9d2c74d1a3dd242ec9331b0e7b751951cfffc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 1 23:27:31 2018 +0300

    installer_cross: Make build_all_installers.sh to work in two different modes
    
    Modes are 'snapshot' and 'release'.
    
    See hrm Feature #740208
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7aa0691cae87b8a22c987cd7b7a5f7e97c729e6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 1 23:32:09 2018 +0300

    Combine "Overhead" and "Iso" tileset settings to single "Square" setting
    
    See hrm Feature #776792
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84e5c90c8b74f21d9e2483e883a99e5bd6869aa8
Author: Zeko <zeko@freecivweb.org>
Date:   Mon Oct 1 23:30:17 2018 +0300

    Save orig_username for delegated players in savegames
    
    See hrm bug #772657
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7915fbcae1f9b56e69682880fc67799ddf97ed04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 1 23:30:50 2018 +0300

    Update tech.ruleset comment about max number of advances
    
    Currently max number of advances in a ruleset is 199. Make documentation
    to match.
    
    Reported by Akechi
    
    See hrm Bug #769401
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0240fc668095f685340647f860079ef312b868b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 29 20:15:47 2018 +0300

    Set hexemplio city sprite tags to point to correct sprites
    
    Patch by Pierre R
    
    See hrm Bug #774184
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c16947f15fe96cd69da9e71fdc7b332be6e2acd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 29 04:21:18 2018 +0300

    Add 'generated' property for extras
    
    This makes it possible to have properties of causes Resource and Hut
    for an extra without it actually getting placed because of those causes.
    This is especially useful in combination with cause Appear.
    
    Sandbox ruleset Hermit's Place is fixed to have cause Hut.
    
    Hermit's Place problem reported by Alexandro Ignatiev
    
    See hrm Bug #775424
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84c40c78fe0deff010c9765eeff662de66d217f6
Author: Zeko <zeko@freecivweb.org>
Date:   Sat Sep 29 07:51:39 2018 +0300

    Change all callbacks in update_queue to void (*cb) (void*)
    
    See hrm bug #775057
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a61d00c44d1091c9ceb36a7264da777113278c7
Author: Zeko <zeko@freecivweb.org>
Date:   Sat Sep 29 02:05:53 2018 +0300

    Add percentage modifiers to global warming and nuclear winter rates
    
    See hrm feature #770804
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f5d4f460bf044eb1cc914866e76f9be64db15e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 17 10:48:32 2018 +0300

    Add "Unit_Build_Cost_Pct" effect type
    
    See hrm Feature #768130
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64c2d72e60c2f4fdb98a5bde66ada1a41a437188
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Sep 24 07:21:22 2018 +0200

    effect_to_enabler() takes an action.
    
    The function effect_to_enabler() converts an effect to an action enabler. It
    takes an action id, not an action result. Mark it as such by changing the
    type of the action parameter from enum gen_action to action_id. This marking
    helps when an action's result becomes independent of its id.
    
    See hrm Feature #775500

commit d62428da94364102f6acb187f2d59661b2023d69
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 20 11:07:31 2018 +0200

    ruledit: can't enable invalid action.
    
    Assert that there is at least one action to enable when adding a new action
    enabler. Also assert that the default action for the new enabler exists. Both
    assumptions are true as long as actions them self - unlike action enablers -
    remain hard coded.
    
    See hrm Feature #774865

commit 9948951e884a38d8a0a3e0cf992edebebb061f93
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 20 10:51:20 2018 +0200

    Save game actions are actions, not results.
    
    An action in the list showing the order of action's in a save game is an
    action, not an action result. Make this clear by changing its type from
    gen_action to action_id.
    
    See hrm Feature #774858

commit bcd501016ad3e32f9fc7b03008821474dbade150
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 17 11:52:02 2018 +0300

    installer_cross: Support win32 crosser setup
    
    See hrm Feature #774284
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38217eb9a5777b01c7c7c2e2a7dd48d49fc78222
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 31 21:33:29 2018 +0200

    Qt client: use action_id for action id's.
    
    The Qt client, like the rest of Freeciv, used a mix of int and gen_action for
    action id's. The gen_action enum is on its way to only be about the result of
    an action rather than it's id since those are in the process of being
    separated. Using an int doesn't mark the action id as an action id rather
    than - say - a pointer to an action.
    
    See hrm Feature #774228

commit c327fd8c1c0313ad87a6703c54743646be8d4ee1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 17 10:31:06 2018 +0300

    installer_cross: Make build_all_installers.sh to respect CROSSER_QT
    
    See hrm Feature #774256
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 008564fd153ef424508a56d91ffbd74b34b32dbd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Sep 16 18:56:23 2018 +0200

    gen_action_name() -> action_id_rule_name()
    
    Use action_id_rule_name() rather than using gen_action_name() directly. This
    prepares the callers for when an action's id no longer predicting its result.
    
    See hrm Feature #774240

commit 63d3bcfa9d5be77cc34b698587eca07eeccc798a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Sep 16 16:29:27 2018 +0200

    action_target_neg_util(): mark action id param.
    
    Change the type of the act_id parameter from int to action_id so it shows up
    on code searches for action_id uses.
    
    See hrm Feature #774229

commit e7932e8ef6c230efd661c17adf62f45f2b623c8d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Sep 3 16:25:39 2018 +0200

    protocol: make gen_action fields action_id.
    
    The result of an action is (slowly) being separated from it's id. This is
    needed by generic actions. Change the type of packet fields that contains an
    action's id from the gen_action enum to the action_id typedef.
    
    See hrm Feature #774219

commit fd735f5314a880a0e0f375bfb00e5c4e587f605e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Sep 4 14:22:01 2018 +0200

    unit_perform_action(): mark action id argument...
    
    ...by changing its type to action_id.
    
    See hrm Feature #774218

commit 57d4cfd399f9259e3f23ea37dbd582ac772e1ecd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 15 12:32:24 2018 +0300

    Update to crosser-1.6
    
    See hrm Feature #774117
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7859a96276f52087b84ab7bcdc3b810e95a887d9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 6 12:33:23 2018 +0200

    Stop assuming that action id equals result...
    
    ...in action not enabled explanation functions. This is needed by generic
    actions. Not done in switch statements. Making the compiler object unless all
    actions are handled is worth not porting them until fully generic actions -
    that can have more than one result - requires them.
    
    See hrm Feature #772834

commit b01f666b2cfcc2069debae1d64bd9fc75459c4e9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Sep 12 10:12:12 2018 +0200

    Invalid parameter safe action_has_result().
    
    Secure action_has_result() against bad parameters. Introduce versions that
    are safe to use with non existing actions.
    
    See hrm Feature #773606

commit fc82dd1a9e330e5bcf89faefb2ebe11b7c52a4f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 7 07:43:37 2018 +0300

    gtk-clients: Avoid deprecated gtk_css_provider_get_default() call
    
    See hrm Bug #771103
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 723f376761de3395ea717a3ac7a71f3188fb43a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 6 10:13:57 2018 +0200

    Coding style changes from hrm Bug #772688
    
    Various coding style changes done while fixing hrm Bug #772688 in areas that
    turned out not to cause it. Fix indention, remove redundant lines and add
    PORTME comments.
    
    See hrm Feature #772697

commit 32599783df58197a2625bea5120635d95f14db9f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Sep 7 01:58:04 2018 +0200

    Server - Fixed stopped rapture when city size changes
    Reported by Zoltán Žarkov
    
    See hrm Bug #771536

commit dd9a97eb7086afbaa3949ecb06d1f4846ff050ba
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Sep 3 16:19:24 2018 +0200

    Common client code: mark action id arguments...
    
    ...by changing their type to action_id.
    
    See hrm Feature #772137

commit b72fbc17c59d499dcfb8cbc55394b1341d60ed77
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 31 21:59:17 2018 +0200

    Qt client: remove pointless argument casts.
    
    request_do_action() now takes the action id as an action_id, not a gen_action
    enumerator.
    
    See hrm Feature #772133

commit 561b523f0ba2f3574702728aa983d29b85e90b92
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 6 09:19:43 2018 +0200

    Make the clients build again.
    
    Hrm Feature #771485 broke the compilation of most (all?) clients. Make them
    build again by dropping the gui_interface stuff.
    
    See hrm Bug #772688

commit 4ddab7590266dee3c49c3e2bc137b8debf1b20d5
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 21:11:43 2018 +0200

    Fix compialtion fail for sdl2 client caused by hrm feature #771485
    
    See hrm Bug #772658

commit ca702c451ce17a3886f136adbd64fda8d18adead
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 21:00:08 2018 +0200

    Added new lua signal - nuke exploded
    
    See hrm Feature #771917

commit 737f312afe1ef0005445902757a40c5e171909f7
Merge: 2ac75bfa80 5003b33798
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 20:43:50 2018 +0200

    Merge branch 'master' of https://github.com/freeciv/freeciv

commit 2ac75bfa80dfbed882a7e7e4f728e15c0fbcbe70
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 20:28:10 2018 +0200

    New server lua function to tell client to show image, text and play sound
    
    See hrm Feature #771485

commit 5003b33798bbb1791a1479f582a51192fa63da65
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 20:28:10 2018 +0200

    Qt client - show technology icons in comboboxes and sidebar tech menu
    
    See hrm Feature #771722

commit a3874cb0468833fad580ae35231f06eab3ada32b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 18 13:39:43 2018 +0200

    Unit may act functions: mark action id arguments.
    
    Many functions that checks if a unit type (/ unit's type / unit list's unit's
    types) may be able to perform an action takes action id as arguments. Mark
    them by changing their type to action_id.
    
    See hrm Feature #771896

commit b03cc076a2e238fd991cea6cfa569b8bc85d7041
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Sep 1 20:46:45 2018 +0200

    Qt client - show technology icons in comboboxes and sidebar tech menu
    
    See hrm Feature #771722

commit c2f64cc70b96b782ab593a2cb46af287f1d4486b
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Sep 1 20:44:18 2018 +0200

    Qt client - dont update unit label if it not shown
    
    See hrm Bug #771721

commit 28aa1cdb03a001cd1ac9b2e02c3460fc0a958247
Merge: 948ab6fe3e d08a186003
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Sep 1 20:39:02 2018 +0200

    Merge branch 'master' of https://github.com/freeciv/freeciv

commit 948ab6fe3ef0726137c8fd8bde10b5d10610751e
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Sep 1 20:37:07 2018 +0200

    Server - added multiresearch option
    
    See hrm Feature #769897

commit d08a186003b77e17d5602c159d281d6477fe79b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 30 14:15:10 2018 +0200

    Let Action_Odds_Pct control tech theft odds.
    
    Allow the Action_Odds_Pct effect to modify the odds of the actions
    "Steal Tech", "Steal Tech Escape Expected", "Targeted Steal Tech" and
    "Targeted Steal Tech Escape Expected".
    
    Requested by wieder
    
    See hrm Feature #764943

commit b3dbe2459906e307fac50c76ac79ff7d566f3090
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 28 19:34:58 2018 +0200

    Qt client - made governor area smaller in city dialog
    
    See hrm Bug #770355

commit 76280f8978b4cdc7922238bb8b75efbc5689f46f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 28 19:32:07 2018 +0200

    Qt client - Fixed isohex units size in city dialog and unit selector.
    
    See hrm Bug #770253

commit ee0070b2fa965664f08c70e5c00ea9c782804bb2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:57:47 2018 +0200

    Server - move AI phase before player activities/orders phase
    
    See hrm Bug #769791

commit cc88777d4fb96727eb638db0ec1b6317849aa092
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:55:44 2018 +0200

    Qt client - dont allow observers to try changing city name or governor
    
    See hrm Bug #769796

commit 3e2d58d37d01574c7a9f675fe3bea9c917edc346
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:53:12 2018 +0200

    Qt client - Fixed trying to cancel meetings when leaving game
    
    See hrm Bug #769764

commit c36311bf5679b9058a107f8d22d180fd07cd1a02
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:50:27 2018 +0200

    Qt client - updated nation report
    Reported by formalhaut.
    
    See hrm Bug #769585

commit 98cfc3395bf3e698294156614819954fb282f786
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:46:42 2018 +0200

    Fixed goto to target indicating one less turn in 2.6+ and wrong number after exhausting moves.
    Reported by Akechi.
    
    See hrm Bug #763893

commit a8690d3b5967bcbaa701040695252f4606898d8a
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:41:50 2018 +0200

    Fixed goto path drawing bug with exhausted moves
    Reported by Marko Lindqvist and Jacob Nevins
    
    See hrm Bug #657396

commit 71e517a89d3179837aaf9c8094dd1294b0d90150
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 17 02:43:38 2018 +0200

    Qt client - use unscaled units in city dialog, unit report, unit orders
    
    See hrm Feature #769214

commit 1838a03d673cfa6ecb15e251962174a5d256d0bc
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 17 02:39:38 2018 +0200

    Client - draw unscaled tiles in city map dialog
    
    See hrm Feature #769212

commit 907bab9e4c17ab011357d32d6cfcefa47808a88d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 17 02:33:40 2018 +0200

    Qt client - added new menu option to scale/not scale fonts
    
    See hrm Feature #769204

commit 1ad8e134d71b5fcf835861b27d503f05a1515b41
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 13 19:47:39 2018 +0200

    Qt client - use QPixmapCache also to store tileset sprites
    
    See hrm Feature #768847

commit 26df2cf9370b6ff520493f289acad3fb2cf3fa50
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 13 19:38:34 2018 +0200

    Qt client - remove useless TODO about adding scrollbar
    
    See hrm Bug #768652

commit d196b8a0131637ce5947c15d04231c493bff03fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 7 15:52:28 2018 +0300

    civ/2: Disallow "Alliance" clauses
    
    See hrm Feature #768396
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6fdb3333521898a661c04ede70a115f02518ae25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 7 15:34:14 2018 +0300

    rulesave: Save clause type documentation comment
    
    See hrm Feature #768138
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ce0315ea12594e93b6b4c6669a6ce0abbcc7270
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 7 15:33:02 2018 +0300

    Add "Unit_Buy_Cost_Pct" effect type
    
    See hrm Feature #767932
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8ab44f8d0ed281d8229e9455d2ea4b1da1eac43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 7 15:32:34 2018 +0300

    AI: Value embassy clause when tech leakage style is "Embassies"
    
    See hrm Feature #767838
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79b5270e9404874ae0ae082187dd2b57fb5c54bc
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 7 20:12:41 2018 +0200

    Client - Freed effect_list in text_happiness_wonders
    
    See hrm Bug #767983

commit e2c8a273a49af5d9fa456946d14b02bd0554b1af
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 7 20:08:07 2018 +0200

    Qt Client - fixed some small memory leaks
    
    See hrm Bug #767837

commit 1ac137664edd08e3029dfe3f9d28d560af59c2bd
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 7 20:04:46 2018 +0200

    Qt Client - Added possibility of bases/roads to build
    Reported by  Marko Lindqvist
    
    See hrm Bug #684336

commit e84f1a3541c74d0d3fe9fd99699823da8ba55d2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 4 18:46:29 2018 +0300

    gtk3-clients: Set transient parent for happiness tooltips
    
    See hrm Bug #768105
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa63c2a6b39d0d3ff63683fda2268aace248d1c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 21:29:00 2018 +0300

    Introduce clause_info structure
    
    Initial version of the clause type specific clause_info structure
    contains information whether clause type is enabled in the game.
    This information comes from the ruleset.
    
    See hrm Feature #765945
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 885e365e0a8f8e132ff483e94c229769248525e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 4 10:48:39 2018 +0300

    Improve ruleset comments about unit convert_time
    
    Make it clear that time is in movement points, and not in turns
    
    Reported by frank e
    
    See hrm Bug #692480
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0084463b2fc660b7b7e777b904069c0f42220de0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 3 01:45:42 2018 +0300

    sandbox: Fix "Turn_Fragments" comment in game.ruleset
    
    See hrm Bug #767841
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 013c8ba1bcbb2247964974c9f17d26ecebf8f011
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:33:26 2018 +0300

    Add "Building_Build_Cost_Pct" effect
    
    See hrm Feature #767451
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f32a120a9571e34763c2b57f93989b3e258397a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 23:31:25 2018 +0300

    AI: Give some value for culture effects
    
    See hrm Bug #767726
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3d29f94bd68d6aa5c8abec9fb4a4c8f5aae9ba86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:33:02 2018 +0300

    Multiplayer: Double buy cost of Small Wonders except Palace
    
    Requested by S.C. L. (Caedo)
    
    See hrm Feature #767397
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b80be74feaabb105586ef8715d32ee393c189ae
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 22:06:35 2018 +0200

    Reverted commit "Pathfinding - added workaround for goto path drawing bug with exhausted unit"
    
    See hrm Bug #657396

commit 2e5aa113b88ac3661525743ce71e4d38ba4821b3
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:57:41 2018 +0200

    Server - fixed square dispersion 'radius' on hex maps
    Reported by Jacob Nevins<jtn>
    
    See hrm Bug #767131

commit e25ec09e7e2a240dbe87f43b1333de91bf71bb28
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:54:32 2018 +0200

    Qt client - dont open city when adding city to trade planning
    
    See hrm Bug #767095

commit fe1e8cfc102663ff64a048914b42508d5bde11f2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:49:21 2018 +0200

    Server - fixed angry citizens not taken into account in HAPPIEST Civilizations report
    Reported by Akechi
    
    See hrm Bug #763884

commit fc82e7dc6d3464f3b7da4c28802ee08e8372320d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:46:03 2018 +0200

    Server - fixed pollution placed 1% more than pollution value of city
    Reported by Akechi
    
    See hrm Bug #763881

commit 0db870aa1bc26a17c7c55633c82f2edd961ba82f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:23:12 2018 +0200

    Pathfinding - added workaround for goto path drawing bug with exhausted unit and maglev
    Reported by Marko Lindqvist and Jacob Nevins <jtn>
    
    See hrm Bug #657396

commit f0a9245e86b45c3643eb28739998fcd5001e6bf0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:34:49 2018 +0300

    gtk3x: Replace gdk_threads_add_idle() call with g_idle_add()
    
    See hrm Feature #767472
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4190d33604a010520e2b2e294e24962f328de26
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:32:43 2018 +0300

    Add "Building_Buy_Cost_Pct" effect type
    
    The main motivation is to allow ruleset to define how to
    handle buy cost of Small Wonders.
    
    Requested by S.C. L. (Caedo)
    
    See hrm Bug #756718
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cfb01dcba83629e9d402840eecd7e5c35d0c88f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:34:09 2018 +0300

    Fix appending gthread cflags to modpack cflags
    
    See hrm Bug #767468
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4eb0d77e7d0b23248f0728253f7656b3971e9c49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:32:23 2018 +0300

    Add server setting to control tech leakage rate
    
    Requested by fomalhaut
    
    See hrm Feature #764944
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 217ce5d27831fcd496ef647c9660a71a93b9cfaa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 31 23:52:22 2018 +0300

    Update freeciv-mp-gtk3x to use gtk+-3.94
    
    See hrm Feature #767467
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c030014131bb4ad5f0138f83e37ce9e147c79cf8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 31 22:15:24 2018 +0300

    Reveal map for completely dead teams when REVEAL_MAP_DEAD set
    
    The old behavior was never to reveal map to dead players if they
    were part of any team.
    
    See hrm Feature #658081
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e0ea63be47cd1b6aa433142c5cfd720631c0ee9
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:22:16 2018 +0200

    Reverted Bug #767095: Qt client - dont open city when adding city to trade planning
    Unexpected non working select button at all.
    
    See hrm Bug #767095

commit 53be69c0616a3b895d03e9112d34fb515097f893
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:17:35 2018 +0200

    Pathfinding - fixed path drawing for fueled units with fuel > 1
    Reported by Jacob Nevins<jtn>
    
    See hrm Bug #765079

commit cfe267f944c5ba4b7c3d86d0a7ee6d5f54df3a9b
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:08:06 2018 +0200

    Qt client - dont open city when adding city to trade planning
    
    See hrm Bug #767095

commit 990a36787242bd35ec3d7bdc9cbfa0caffda8b51
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:05:58 2018 +0200

    Qt - always draw virtual cities in trade planning
    
    See hrm Bug #767094

commit aaed61f3859fed2d71c0e67887e179532d9d7310
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:03:58 2018 +0200

    Qt - improved city dialog splitters and size policies position on first run
    
    See hrm Bug #767092

commit 82e9c0b72ec39835c71612f3948903247a4b4549
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 20:59:37 2018 +0200

    Qt client - fixed default huge fonts on some small displays
    Reported by Yuri Tretyakov
    
    See hrm Bug #766497

commit 602b863b87cce52844f4aa8d8f8614ff9ed16c57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 23:15:36 2018 +0300

    Init capabilities for freeciv-manual
    
    This fixes assert failure because of missing capability.
    
    Reported by Máximo Castañeda
    
    See hrm Bug #763694
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e1f6c8d12e4dfc372187e404f15c0fc696be0cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 22:29:06 2018 +0300

    Increase victory_min_points in rulesets with cultural victory chance
    
    Experimental: 15000
    Civ2civ3:     18000
    Sandbox:      18000
    
    See hrm Bug #766716
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2601cb3750184bcc5d92bd5cf205080684788c1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 17:22:07 2018 +0300

    Add "building_lost" signal to lua API
    
    Requested by Caedo
    
    See hrm Feature #695007
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 468a9aa3b11c2629d177d19cf9a8de9fd4ea2733
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jul 30 22:32:55 2018 +0100

    Updated Spanish translation by Jordi Negrevernis i Font
    
    msgmerged from S2_6 f78349892d. Stats on master:
    nations: 100%: 1843 translated.

commit 5025a38df8f405092ba22c36e861d89118aecb56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 17:09:20 2018 +0300

    README.md: Remove link to play.freeciv.org
    
    See hrm Feature #767042
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4de4569a44d1806a56f852647a8b4fcb5c1f620
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 17:07:17 2018 +0300

    Windows: just use getenv(APPDATA) for home dir
    
    Requested by Frank <dunnoob>
    Patch by simsulla <simplicissimus.sulla@gmail.com>
    
    See hrm Feature #693389
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7443c0be43da6ed64c866fa339309f0adabca9d2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 28 12:22:37 2018 +0100

    Script to scrape NEWS from Freeciv wiki.
    
    Cloned and hacked from doc/generate_FAQ.pl by me (in 2012), originally
    for gna patch #3488.
    
    See hrm feature #767074.

commit 68606e2a4938eb457b00efe7512b8fc2aa26b8bd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 28 12:06:06 2018 +0100

    Update NEWS for 2.5->2.6 changes.
    
    See hrm feature #767040.

commit 5128119992b60bcdbb077b399ddccd826669f5f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 17:08:54 2018 +0300

    Make create_vertical_surface() state parameter enum widget_state
    
    See hrm Feature #735289
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c91ed222a85701d837404e01a515a778206c52e
Author: Zeko <zeko@freecivweb.org>
Date:   Sun Jul 29 09:55:56 2018 +0300

    Port caravan bonus style and trade revenue style options from warclient
    
    See hrm #765978
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7059d5a82546031f7662a7cb87076bd0eacdca2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 22 00:10:48 2018 +0300

    Try glibtoolize if libtoolize is not found
    
    On Mac libtoolize might be called glibtoolize.
    
    Reported by Daniel Markstedt
    
    See hrm Bug #714899
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05186c5695f6ebd5dc94802f0fd2f99644234736
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 22 01:01:46 2018 +0300

    msys1: Build only stub AI to ruledit installer
    
    See hrm Feature #656443
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd94615013604b980a29de4fe7268f4e52f090f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 22 19:22:10 2018 +0300

    sdl2-client: Correct freetype minimum version detection
    
    Reported by Lars Wendler
    
    See hrm Bug #765927
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 410d05e71480798423505a9a5c2e1b8a29735f3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 19:31:23 2018 +0300

    Fix editing research while one is researching Future Tech
    
    Reported by fomalhaut pa
    
    See hrm Bug #765089
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5fd4617b58322f41dfd4ce491042628da70ad49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 22 01:19:41 2018 +0300

    msys2: Build only stub AI to ruledit installer
    
    See hrm Feature #656441
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eaece30292990612abb79e4cd8e6341851c60915
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 11:43:31 2018 +0300

    Add function header for tilespec_reread_frozen_refresh()
    
    See hrm Bug #735284
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 145ab0907383ba328b4060f5b6f1ec631309a571
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 01:43:19 2018 +0300

    Respect forced_tileset_name when starting a scenario game
    
    Reported by javaxubuntu
    
    See hrm Bug #765923
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5157e5d2cfdf1d96206a9d6e23a5951ca7a43ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 18:40:34 2018 +0300

    Mention "Turn_Fragments" effect on game.ruleset documentation about fragments
    
    See hrm Feature #765121
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efb0d0a6a9781f24f4c686798f17c93a6039b63e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 12:26:23 2018 +0300

    Update included lua to version 5.3.5
    
    See hrm Feature #765936
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36f36e8dcc1c0b46b50d386c58c2fb1781d656ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 02:38:50 2018 +0300

    Save advance root req only if it's not inherited
    
    Reported by Jacob Nevins
    
    See hrm Bug #758958
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed849c3d2bf9c8c61477bff7b3dc163e15892701
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 02:03:19 2018 +0300

    Qualify extra owner format string
    
    See hrm Feature #765598
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af21962e8fa5631bff82d3a30f8695a6bb4f52c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 00:01:49 2018 +0300

    Fix stringop-truncation warnings on C++ code
    
    See hrm Bug #765910
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 32abe86c3b276d74d314ec92561c97ce5983056a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 15 16:39:21 2018 +0100

    Keep pregame AI level dropdown in sync with server state.
    
    It's been a longstanding bug that this dropdown, in clients which have
    it, doesn't track server state, and often the initial state doesn't
    reflect the server's.
    
    Reported by lots of people, including Frank (dunnoob@gna) in
    gna bug #24899.
    
    See hrm bug #765061.

commit 8b1b89b09f57f3f186daee0e44bd8d1250234054
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 15 00:10:06 2018 +0100

    Suppress "wonder will be finished" notices once obsolete.
    
    They could be printed even if the wonder could no longer be built,
    for instance due to becoming obsolete. (And would be printed every
    turn until the city production was changed.) This was a regression
    from 2.5.
    
    Reported by "fomalhaut pa".
    
    See hrm bug #764965.

commit 382c13064dab8baa00fc04f8b6ef4f6a58a42ed4
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 13:56:33 2018 +0100

    More warning for unit disband due to peace treaty.
    
    Make the initial message clearer that units will be disbanded, and
    send a followup warnings once per turn to any player who has units
    still at risk of disband.
    
    After a suggestion by David Lowe (doctorjlowe@gna) in gna bug #16000.
    
    See hrm feature #764959.

commit b1c56df7186c843ec705b16e4a89d63d08c59d61
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 12:00:13 2018 +0100

    Notify of endturn/spaceship arrival next turn.
    
    This gives players a chance to react (for instance, by changing server
    settings to prolong the game).
    
    See hrm feature #764421.

commit 6cd26d623497a3db833ad2dc80fe1c558a230c7c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 11:24:43 2018 +0100

    Allow game_next_year() without side effects.
    
    See hrm feature #764956.

commit 2ae0186feb33f4268007d3ee0afc29dae07b07fd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 8 10:12:23 2018 +0100

    Fix docs for civ2civ3 Cure for Cancer.
    
    The description of the effect on plague risk was misleading.
    
    See hrm bug #763957.

commit 5aee4135af1e8eaf8f3183c79ce2744f5b88d087
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 30 17:33:30 2018 +0100

    Don't clear cities' worker tasks on /away.
    
    See hrm bug #685253.

commit f91b1f175a9fcd8523c24292eb5a823846392212
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 21 22:17:13 2018 +0100

    Update FAQ for 2.6.
    
    Semi-manually updated from http://www.freeciv.org/wiki/FAQ_2.6, which
    will shortly be moved to the main FAQ URL.
    
    2.6 FAQ started by frank e, with further updates from me.
    
    See hrm feature #696454.

commit 66fd19c7dedd19b50096aeb005ebf31ca5284b75
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 20 19:05:33 2018 +0200

    Reverted temporarily due to Bug #765892
    
    See hrm Bug #765390

commit 2db92244af33102c4606e4981890624344729233
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Jul 20 00:50:11 2018 +0100

    Updated Spanish translation by Jordi Negrevernis i Font
    
    msgmerged from S2_6 3b081427c2. Stats on master:
    core: 80%: 6014 translated, 954 fuzzy, 532 untranslated.

commit c704667054a2b7dbbc03fd0f352edd73ae228f6c
Author: mir3x <mlewczuk80@gmail.com>
Date:   Thu Jul 19 22:25:36 2018 +0200

    Qt client - fixed not null-terminated string used for showing tooltip in city dialog
    
    See hrm Bug #765390

commit 61def3763753c973306218f4605e62143bb9cc31
Author: mir3x <mlewczuk80@gmail.com>
Date:   Thu Jul 19 22:22:13 2018 +0200

    Qt client - button for canceling production dialog was invisible and inactive in Qt5.11
    
    See hrm Bug #765387

commit d8663db64044c0748fa9da336c158248e2ec797e
Author: mir3x <mlewczuk80@gmail.com>
Date:   Thu Jul 19 22:18:50 2018 +0200

    Pathfinding - show number in correct place on mapview for unit being out of fuel for given turn
    Reported by Jacob Nevins
    
    See hrm Bug #765079

commit d6809f4a3223d1f4127a75d9c6420d86287b90a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 19 09:10:39 2018 +0300

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c17ceaccd9eab8fc1f5ff4de58bfef0a84d4e94a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 18 13:12:58 2018 +0200

    Comment clarification: fake action id.

commit e2def982adf9f4104d76473bff4ece116d64c8ce
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jul 17 09:32:04 2018 +0100

    Updated Japanese translation by "fomalhaut pa"
    
    msgmerged from S2_6 deac9014aa. Stats on master:
    core: 77%: 5748 translated, 1025 fuzzy, 727 untranslated.
    nations: 95.8%: 1766 translated, 11 fuzzy, 66 untranslated.
    
    See hrm feature #765297.

commit 3e1d8a92aa426de7ca6e0a072375fc06b0f21f68
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 15 13:12:23 2018 +0100

    More visible Pollution sprite for Amplio2/Cimpletoon.
    
    By Gyubal Wahazar on the forum.
    
    See hrm feature #765046.

commit 18b78878ec5504f817f8d7a8f01acab80ef2c533
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 10 12:54:43 2018 +0200

    Assert correct input in utype can act functions.
    
    Inspired by hrm Bug #759773 that was reported by Zoltán Žarkov
    
    See hrm Feature #764308

commit f75aa738c20736cbb24d83b1a6a9be7dbf3c42fe
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 21:06:45 2018 +0100

    Fix server crash loading worker tasks.
    
    A savegame where a city had a terrain-conversion type worker task was
    loaded with an uninitialised pointer, potentially causing a server
    crash later.
    
    Crash reported by mir3x.
    
    See hrm bug #764223.

commit 1b39f996175f69d41b79efa8f8fd3bbf64cd12a2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 00:52:26 2018 +0100

    Updated Spanish translation by Jordi Negrevernis i Font
    
    msgmerged from S2_6 6136abb34e. Stats on master:
    core: 76%: 5733 translated, 1165 fuzzy, 602 untranslated.

commit 56fa2d848d59e8214e8e379c7d71506c79cf4770
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:51:21 2018 +0200

    Qt client - display help text in build queue & Improvement List
    Requested by Griffon Spade
    
    See hrm Feature #735308

commit d34cfcfbc2dd2d2fdc55f5f5bc1f401a85df04b5
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:44:29 2018 +0200

    Server - Fix global warming occurring at 0 accumulated value
    Reported by Akechi.
    
    See hrm Bug #763882

commit e3fdeb72b121045b8b29612bda8e8c27d5a59cc0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:40:30 2018 +0200

    Client - Drawn goto turns to target is incorrect on mapview
    
    See hrm Bug #763943

commit fa1ff3b0decbcc7d9893768ba7c9d269021cf52f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:32:21 2018 +0200

    Qt client - fix Shift-E shortcut clash
    Reported by Jacob Nevins
    
    See hrm Bug #764407

commit dc3841b76ba16e45fbb0ba205bef383f53419dc3
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:29:42 2018 +0200

    Qt client - use QPixmapCache for faster loading pixmaps
    
    See hrm Feature #764525

commit 8c4cb86580a66d61e8ba4840b9191977c8d24da0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:27:20 2018 +0200

    Qt client - show extra moves left for fueled units
    Request by Jacob Nevins somewhere on gna.
    
    See hrm Feature #764524

commit 61b96b9449c5b0686ee016e76c9d3f65297bf0f8
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:24:04 2018 +0200

    Qt client - Save help dialog position and geometry
    
    See hrm Feature #764218

commit 5d22e74f9f8de2a0b8937033a25065b661c3eed5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 15 12:42:00 2018 +0200

    Support extra targeted unit action orders.
    
    Support actions that requires an extra sub target in ORDER_PERFORM_ACTION
    unit orders.
    
    No client side usage added. No automatic extra target finding is done when no
    extra sub target is found.
    
    See hrm Feature #761724

commit 01879cc27f8151ee6fe411890c0cb3bbbdc7e55c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 8 12:19:42 2018 +0100

    Lua find.role_unit_type() considers flags too.
    
    Fixes a regression in 2.6 where you could never get Settler-type units
    from huts.
    
    Reported in various forms by frank e and Akechi.
    
    See hrm bug #700906, hrm bug #763890.

commit ab6e7951aeac8bd5f19a56485d770dad1c292bd2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:29:10 2018 +0200

    Qt client - Left-Align Header Text for Present Units, Supported Units, and Improvements in city dialog
    Reported by Griffon Spade
    
    See hrm Bug #735301

commit 7a49951cebe0f997fe94ec58254399ca61b80387
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:24:38 2018 +0200

    Qt client - added option to resize battle log widget
    
    See hrm Feature #764025

commit 23c3ed1c6b34669b7432a509b694b64dc2ad95dd
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:21:14 2018 +0200

    Qt client - fixed crash when observing player with diplomacy meetings open
    
    See hrm Bug #764026

commit 281305614bee3acf8b4d046f36ff914b70a85340
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:18:18 2018 +0200

    Fixed incorrect "bribe cost" for damaged units.
    Reported by Akechi
    
    See hrm Bug #763896

commit 4b8faf2145ca0044124173350df42c45e76cb160
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:14:51 2018 +0200

    Server - fixed "Largest Civilizations report" not being created
    Reported by Akechi
    
    See hrm Bug Bug #763883

commit 022dea17a7cdcf5b6116307f59aa70e8db65ea76
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:10:13 2018 +0200

    Server - fixed resources placed 0.1% more than setting value
    Reported by Akechi
    
    See hrm Bug #763879

commit 31256a94f94d1eef175798785a1ae2b2c52fa5d6
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:05:00 2018 +0200

    Qt client - link for terrain in buidlings help not working
    Reported by Máximo Castañeda
    
    See hrm Bug #763708

commit 1290e1bae386a9a95c52a5a1e26701692950dbb8
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:01:22 2018 +0200

    Fixed crash when unit goto is active and mouse is leaving bottom of unit actions widget.
    Reported by Jacob Nevins<jtn>
    
    See hrm Bug #761748

commit 3fd93791e8217969a21be2e3323328a4d55ec38a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 8 14:38:55 2018 +0100

    Fix network protocol for rulesets with lots of units.
    
    There was a longstanding bug if a ruleset has 129 or more units,
    and one of the 129th-or-later units is an upgrade or convert target,
    the client wouldn't register that, so players couldn't initiate the
    affected upgrade or conversion. This was due to use of SINT8 in the
    network protocol.
    
    Change the network protocol definition to UINT8. It so happens that
    this doesn't actually change what the server sends on the wire, just
    how the client interprets it, so there's no need for a capability
    bump, and new clients will now do the correct thing even with old
    servers.
    
    Reported by Akechi.
    
    See hrm bug #763894.

commit 2c0fe0c02d3d7a6c0ca6275af426a3f66e157de7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jul 3 09:34:36 2018 +0100

    Mark 'default' command as translatable.
    
    Reported by Máximo Castañeda.
    
    See hrm bug #763068.

commit e88332576d9f748c0e7851e98dd1247f86267a7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 29 10:00:24 2018 +0300

    Update msys2 environment to 180624 level
    
    See hrm Task #724669
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8697f3a9b120b5642b35fa83dca480caeea8e1e0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 3 21:56:51 2018 +0200

    Qt client - make sidebar width dependent on screen size not application size.
    
    See hrm Feature #760162

commit 2a6f2fcea0c19ad1de9d85ef269716551132c2f9
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 3 21:52:47 2018 +0200

    Qt Client - when scaling tileset make tile information size not changeable.
    
    See hrm Bug #759976

commit 002ad1304708c32f072ba537df7439053dc49a46
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 3 21:49:08 2018 +0200

    Qt Client - reverted policies dialog to normal QDialog, due to crash on
                earlier versions of Qt.
    Reported by Jacob Nevins <jtn>
    
    See hrm Bug #759242

commit 1d3d0acb27d0c987a39d8442859f3720ed2e8df5
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 3 21:43:49 2018 +0200

    Client - fixed displaying borders when using scaled tileset.
    Reported by Jacob Nevins <jtn>
    
    See hrm Bug #756115

commit b4640fc7e815ada6ba58d156b8370637e8676218
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 30 15:32:42 2018 +0100

    Activity icons and other tweaks for Isotrident/Isophex.
    
    Add activity icons for all extras in shipping rulesets.
    Removed piecewise nuke sprites (not used since r7322 in 2004).
    
    By GriffonSpade with spec tweaks by me.
    
    See hrm feature #762839.

commit daec00a08637c2e0bfccc205164e01d3b2d181fc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 30 15:30:57 2018 +0100

    More unit activity icons for Amplio2/Cimpletoon.
    
    Added irrigation, farmland, mine, oil_mine, oil_rig.
    These tilesets now have specific activity icons for all extras in shipping
    rulesets.
    
    By GriffonSpade.
    
    See hrm feature #762838.

commit 4579d6b23752de1b55f235ef37e1be22e7636803
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jun 27 22:25:12 2018 +0100

    Fix spaceship score contribution.
    
    Don't give points on spaceship arrival for population in habitation
    modules that weren't actually attached to the spaceship when it was
    launched.
    
    Reported by "fomalhaut pa".
    
    See hrm bug #757442.

commit 7828350ae98f05d07bee694eacfa56bcb8461597
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 27 05:46:10 2018 +0300

    tinycthread.h: Don't mess timespec definition
    
    See hrm Bug #762124
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a00662d26809568ec9b9ed2316ab6765cf2ceee
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jun 26 23:47:04 2018 +0100

    Fix Future Tech messages.
    
    When getting Future Tech as a free tech, some of the messages
    displayed the wrong Future Tech number.
    
    Define separate functions for choosing a free tech and granting it.
    (This allowed some unrelated cleanup.)
    
    Wrong messages reported by "fomalhaut pa".
    
    See hrm bug #761977.

commit 7d891a9895ca4796ace14c527711721a7a2364d3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jun 26 22:47:31 2018 +0100

    Fix cargo teleport on transport homecity loss.
    
    When a gameloss/undisbandable unit such as a Leader is cargo on a
    transport that is lost with its home city, avoid teleporting the
    Leader to that city. This could cause non-allied units on the same
    tile (Leader and city's conqueror), and prevent the Leader teleporting
    to a more distant, safe city.
    
    Non-allied units reported by "fomalhaut pa".
    
    See hrm bug #761808.

commit 8eb47c130254dfceb6182b6794b9cb6e8f28d757
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 24 07:41:20 2018 +0200

    More detailed unit order logging.
    
    See hrm Feature #761786

commit aeafac7ff4747d3e6150b881f83d152b253ec467
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 20 13:30:33 2018 +0200

    Add a "how long will this action take" finder.
    
    Some actions are activities. Those aren't done until enough work (stored in
    a unit's activity_count) has been performed. The work is done at turn change.
    Other actions are instantaneous. They are performed (or fails) at once the
    unit is ordered to perform them.
    
    Introduce the constant ACT_TIME_INSTANTANEOUS and the function
    action_get_act_time(). The constant ACT_TIME_INSTANTANEOUS symbolizes that an
    action is instantaneous. The function action_get_act_time() returns
    ACT_TIME_INSTANTANEOUS for instantaneous actions and the amount of work (done
    at turn change) required to complete it for activities.
    
    Move the activity time calculations of ACTIVITY_FORTIFYING and
    ACTIVITY_CONVERT from update_unit_activity() to action_get_act_time().
    
    See hrm Feature #761781

commit 27a777a32ef0faa0bcca819c10f2fab4dcf15d51
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jun 25 00:01:20 2018 +0100

    Fix Amplio2/Hexemplio industrial cities.
    
    The Amplio2/Cimpletoon/Hexemplio/Toolhex tilesets was using the wrong
    graphics for large unwalled cities with the "industrial" style.
    
    Reported and diagnosed by "fomalhaut pa".
    
    See hrm bug #761751.

commit 93c68466858b7ac5f6811a27d6df098b970f8390
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 20 13:33:23 2018 +0200

    Fix tech/building targeted unit order execution.
    
    The tech or building sub target and the extra sub target arguments to
    unit_perform_action() was in the wrong order when executing a unit order with
    a specified action. The tech or building sub target was replaced by
    EXTRA_NONE while the tech or building sub target was sent as an extra target.
    
    This broke the execution of the city targeted orders with a tech or building
    sub target. Example: An order for a Spy to go to a city and sabotage its City
    Walls would be interpreted as an order to go to the city and sabotage its
    current production.
    
    No GUI supports sending a go to and perform action order against the
    specified sub target yet.
    
    See hrm Bug #761527

commit 86fce03a3a92646747c7017dd316fdd3ba330218
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jun 21 00:22:22 2018 +0100

    Shuffle players earlier in a new game.
    
    give_initial_techs() was using the shuffled players order before it
    was initialised. The most obvious effect was that with high
    techlevels, the first player would be told about government-enabled
    technologies 160 times, and everyone else not at all.
    
    Games started from a fixed random seed may not proceed the same before
    and after this change, although map generation is unaffected.
    
    Excessive messages reported by "fomalhaut pa".
    
    See hrm bug #759020.

commit 7cbb83d70a9403107e29bc7186bd8a4ac51f74e9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jun 20 21:38:03 2018 +0100

    Tweak secfile comment output format.
    
    Add a few spaces, to make it clear that it's a comment.
    This is used for instance in the client rc file.
    
    See hrm bug #761206.

commit d5ffa0c98628e4b009a40dcab17006aae3941993
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jun 20 20:49:02 2018 +0100

    Misc terrain.ruleset comments about 2.6+ changes.
    
     - Describe how extra ownership works.
     - Describe integrating roads.
     - Note that pythagorean_diagonal has no effect with hex topologies.
     - After gna patch #4346, terrains are looked up by name, not section.
    
    See hrm feature #761202.

commit 44b9f424eac7bc7cfc7fb68983a0cd322921d1d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 20 02:56:54 2018 +0300

    Refresh sdl2.m4 to upstream release 2.0.8 level
    
    See hrm Feature #750895
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85aee6587bd076e2b69697727b75b89e60dfd699
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jun 18 00:43:08 2018 +0100

    A couple of string tweaks.
    
    See hrm bug #689474.

commit 6db6d5d01ec2e362f922391f0be9f7485552fc67
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jun 18 00:43:23 2018 +0100

    Some corrections to rules help for 2.6+.
    
    See hrm bug #760497.

commit e4c51cb8a0f16b5c10192da7db89806bdfe2b736
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 17 15:40:46 2018 +0100

    Remove font sizes from tileset format.
    
    The city and production font sizes clashed with client font configuration,
    and were already ignored by the Qt client.
    
    Clash reported by "Grendel" (gna bug #18802). Symptom also reported in
    gna bug #19327 and Launchpad #816197, and by Hans Lemurson on the
    forum.
    
    See hrm bug #760420.

commit d62199c707eb3e5c9eb8b481a829bfbced1090a7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 17 13:59:42 2018 +0100

    (Very) minimal font configuration in SDL2.
    
    Allows setting the size (only) of the city name and production text (only)
    on the main map view.
    
    See hrm feature #760428.

commit 894bbf0aa83b3a2af8d4977711dc2dbfb84ee602
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 16 22:11:41 2018 +0100

    More logging for autosettlers.
    
    Log their target tasks and progress toward them, in a way that
    '/debug unit' can show.
    
    See hrm feature #760370.

commit b6eb67b7b1534b09465a5844f234ccbbf8ead956
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 16 22:10:48 2018 +0100

    Fix '/debug unit|units'.
    
    The logic in UNIT_LOG() prevented '/debug' from showing most of a unit's
    debug messages.
    
    See hrm bug #760368.

commit 7c78d25b54f1f8d07ab213bf9f468d7885033bbc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 16 22:47:50 2018 +0100

    Client: allow cleaning as worker task.
    
    The Gtk/Qt clients now allow requesting Clean Pollution/Fallout via the
    worker task interface.
    
    Requested by vla22.
    
    See hrm feature #760367.

commit 5759d686bf117ead4a8488cb0da90bda588aabad
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 16 22:19:34 2018 +0100

    man pages: note that --log appends.
    
    See hrm bug #760366.

commit 10542d5d00303847bb5dbb4081e251a1f1c1a388
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 22:41:33 2018 +0300

    Add deprecation warning about use of numeric log levels
    
    Patch by simsulla <simplicissimus.sulla@gmail.com>
    
    See hrm Feature #735948
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb5c0f9975513f0ff8f2bf414187e212368fc88a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 13 23:46:04 2018 +0200

    Assert that unit action orders have an action.
    
    Inspired by hrm Bug #759773 that was reported by Zoltán Žarkov
    
    See hrm Feature #759786

commit c92f52c83791f1d18a1d44b26be9032e445fa1bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 12 09:08:14 2018 +0200

    actiontools: tighten incident type information.
    
    See hrm Feature #759298

commit 35f7f500943be3d53b2c8a5e53ef778804520082
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 12 08:50:10 2018 +0200

    api_find_action() takes an action id. Mark it.
    
    See hrm Feature #759295

commit b7f6adb032303320082759289f92db5f0517b35e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jun 13 21:42:20 2018 +0100

    Prevent partisans from most city transfers.
    
    Partisans are only supposed to show up when a city is conquered, but
    due to a precedence issue in the Lua script, they could show up
    whenever a city changed hands for any reason.
    
    Reported by "fomalhaut pa".
    
    See hrm bug #759770.

commit ef480bd525f2672ff0912ac3ee2b92f988d53b0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 18:13:50 2018 +0300

    civ1: Remove Airlift action enabler
    
    Patch by simsulla <simplicissimus.sulla@gmail.com>
    
    See Feature #741526
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0630ce3fa9e85d92df43c9da398d096737f8ebba
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jun 11 08:36:45 2018 +0100

    Use same extra graphics and extrastyle.
    
    Tileset loading code now only does 'graphic'/'graphic_alt' fallback on
    the extra style, and always loads the graphics corresponding to the
    extra style it found. (Instead of supporting independent fallback of
    the extra style and each of various graphics used to draw the extra,
    which was confusing.)
    
    See hrm bug #758989.

commit c701de83766b9b9267669316b9fa8037aa265c81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 8 14:30:37 2018 +0200

    Assert that ACTIVITY_LAST isn't considered.
    
    See hrm Feature #759099

commit 8e2801d583e1aaaee2bfaf3229e2ba233b518ff3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 9 20:44:48 2018 +0200

    Fix all can_unit_do_activity_targeted_at() calls.
    
    A call to is_action_enabled_unit_on_*() replaced the hard coded checks in
    can_unit_do_activity_targeted_at() for each activity that became action
    enabler controlled. is_action_enabled_unit_on_*() cares about distance
    between actor an target. This caused can_unit_do_activity_targeted_at() to
    lose it's ability to speculate about the actor unit's tile for action enabler
    controlled activities.
    
    Actor unit tile speculation with can_unit_do_activity_targeted_at() is only
    used in the auto settler code of ai/tex, ai/threaded and
    advisors/autosettlers. Its remaining users can't be ported to use speculative
    action enabler evaluation until all the activities they may consider have
    corresponding actions.
    
    Introduce auto_settlers_speculate_can_act_at(). It calls the correct
    speculative evaluation function based on if the specified activity has a
    corresponding action or not: can_unit_do_activity_targeted_at() when no
    corresponding action is found. action_speculate_unit_on_*() when it is.
    
    Port remaining actor position speculating can_unit_do_activity_targeted_at()
    calls to auto_settlers_speculate_can_act_at(). Assert that calls to
    can_unit_do_activity_targeted_at() for action enabler controlled activities
    don't speculate about actor unit position.
    
    See hrm Bug #758450

commit 2091be8ce07ff88e20bc824f4fbf1a5b72827018
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jun 12 19:59:20 2018 +0200

    Fixed tileset zoom activity fffset bug
    Reported by Griffon Spade
    
    See hrm Bug #731629

commit 97c12d393ba00ce5da72d56d05b27174758ed6c0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jun 12 19:45:05 2018 +0200

    Qt client - fix zooomed flags in nations menu.
    Reported by Griffon Spade
    
    See hrm Bug #738921

commit b538e4d429f8c307ed5ad21ce0fe1b159be48c37
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 23:15:01 2018 +0300

    Make '/list scenarios' to list scenarios only
    
    It was listing also regular savegames
    
    Patch by simsulla <simplicissimus.sulla@gmail.com>
    
    See hrm Bug #731199
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e6e2145e3a0e91e7c5abb0a81f4376e0db191fc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 10 13:27:07 2018 +0100

    Fill in missing extrastyles in supplied tilesets.
    
    Many tilesets defined sprites without defining extrastyles for them.
    The engine doesn't currently warn about this, so trouble could be hidden
    until you use a ruleset with unusual fallbacks (such as 'alien').
    
    Trouble with 'alien' ruleset reported by vla22.
    
    See hrm bug #758964.

commit 96aebb40b683b17398462abcf1fcb785a833d865
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 14:07:33 2018 +0100

    Editor: use bv_techs instead of bool array.
    
    See hrm feature #758952.

commit c3d9028d37473348458eb80650739a5a0836236e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 9 17:40:55 2018 +0100

    Show effect of tech root_reqs in help.
    
    Also, tweak some wording to clarify restrictions on research versus
    acquiring tech by other means.
    
    Requested by Marko Lindqvist.
    
    See hrm feature #758951, gna patch #4428.

commit 7e1045fef8164007487148dec830e67c68acd1b6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 16:43:51 2018 +0100

    New bitvector utility BV_CLR_ALL_FROM().
    
    See hrm feature #758950.

commit 78915e73d0c850e3c4bfd47a7c8911ea126362c7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 9 15:54:57 2018 +0100

    New utility advance_root_req_iterate().
    
    Using algorithm extracted from research_get_root_reqs_known().
    
    See hrm feature #758949.

commit 9aa056221dc79829e7fe8fb6e9d7e672c4c2dc4d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 12:34:35 2018 +0100

    More comments for advance_req_iterate().

commit 53a85c48f176252cb1a642fb53d3bf46afa012c3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 9 20:17:06 2018 +0100

    Rework comments about tech root_reqs.
    
    See hrm feature #758948.

commit 05e4e6c819828eb102f308faa4ef4a6d4a4d5cad
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 8 10:38:31 2018 +0200

    Port auto settler transform code to actions.
    
    Port agent controlled workers (ai/autosettlers) terrain transformation
    evaluation from activities to actions. This should make its speculation about
    whether the worker can transform a tile other than the one it currently
    occupies work again.
    
    A call to is_action_enabled_unit_on_*() replaced the hard coded check in
    can_unit_do_activity_targeted_at() for each activity that became action
    enabler controlled. is_action_enabled_unit_on_*() cares about distance
    between actor an target. This caused can_unit_do_activity_targeted_at() to
    lose it's ability to speculate about the actor unit's tile for action enabler
    controlled activities.
    
    Change as_transform_activity_iterate to as_transform_action_iterate and make
    it iterate over actions rather than activities. Make its users evaluate
    terrain transformation by using action_speculate_unit_on_tile() rather than
    can_unit_do_activity_targeted_at().
    
    See hrm Feature #758738

commit fc74950644cb7c86f118a8fb8ac47b1f007ed0e3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 7 16:48:51 2018 +0200

    Hard coded activity to hard coded action.
    
    Replace two can_unit_do_activity_targeted_at() calls where the activity is
    hard coded with action_speculate_unit_on_tile() calls with the corresponding
    action.
    
    See hrm Feature #758536

commit 78308435f8f3d031e8eed11d5d4d510ea490625e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 14:16:49 2018 +0300

    Fix syntax error when Windows start scripts run without a parameter
    
    Reported by frank e
    
    See hrm Bug #700914
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f44f8a8f9e833626441bc0c481f360b248378b9e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 8 09:56:07 2018 +0200

    Remove outdated comment.
    
    ACTIVITY_BASE hasn't been mentioned here for a while.
    
    See hrm Feature #758725

commit a063d701e589fb2a50e3915f74bcc6f62c2721a3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 28 14:47:18 2018 +0200

    Make agents build mines and irrigation again.
    
    Workers controlled by autosettlers stopped building mines and irrigation once
    action enabler controlled mine building (hrm Feature #753716) and action
    enabler controlled irrigation building (Feature #754873) landed. Fix it.
    
    A call to is_action_enabled_unit_on_*() replaced the hard coded check in
    can_unit_do_activity_targeted_at() for each activity that became action
    enabler controlled. is_action_enabled_unit_on_*() cares about distance
    between actor an target. This caused can_unit_do_activity_targeted_at() to
    lose it's ability to speculate about the actor unit's tile for action enabler
    controlled activities.
    
    Actor unit tile speculation with can_unit_do_activity_targeted_at() is only
    used in the auto settler code of ai/tex, ai/threaded and
    advisors/autosettlers. Its users can be ported to use speculative action
    enabler evaluation once all the activities it considers are action enabler
    controlled.
    
    Change as_extra_activity_iterate to as_extra_action_iterate and make it
    iterate over actions rather than activities. Make its users evaluate extra
    creation by using action_speculate_unit_on_tile() rather than
    can_unit_do_activity_targeted_at().
    
    See hrm Bug #758450

commit 20a0951c8860eb258bd42e57b920b6e4c1511c8c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 7 12:21:59 2018 +0200

    Speculative action enabler evaluation for all.
    
    Implement speculative action enabler evaluation for each target type.
    
    See hrm Feature #757520

commit 9dc933fb7374af8ffe73f09572a216aa8f98399d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 8 14:43:47 2018 +0200

    action_speculate_unit_on_city(): use actor_tile.
    
    Evaluating action_speculate_unit_on_city() in non omniscient mode would cause
    it to calculate the distance to the target tile using the actor unit's real
    tile rather than the (potentially different) user provided actor_tile.
    
    It was not yet used in non omniscient / cheat mode.
    
    See hrm Bug #758807

commit c59ac31e091e33fd9ba25ddac172d33b7b6be397
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 7 13:56:07 2018 +0200

    webperimental: avoid Freeciv-web error message.
    
    The Freeciv-web client sets the nationset setting automatically. This
    resulted in an error message while it was locked. Unlock it.
    
    See hrm Bug #758445

commit 055c071e7a1b053da866fb2706d265b2c8c38983
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 7 12:31:42 2018 +0200

    Shorter unit home city look up.
    
    A unit's home city is stored by its city id. This makes getting a unit's home
    city as a city struct require the developer to call game_city_by_number()
    with the unit's homecity. Introduce the new macro unit_home(). It automates
    looking up a unit's home city.
    
    See hrm Feature #758434

commit 89e3ed8d9bbbee7fe779a078f51fa19cc819f238
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 14:14:04 2018 +0300

    msys2: Build and install freeciv on one pass
    
    See hrm Feature #656417
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd6a418ae75b3583f06559ed1095956b47e2e9eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 14:13:33 2018 +0300

    Enable effect_edit dialogs in non-experimental ruledit
    
    See hrm Feature #737625
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb27bf173f08d25fcaff17ff1fb93922b0c13a8b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 4 10:04:43 2018 +0200

    protocol: causes and rmcauses are bit vectors.
    
    The extra fields causes and rmcauses are bit vectors but they don't use the
    bitvector type. Mark them as bit vectors in the network protocol. This makes
    the JSON protocol transfer them as Freeciv-web readable bit vectors.
    
    See hrm Feature #757429

commit 944944e051276c6fca37806298df66c1c8b40265
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 12:56:51 2018 +0200

    Speculative action enabler evaluation.
    
    Start by allowing speculation about actor position and home city. Use that to
    replace is_action_enabled_unit_on_city_full().
    
    See hrm Feature #755356

commit 31dce8c6f2a03b53c19a1f90d65c7fd1c2f7fa96
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 3 16:07:47 2018 +0200

    Validate extra target of incoming unit orders.
    
    Some actions that can appear in unit orders requires an extra target.
    
    See hrm Bug #757307

commit 2198fed29699bf92d55c49c229a7659b8987200d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 3 15:17:45 2018 +0200

    Centralize action ui ruleset variable name.
    
    Until actions becomes ruleset defined the ui_name must be defined via an
    action specific variable. Centralize the name of this variable for each
    action in action_ui_name_ruleset_var_name() to remove the need to add it
    twice per action.
    
    See hrm Feature #757304

commit 02cf897f4adbac080a2301b67ffee94e7acc7807
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 12:38:01 2018 +0200

    action module: mark action id variables.
    
    Use the action_id typedef to mark action ids. Adjust other places to keep
    ruledit and the Qt client compiling with the type change.
    
    See hrm Feature #757298

commit be9c21e953dd1e2b5aa9ea534b7d563654cae425
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 09:14:09 2018 +0100

    Reinstate sending policy names to client.
    
    This was accidentally lost in hrm feature #732522.
    
    See hrm bug #757296.

commit d60ca304c3d57c7b428ee3ebf9fd6445330c22ee
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 00:35:18 2018 +0100

    Rework civ2civ3/sandbox government help.
    
    Add some handwritten text, and use 'quiet' attributes to suppress
    autogenerated help for parts that are covered by the fixed text.
    
    See hrm task #657407.

commit 02ee5ca217c14166c84ea60a4304d10555b5ea17
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 2 18:29:47 2018 +0100

    Fix various bugs in unit orders.
    
    These were a consequence of hrm feature #741273 splitting target from
    extra in unit orders.
    
    I think the following visible bugs have been fixed:
     - Loading a pre-3.0 savegame could give network truncation errors.
     - Connecting with irrigation could give the wrong result if irrigation
       did not happen to be extra 0. (It is in all our rulesets.)
    
    See hrm bug #757270.

commit 7172b0ac86902642d4f8504a121371808f0e49c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 4 10:17:02 2018 +0200

    Comment grammar fix

commit fd13f041d6c581f0c0c2009cb83f32a3aeb7d153
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 2 09:57:24 2018 +0100

    Fix double spaces in Airport description.
    
    I introduced most of these while fixing hrm bug #727051.

commit a713ecaa35967b965f3a6fc9a53c58483cbe9480
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 14:09:10 2018 +0200

    is_action_enabled(): parameter tabs to spaces.
    
    Convert the tab indention in is_action_enabled()'s parameter list to spaces.
    This gets it out of the way so it can't cause merge conflicts for work in
    that area.
    
    See hrm Feature #757062

commit 93c7eaf1ab544de60afa6ec21fb50d38e77fefe9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 13:44:41 2018 +0200

    Comment fact fix.

commit 748a914df7b2da2cd01a9ea7ba8950928aa9dcdb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 28 13:57:19 2018 +0200

    Introduce the action_id typedef.
    
    Introduce a type definition for action ids. This should increase the
    readability in cases where the action id variable should have a different
    name.
    
    See hrm Feature #756188

commit b1dc697da52c261d87076b017d443688a5f25f4f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 12:20:50 2018 +0200

    client/*: avoid using the name "action_id".
    
    See hrm Feature #756893

commit 8b5873e3f3533d3fea14329192ada3d02d4b22ee
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 12:12:51 2018 +0200

    Qt client: avoid using the name "action_id".
    
    See hrm Feature #756892

commit 83be09b4357b4316809387a47afc8819fb990d99
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 31 16:15:52 2018 +0200

    SDL2 client: avoid using the name "action_id".
    
    See hrm Feature #756880

commit 9b66b16b77b7c93abcb3b727cb125f22e4f11b97
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 31 08:25:14 2018 +0200

    GTK clients: avoid using the name "action_id".
    
    See hrm Feature #756736

commit b482beec6fbe4d44e73f0f57abf32002edd74255
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 31 08:11:56 2018 +0200

    server/*: avoid using the name "action_id".
    
    See hrm Feature #756731

commit b369c5e1e7b758427fbc8e4d319da7f468d4c2b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 30 11:41:55 2018 +0200

    ai/*: avoid using the name "action_id".
    
    See hrm Feature #756596

commit 94221a8b3b474616df13079c99c6d7b271789c2e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 30 11:14:18 2018 +0200

    common/*: avoid using the name "action_id".
    
    See hrm Feature #756589

commit 68e18d48c3b3c5d48f918b861ed747c0e48cbafd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 29 12:48:03 2018 +0200

    action module: avoid using the name "action_id".
    
    See hrm Feature #756330

commit 87094497b0fb5ce34ffd968447dbc6a4650cd014
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 29 12:15:50 2018 +0200

    Allow a unit to continue pillaging.
    
    Reported by Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
    
    See hrm Bug #756325

commit e97c48ea46891180b749d1326bab123639798bfd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 29 02:35:26 2018 +0200

    GTK clients: intuitive unitsel*dlg button order.
    
    Make selection the rightmost button in the unit select extra / unit dialog.
    They are used for unit transport selection, pillage extra selection and for
    the action selection dialog's target unit/extra switchers.
    
    Requested by Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
    
    See hrm Feature #756225

commit 48799cd192e80aff9fc7b7780cc8c1042caff8e3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 28 15:58:15 2018 +0200

    protocol: avoid using the name "action_id".
    
    See hrm Feature #756189

commit e04f210c88457a7d1357e0962372fa3211263dce
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 28 14:32:33 2018 +0200

    Non action auto performer action list iteration.
    
    Factor out action_auto_perf_actions_iterate's action list iteration code to
    the new action_list_iterate iterator.
    
    See hrm Feature #756170

commit 663c0a9d7fe66483a74fae4f9c766dbdb5874e18
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 25 13:20:21 2018 +0200

    Introduce action_get_activity()
    
    Introduce the new function action_get_activity(). It returns the unit
    activity an action may result in, or ACTIVITY_LAST if the action doesn't
    result in a unit activity.
    
    See hrm Feature #756123

commit 4ccf08b0dc39d444b4dea38cda6005592260ba63
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 17:58:39 2018 +0100

    Better forecasting of tech loss in client UI.
    
    Mainly, take the 'techlossforgiveness' option into account.
    
    See hrm bug #756203.

commit 51261a7d517eb5fc5d8e15e284c599e4c462d2ab
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 16:22:40 2018 +0100

    Send techloss_forgiveness to client.
    
    This is a change to the network protocol.
    
    See hrm feature #756202.

commit ca959cc78281caaf505b8c0f43e24e402772fe9e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 14:32:33 2018 +0100

    Qt: fix assertion failure in science report.
    
    If the science report was drawn or refreshed while the player had no
    advance selected, or was researching future tech, an assertion failure
    message was printed on the console.
    
    Reported by Marko Lindqvist.
    
    See hrm bug #732483.

commit 96025231372d6f7b42891d91f9d14021f8a2a1fe
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 12:40:19 2018 +0100

    Document that Airports give veteran missiles.
    
    Reported by UukGoblin on IRC.
    
    See hrm bug #727051.

commit 3145c3050ec2709756f883356fb1a9232f5aeb03
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 12:23:53 2018 +0100

    Document the 'quiet' flag in requirements.
    
    Reported by GriffonSpade.
    
    See hrm bug #733917.

commit 3bf91db51225d78300f6bd35d097af84c613b86d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 11:32:39 2018 +0100

    Use more focused git dirty check when building.
    
    This avoids invoking custom diff engines, etc.
    
    See hrm bug #756106.

commit 0f650574b23125a6d52ac8c70f012111faf9a859
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 11:31:35 2018 +0100

    Qt: zealous_crop_rect() was too zealous.
    
    It would crop off the right/bottom row of pixels. (It's mostly used
    for displaying unit sprites off the main mapview.)
    
    See hrm bug #756105.

commit beb299287f4447a2e8fa9078e2b44f5f6aca88c3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun May 27 16:25:28 2018 +0100

    Qt: fix unit info bar for scale changes.
    
    The amount of space reserved for the unit sprite would change, even
    though the unit sprite itself remained about the same size.
    
    Also, ensure that it's refreshed whenever the scale changes.
    
    First symptom reported by GriffonSpade on the forum.
    
    See hrm bug #738922.

commit f398c2690fb10031f8e811cd3b396a3489e38b09
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 24 23:54:58 2018 +0200

    Simplify request_unit_pillage().
    
    Simplify the can_unit_do_activity_targeted_at() call to a
    can_unit_do_activity_targeted() call.
    
    See hrm Feature #755727

commit e83038042e70624b213f934d940f5a4f4feca3ac
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 24 23:54:40 2018 +0200

    Qt client: don't look up EXTRA_NONE.
    
    The patch for hrm Feature #750605 accidentally had the Qt client's action
    selection dialog look up the target extra without checking if it was there.
    
    See hrm Bug #755724

commit 4632934a933e6470d548ca3b2adb65e3cb603f50
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 11:38:10 2018 +0200

    GTK act sel dlg: extra target selection.
    
    Make it possible for the GTK clients to switch the action selection dialog's
    extra target like they already can switch its unit target.
    
    See hrm Feature #753303

commit 1706932937d58ba8784286fca16a6d60cc7060d4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 23 14:52:58 2018 +0200

    Make irrigation building enabler controlled.
    
    Introduce the new action "Build Irrigation". Use it to replace the
    Irrig_Possible effect.
    
    See hrm Feature #754873

commit 289450f6e1b350d88db2e5e58fec0c09a0f4bc90
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 22 10:34:58 2018 +0200

    GTK clients: fix radio button group issues.
    
    The unit select extra dialog and the unit select unit dialog in the GTK
    clients supports specifying a default target. The target selection is done by
    using radio buttons.
    
    The old implementation had radio button group issues (at least in some
    versions of GTK). This meant that more than one radio button could be/was
    selected at once. Change it:
     * Don't toggle any radio buttons before all radio buttons are added.
     * Specify radio button group by using the first radio button rather than by
       specifying the group manually.
     * assert that radio buttons for all target belong to the same group.
    
    See hrm Bug #754966

commit 96691a1166c0fda130d8bc48a6c8453ec10a96c9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 22 00:22:52 2018 +0200

    action_to_incident(): correct "Pillage" mapping.
    
    "Pillage" has its own incident type.
    
    See hrm Feature #754874

commit a6e2ebcba3bb605fbf1511afb3ac2aef3057d172
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 22 00:09:15 2018 +0200

    civ2civ3/sandbox: refactor irrigation enabler.
    
    Introduce two new extra flags to reduce the complexity of enabling
    irrigation extra building.
    
    See hrm Feature #754872

commit 2a7ce4927930051d0d504f5f19270a2724434137
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 16 08:28:01 2018 +0200

    Make mine building action enabler controlled.
    
    Replace the Mining_Possible effect with the new action "Build Mine".
    
    See hrm Feature #753716

commit 7f495a10103000ec96dc5203d70b764a6adc441a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 16 10:48:02 2018 +0200

    Comment fix

commit b458f804db5d6019de06def5b8c4d87280135a22
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 16 10:02:32 2018 +0200

    Constify can_build_extra()'s pextra parameter.
    
    See hrm Feature #753754

commit a50cfa9f40cbaf0c8cc4d3284ad767fc213b141d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 14 11:04:00 2018 +0200

    GTK clients: more informative pillage dialog.
    
    Use the unit select extra dialog to select target in the pillage dialog. This
    informs the player about the extra owner. It also shows how the target extra
    looks to help the player remember what the extra is.
    
    See hrm Feature #753305

commit 0c4771deabcfd592d4fd37e45f74d56e2638e091
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Fri May 11 23:27:39 2018 +0200

    Updated msys1 environment (cairo 1.14.12, pixman 0.34.0)
    
    See hrm Bug #736230

commit 5e458d8040bb9c708567c7e9994936089f72de4f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 15 08:19:30 2018 +0200

    SDL client: act sel dlg buttons for all actions.
    
    Add action selection dialog buttons for the new actions recently added to
    Freeciv.
    
    See hrm Feature #753517

commit 3aad9aa262bf6cbef7e20f3c952829a82d2bf69b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 11:33:11 2018 +0200

    GTK clients: unit select extra dialog.
    
    Add a unit select extra target dialog to the GTK clients. It is based on a
    copy of the unit select unit dialog. It includes the extra's icon and tells
    if the extra is present at the tile (or is targeted to be built) and who owns
    it.
    
    It is intended to be used in the action selection dialog as a "Change target
    extra" dialog in Freeciv 3.1. It could also be used to replace various action
    specific target extra selection dialogs with less information both in 3.1 and
    in earlier branches.
    
    See hrm Feature #753268

commit 643d6b300efab022c47de4b8d6ee8de0c19ff75e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 11 21:52:29 2018 +0200

    Qt client: act sel dlg buttons for all actions.
    
    Add action selection dialog buttons for the new actions recently added to
    Freeciv.
    
    See hrm Feature #753157

commit a6dd8959e70d746f5adc95474fefe89475de5ba9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 9 11:13:59 2018 +0200

    Document "Road" in README.actions
    
    See hrm Bug #752361

commit 9403bee0fcb58c543cbcc986a109d9904f8bf2d8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 9 11:09:55 2018 +0200

    Interpret move as action: support extra targets.
    
    Note that no current tile extra targeted action can make use of it. The
    "move to tile is illegal - try to act" handling can't be done because they
    all require that the actor is at the target tile. A move to a tile the unit
    legally can move to is always interpreted as a move since they all set the
    rare_pop_up action field.
    
    Included for consistency to avoid confusion if someone should create a tile
    extra targeted action that can make use of it.
    
    See hrm Feature #752360

commit 1b25722c29bd52f8f6c1d8cc25756d1557ea6869
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 9 10:02:01 2018 +0200

    Comment grammar fix

commit 2064ab975de604525c0db342acd94f65d930c480
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 9 10:00:13 2018 +0200

    Sync header comment with Freeciv-web.
    
    Sync utype_can_do_action()'s header comment with Freeciv-web.
    
    See hrm Feature #752336

commit 85539992737affe1e7182a81ec38262fe75fae7e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 11:18:49 2018 +0200

    GTK clients: Share editgui's create_extra_pixbuf().
    
    Make editgui's create_extra_pixbuf() non static and move it to sprite so it
    can be reused.
    
    See hrm Feature #752141

commit 8e77d394158f4a3335e6372f8cd2d748d1b5f035
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 7 20:43:43 2018 +0200

    GTK clients: act sel dlg buttons for all actions.
    
    Add action selection dialog buttons for the new actions recently added to
    Freeciv.
    
    See hrm Feature #752063

commit 22371811ff521cb6d2e394be729ce4c227103ea3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 09:28:45 2018 +0200

    unit_get_actions: guess "Pillage" extra tgt too.
    
    See hrm Feature #752062

commit 91ed2bb04badcc674d8d188bd1b27628b0b30782
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 08:57:16 2018 +0200

    Introduce action has a sub target check.
    
    The function action_requires_details() is about mandatory client specified
    sub targets. Action's like "Pillage" has a sub target (the extra to pillage)
    but the server will pick a sub target if the client don't specify one.
    
    Introduce the new function action_id_has_complex_target() so it becomes
    possible to check if an action has a sub target at all.
    
    See hrm Feature #752058

commit 862e558224e04d0bfc7700604b97424621a9b39e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 29 15:52:56 2018 +0200

    Make base building action enabler controlled.
    
    See hrm Feature #750400

commit 4be09698c40489b2c38cea6650ca8bf1e15bf752
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 7 14:44:12 2018 +0200

    Freeciv-web: send unit type can do action cache.
    
    Freeciv-web is unable to calculate what actions a unit type may be able to
    perform. This makes it hard code what ui elements to show when a unit is
    active based on its unit type name.
    
    Introduce the new packet web_ruleset_unit_addition. Send the unit type can do
    action cache in it.
    
    See hrm Feature #750505

commit 5ce491d70bb522e5cf6d0e85042e26a8eba73ed7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat May 5 18:39:16 2018 +0100

    Use "Linear" tech_cost_style in civ2civ3/sandbox.
    
    This is the same formula that was previously set in the ruleset by hand,
    so there's no functional change.
    
    See hrm feature #731498.

commit 5b941ee273ca2e0cd2adab72c74c8d7972a70ecf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 00:54:06 2018 +0200

    Freeciv-web: send expected income to the player.
    
    Freeciv-web is unable to calulate expected income. It therefore patched an
    extra field into the player_info packet.
    
    Introduce the new packet web_player_info_addition and give it an
    expected_income field.
    
    See hrm Feature #751250

commit 53bf515bda33d36f93c7f69a91f385dbe4b1cf91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 18:07:50 2018 +0200

    GTK clients act sel dlg: add "Road" button.
    
    Add a button for the "Road" action to the action selection dialog of the GTK
    clients.
    
    See hrm Feature #751196

commit ad508e43d0fc18c5238da0ef109a932170a059c0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 20:56:59 2018 +0200

    unit_get_actions: guess when no extra tgt.
    
    The unit_get_actions packet asks the server what actions a unit may be able
    to perform against certain targets. If no target unit is specified the server
    will pick the first unit at the target tile the actor unit may be able to
    perform any action against. Do the same for target extras.
    
    See hrm Feature #751193

commit 3af711e2501db0044af832b2c43efcde4d27b1a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 17:44:07 2018 +0200

    GTK gui act sel dlg: 0 -> IDENTITY_NUMBER_ZERO
    
    Replace the magic number 0 with IDENTITY_NUMBER_ZERO for city and unit ids in
    the action selection dialog of the GTK clients.
    
    See hrm Feature #750939

commit f0c0487e2373949a2f14d62aa54ab1024b7af8e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 2 23:07:35 2018 +0200

    Act sel dlg: 0 is a valid tile id.
    
    The action selection dialog of the Qt client and of the GTK clients used
    IDENTITY_NUMBER_ZERO to represent "no tile". But IDENTITY_NUMBER_ZERO is 0, a
    valid tile id.
    
    Use TILE_INDEX_NONE in stead. It is set to -1, an invalid tile id.
    
    See hrm Bug #750777

commit 176991381ac400ee42242ce83c803fab325dcb35
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 4 15:50:21 2018 +0200

    Comment grammar fix.

commit e6882dc3ed4255da3b114ee67747021dc5a6a5a4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 4 00:23:59 2018 +0200

    Fix segfault with non road extra.
    
    Fix server crash when a non road extra is given as the extra target of the
    "Road" action.
    
    See hrm Bug #750987

commit e9e937654f4e970a03c9b9942cb996195d4a1df1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 4 00:15:07 2018 +0200

    Comment grammar fix.

commit c80aebf5bec5591e3b2d200c3d102be07ffb0a2d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 1 19:17:41 2018 +0200

    ruleup: set name to game.control.name.
    
    Set it to the ruleset's name field like ruledit does. It used to be set to
    the ruleset directory (game.server.rulesetdir). Changing this removes a
    source of variation in the upgraded ruleset.
    
    See hrm Feature #750642

commit 94240ca254b29984563c6e003a7de1518469204d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 1 19:17:28 2018 +0200

    ruleup: log failure to load comments.
    
    See hrm Feature #750637

commit d2b2a72fd0102993049545a315237de999574664
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 1 12:42:01 2018 +0200

    act sel dlg: keep extra target information.
    
    A refresh of a client's action selection dialog would throw away the extra
    target id. This could make extra targeted actions illegal or accidentally
    switch their target. A refresh could be triggered by something completely
    unrelated to the extra targeted action.
    
    Keep the extra target information in the action selection dialog. (No bundled
    client has an action selection dialog that supports extra targeted actions
    yet.)
    
    See hrm Feature #750605

commit 7f7e436ae89819448058b6cf228ed64e22f76dd6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 30 05:02:15 2018 +0200

    Consistent act sel dlg diplrel change refresh.
    
    Unit and city targeted actions refreshes an open action selection dialog when
    the diplomatic relationship to its owner changes. (The action selection
    dialog isn't refreshed on owner change.) Make a change in the diplomatic
    relationship to the owner of the action selection's target tile do the same.
    (An owner change may make the player's diplomatic relationship to the owner
    different. This, like many other changes that can make an action (il)legal,
    doesn't refresh the open action selection dialog. If the specific case of
    owner change is worth an action selection dialog refresh it can be added in a
    follow up patch.)
    
    See hrm Feature #750435

commit aa2180a1145456e3d72c0203d4e17f92e2826e91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 14:40:34 2018 +0200

    Comment grammar fix.

commit a13f6fdeecbe31bef081be8bee83d8ac9002c698
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 1 00:35:46 2018 +0200

    Use extra target when performing action.
    
    Use the extra target parameter given to unit_perform_action() when starting
    an action that requires (or wants) an extra target.
    
    See hrm Bug #750547

commit 1e51b115de50d55adfb1bf75b95e6f7333ee0287
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 25 03:45:43 2018 +0200

    protocol: add target_extra_id to unit_actions.
    
    Return what extra the packet unit_get_actions asked about when replying in
    the unit_actions packet.
    
    Only the minimum required for adding it to the protocol is done. No server
    side target extra selection added even if doing so is possible. The
    information isn't used by the C clients yet.
    
    See hrm Feature #750401

commit 832a08803550d617a01d488f1f4a2b901ee6d38b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 30 11:37:08 2018 +0200

    Send correct "no extra" value.
    
    Send EXTRA_NONE, not MAX_EXTRA_TYPES, when requesting an update to the action
    selection dialog because a diplomatic relationship changed.
    
    See hrm Bug #750478

commit fb855bafe678c6edce5b6a9d7bf6c49fbda4f623
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 30 02:48:32 2018 +0200

    Don't do "Road" because "Pillage" is illegal.
    
    When an action is illegal in unit_perform_action() it won't return. Handling
    of an action in its switch statement should therefore break. Without a break
    an illegal action could continue into the handling of the next action.
    
    Add break after the handling of the "Pillage" action and after the handling
    of the "Road" action.
    
    See hrm Bug #750426

commit f792f50b657169f19cf5c01e808c23b758d3cf3c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 25 16:02:01 2018 +0200

    Make the "Fortify" action self targeted.
    
    The "Fortify" action has an effect on the actor unit, not the target tile. It
    can get all the requirement information it needs about the tile from actor
    requirement vector.
    
    See hrm Feature #750403

commit 19c03509d8912c9b6e1b13314be3e07a9c753326
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 30 10:12:42 2018 +0200

    Introduce TILE_INDEX_NONE.
    
    IDENTITY_NUMBER_ZERO can't be used for tiles since 0 is a valid tile index.
    There are probably remaining instances of magic numbers representing an
    invalid tile index. Introduce it anyway so new code can use it rather than
    making the problem worse.
    
    See hrm Feature #750470

commit 06b7c913023706d2262c3eb266ae01e1629455ac
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 29 17:28:35 2018 +0200

    Prepare for more ruleset tests.
    
    Create a new folder rs_test_res for ruleset test resources so they won't
    appear to be independent tests. Move ruleset_is.lua, the script responsible
    for reporting if a ruleset loaded, to the new folder.
    
    Factor out the list of rulesets to check when no ruleset is given on the
    command line from tests/rulesets_not_broken.sh. Do the same for it's check
    that a single ruleset loads.
    
    See hrm Feature #750406

commit d1652fdbd722e2186de2faabf83a80b0bf5a41d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 29 14:59:13 2018 +0200

    Freeciv-web: user changeable game and map seed.
    
    A player connected via the web client don't have hack access. But Freeciv-web
    needs a reproducible game for its benchmark. It therefore allows its users to
    set the server settings mapseed and gameseed via a custom patch.
    
    Give Freeciv-web players the ability to set the server settings mapseed and
    gameseed. The new more liberal access rules only apply when FREECIV_WEB is
    defined.
    
    See hrm Feature #750402

commit 243bcac8dc9814f65f372cced2b7c3a052f3f9c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 29 15:35:03 2018 +0300

    Refactor network stream uncompressing
    
    Retry uncompressing with bigger buffer if it first fails
    due to to small buffer. Made initial buffer size smaller than
    old one that was meant to be big enough for all cases without
    retrying.
    
    Patch by simsulla, with minor changes by me
    
    See hrm #747319
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 454a22a66ef8b7cef358b05baa5543520bb53ddd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 27 14:51:45 2018 +0200

    protocol: simplify away CITY_COORD.
    
    Freeciv sent city relative tile coordinates in the packets
    CITY_MAKE_SPECIALIST and CITY_MAKE_WORKER. Freeciv-web sent global
    coordinates.
    
    Unify by sending the tile id. This simplifies away the CITY_COORD packet
    field (type alias).
    
    See hrm Feature #750254

commit 417f1f3a74d9c4651ebaf9061fea85385d4936f6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 29 10:34:10 2018 +0200

    Comment fix: make corner case reason clearer.
    
    Add example solution to the corner case about how the flags "CanFortify" and
    "Cant_Fortify" interacts with the "Fortify" action to make why it is a corner
    case obvious.

commit a9b377ab5dc28544043352097d81a97b632f03f2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 27 01:39:08 2018 +0200

    Action selection dialog button for "Convert Unit"
    
    to all bundled clients.
    
    See hrm Feature #750155

commit 39439bd95f74b38b0b8688cb604f3a6aa63736f0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 26 13:30:48 2018 +0200

    "Fortify" action: be consistent WRT flags.
    
    The unit class flag "CanFortify" and the unit type flag "Cant_Fortify" have a
    similar effect on the "Fortify" action. Handle them the same way. (Make them
    both obligatory hard requirements for now.) Document the current situation.
    
    See hrm Feature #750025

commit f3d4c12bbb3ef6a382ecdaa3e216abad33bb7fe7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 26 00:51:17 2018 +0200

    webperimental: introduce oceanic Leader unit.
    
    Make the Leader unit able to convert to the new oceanic "Leader Yacht" unit
    type (and vice versa.) This allows the Leader to move on shallow water
    without being transported.
    
    This can be used as a last desperate means of escape from a land only attack.
    The main reasons for introducing it is to allow the player to trade the risk
    of game loss by having his Leader killed for early game exploration before a
    Trireme can be built. (Planned future patches will extend the benefits of the
    risk beyond exploration.)
    
    See hrm Feature #750031

commit 431e679714ddeccf63dac3c0202d71c4f5922159
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 25 15:47:32 2018 +0200

    Call global Casus Belli "international outrage".
    
    Use the term "international outrage" to describe when an players action gives
    every other player a Casus Belli against him. A name and a description is
    easier to remember than just a description.
    
    See hrm Feature #749404

commit 4df361157639321cc98e55808436492c6e3a5330
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 24 00:29:28 2018 +0200

    protocol: drop hard coded impr list field type.
    
    The Freeciv protocol has had building_list, a custom network protocol field
    type for transferring lists of city improvemetns (building). It had no JSON
    implementation. Freeciv-web patches out all its users. The lack of an JSON
    implementation caused a segfault in the help system in Freeciv JSON builds.
    
    Replace the building_list field type with arrays of IMPROVEMENT. This keeps
    the type information intact. It uses the same amount of space in the binary
    protocol. It makes Freeciv's JSON protocol transfer its fields. It becomes
    possible to view the Nation help text in JSON clients.
    
    See hrm Feature #748929

commit a07570b62dfceec7a286da69a560f0509cd567fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 23 09:49:24 2018 +0200

    protocol: drop hard coded tech list field type.
    
    The Freeciv protocol has had tech_list, a custom network protocol field type
    for transferring lists of techs. It had no JSON implementation. Freeciv-web
    patches out all its users.
    
    Replace the tech_list field type with arrays of TECH. This keeps the type
    information intact. It uses the same amount of space in the binary protocol.
    It makes Freeciv's JSON protocol transfer its fields.
    
    See hrm Feature #748774

commit 835f665ba2239e89321bf2232d0a4ba2e44628c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 22 21:19:09 2018 +0200

    protocol: drop hard coded unit list field type.
    
    The Freeciv protocol has had unit_list, a custom network protocol field type
    for transferring lists of unit types. It had no JSON implementation. This
    caused a segfault in the help system in Freeciv JSON builds. Freeciv-web
    patches out all its users. The unit_list field type was only used in one
    packet.
    
    Replace the unit_list field type with an array of UNIT_TYPE. This keeps the
    type information intact. It uses the same amount of space in the binary
    protocol. (The elements-to-transfer field takes up the same amount of space
    as the termination code value.) This makes Freeciv's JSON protocol transfer
    its fields. It becomes possible to view the unit help text in JSON clients.
    (Nation help will still crash because of other missing information.)
    
    See hrm Feature #748728

commit 695b5fb68ebe2b17197f4fced99e7333b319c12e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 23 05:22:29 2018 +0200

    Assert that data->result is there.
    
    Add assertion that data->result is there before reading data->result->dest.
    
    See hrm Feature #748740

commit 476103c1946c52893280682850c80fc7ec354805
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Apr 21 20:11:25 2018 +0200

    JSON protocol: log unimplemented field types.
    
    Logging unimplemented field data types makes their absence more visible. This
    helps warn people experimenting with build settings when missing packet
    fields cause trouble in non web JSON builds. Logging will also help a
    Freeciv-web developer that tries to use a new part of the Freeciv protocol
    realize that the cause of his problems lies in the Freeciv server's JSON
    support rather than in a bug in his web client code.
    
    See hrm Feature #748545

commit f7c91b1b3fe2747f9ffe6bcf68e83bca80cbed1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 16 07:33:08 2018 +0300

    installer_cross: Update to crosser-1.5
    
    See hrm Feature #739266
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59a6267a8e17f97e3d298fced7eab09d5f451b52
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 20 21:55:01 2018 +0200

    Properly break "Attack" unit help generation.
    
    The custom action help generated for the "Attack" action in the unit help
    would only break if tired_attack was enabled. This would cause a segfault on
    master when generating action help for a unit able to do "Attack" but not
    "Convert Unit" in rulesets (like Classic) that didn't set tired_attack.
    
    Break at the correct location.
    
    See hrm Bug #748407

commit 8e1bb904e1d2351d77f9ca5fc714b33d8b3bd225
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 20 01:54:22 2018 +0200

    Continue reading 3.0 effects after upgrade.
    
    Continue reading effects after a 3.0 effect replaced by an action enabler is
    upgraded to the enabler.
    
    See hrm Bug #747770

commit ee71376e684a520812134891f99121692249cb2b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 19 02:59:36 2018 +0200

    Add compat enablers when upgrading 3.0 ruleset.
    
    Compatibility action enablers for actions that recently came under enabler
    control was created but not added when upgrading a 3.0 ruleset. Add them.
    
    See hrm Bug #747767

commit 4f88569016c17aaf7677d1504fd02207cfe8c612
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 19 02:08:46 2018 +0200

    Make utype conversion action enabler controlled.
    
    Control the unit type conversion activity with the new action enabler
    "Convert Unit".
    
    Requested by Marko Lindqvist (see gna patch #5605) and by Caedo (see
    gna patch #5953)
    
    See hrm Feature #747765

commit a29f03cdfb5ab358dea39d5ef9017b43aca68609
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 18 01:22:21 2018 +0200

    Let "Attack" cause a diplomatic incident.
    
    Allow the action Attack to cause a diplomatic incident via the effect
    Casus_Belli_Success.
    
    Note that the "Attack" action currently only can be performed against enemy
    unit stacks. This limits the use of the Casus_Belli_Success effect with
    "Attack" to international outrage (give all players a Casus Belli against
    the attacker) and the "DiplRel" requirement type's "Has Casus Belli" and
    "Provided Casus Belli" properties.
    
    See hrm Feature #747549

commit c94c2f2aef9b4bf6e4b762ac106768b667bed824
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 17 14:49:21 2018 +0200

    Clean up client specific action selection state.
    
    The GTK clients, the Qt client and the SDL client supports only one unit at
    the time in their action selection dialog process. (More than one would,
    given their current UI design, be confusing.) To prevent a new action
    selection dialog from popping up before the player is done with answering
    follow up questions a client specific variable, currently named
    is_more_user_input_needed in all of them, is set.
    
    When the answer to a follow up question failed to arrive, say because it was
    illegal, the before mentioned clients wouldn't be informed. The would
    therefore keep is_more_user_input_needed set. This would trigger an assertion
    failure when the next action selection dialog popped up.
    
    Introduce action_selection_no_longer_in_progress_gui_specific(), a new GUI
    specific call back function that lets the client know that the specified
    unit's action selection process is over. Make the clients with this bug unset
    is_more_user_input_needed unsets it in their implementation of it. Call it
    from action_selection_no_longer_in_progress().
    
    See hrm Bug #747465

commit b0f65a69d798f43bc592aaae7567c21101c48454
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 16 07:31:33 2018 +0300

    installer_cross: Fix creation of ruledit link for Qt-client packet
    
    See hrm Bug #747102
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b487f71db78663c7fc6c9e6a0a2b9f0b483942f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 16 10:51:13 2018 +0200

    Remove obsolete "unit can act"-checks.
    
    Practically all unit types from 3.0 are able to perform some action.
    
    See hrm Feature #747185

commit c5a8c0526aac24f6b3d459b54b1c5c6f601aae10
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 14:52:18 2018 +0200

    protocol: allow background action info requests.
    
    Add the disturb_player field to the packets used for getting information
    required for action related follow up questions. It works like the packets
    used to get information about what actions a unit may be able to perform.
    
    Example use case: asking about many units at once and presenting the answer
    in  a single dialog.
    
    See hrm Feature #747147

commit 10982d7fff9bdcc1cf27c9929cd0f363830b39ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 15 19:32:36 2018 +0200

    Notify owner(s) of healing/healed units.
    
    All that the feed back given when the "Heal Unit" action happened was that
    the healing unit would run out of moves and the healed unit would display the
    added hit points. This made it easy to miss that the "Heal Unit" action
    actually happened. Add notification messages to make it clearer.
    
    See hrm Feature #747034

commit 620e0ee2c36d989349e04da4643daad8d5a28abc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 15 15:18:47 2018 +0200

    Inform player about illegal action punishment.
    
    Notify the player when the Illegal_Action_Move_Cost effect causes one of his
    units to lose movement points.
    
    See hrm Feature #747005

commit da9b2000e4fe48fc287a107edb0a157fe6a6113c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 14:01:26 2018 +0200

    SDL2 and stub: add popup_upgrade_dialog().
    
    The function popup_upgrade_dialog() is declared in dialogs_g.h but it was
    missing from the clients stub and sdl2.
    
    See hrm Feature #746988

commit 534a449ff7eab1bc8245c9e89dc5ef3e4900d2d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 13 18:21:58 2018 +0300

    Make uncompressed buffer size 150 x compressed size
    
    Old uncompressed buffer size of 100 x compressed size for zlib in
    network packet uncompressing was not big enough.
    
    Reported by Meynaf
    
    See hrm Bug #746878
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3181d2067a0bf0492c9b26c63ee65fa7cd9a5ea1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 3 01:12:06 2018 +0300

    civ1: Disallow unit upgrading
    
    See hrm Bug #741525
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1fb43d496ff08cd5a3eafa43f5f06d0f370fa97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 15 17:09:14 2018 +0300

    Autodetect JSON mode on the server side
    
    Patch by Louis Moureaux
    
    See hrm Feature #745597
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9aade90203c5b0bdedf258379089eb5b978e6f18
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 12 08:54:39 2018 +0200

    SDL2 client: action dialog isn't city dialog.
    
    The function popup_unit_upgrade_dlg()'s city parameter is whether it is
    called from the city dialog. Stop setting it to the target city.
    
    See hrm Bug #746510

commit 8c327a1acac38ed157353e2cb9a3dc9a6a87f68d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 10:55:23 2018 +0200

    Move comment next to what it documents.
    
    Move documentation comment in dai_upgrade_units() about how only the player's
    own units should be upgraded right below the check that a unit is domestic.
    
    See hrm Bug #746481

commit d07ba8f83652f64b813a81b16969f827d8f5dfaa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 10:50:59 2018 +0200

    Document non bug with assertion.
    
    Document and assert that tgt_utype in handle_unit_action_query()'s unit
    upgrade price sending can't be NULL.
    
    See hrm Feature #746479

commit 00a368386f408e01e7e27d464c2292acf3572847
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 14 13:24:24 2018 +0300

    Make Road building action enabler controlled
    
    See hrm Feature #742986
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40b53efb124bf8481f453868f9d3478ff05e6b42
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 14 09:36:43 2018 +0300

    Make it possible to switch between JSON and native on a connection basis
    
    Patch by Louis Moureaux
    
    See hrm Feature #745596
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6fd886d655fe04c5b5534f0f3c491015e7269243
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 09:22:32 2018 +0200

    Drop action_id_consequence_caught().
    
    It had no users.
    
    See hrm Feature #746211

commit e5ed607069a735fd448f6984a1b98020b26aa5df
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 10 08:36:30 2018 +0200

    Drop action_id_consequence_success()...
    
    ...and make its last remaining users, the action performers of "Heal Unit"
    and "Help Wonder", use action_consequence_success(). This requires them to
    take the action as a parameter rather than hard coding what action was
    performed based on the action performer. Getting the action explicitly will
    be useful if actions become generalized.
    
    See hrm Feature #745951

commit eb878977b3163153c71ee77a505386c3d7920f85
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 13 14:37:43 2018 +0200

    Comment fix: "Lates" -> "Latest"

commit e2c88bcc93c6e921562d4c9b58e76e8c9eca20ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 9 00:02:42 2018 +0200

    Settling action performers: unhardcode action kind.
    
    Take the action as a parameter rather than hard coding what action was
    performed based on the action performer. Getting the action explicitly will
    become useful if actions become generalized.
    
    See hrm Feature #745647

commit 02e9317ec276fafc96e67e889fd417cb4e66fb2c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Apr 7 19:54:44 2018 +0100

    multiplayer: Allow caravans to help small wonders.
    
    But not the Palace, only the ones that are analogues of great wonders in
    other rulesets.
    
    This ability was lost in hrm bug #705580.
    
    See hrm bug #745360.

commit 46757f35a372e7ec3e3d8839be8886ed0e1bae72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 3 01:59:48 2018 +0300

    Use accessor functions for GdkEvent fields
    
    See hrm Feature #743786
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 539676f4b336156d4733a572434c726bbd529031
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 9 04:06:09 2018 +0200

    Comment indention fix.

commit c054703aca998076f6437b373728a9ff83cf4abd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 6 10:04:41 2018 +0200

    Make Git ignore generated test script...
    
    ...when the build tree is in the same directory as the source tree.
    
    Reported by Akakij Bzdrishchenko
    
    See hrm Bug #738661

commit 785e5fe463e6a385f001e787c6d6fa64eb4ef631
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 6 04:51:08 2018 +0200

    Attack action performers: unhardcode action kind.
    
    Take the action as a parameter rather than hard coding what action was
    performed based on the action performer. Getting the action explicitly will
    become useful if actions becomes generalized.
    
    See hrm Feature #744801

commit 6e4ddd69b708b1f9c99717220c03e2329f0eca35
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 14:34:10 2018 +0200

    Trade route action performer: drop est_if_able.
    
    The function responsible for performing the actions "Establish Trade Route"
    and "Enter Marketplace", do_unit_establish_trade(), used to find out its
    action kind based on est_if_able, a Boolean parameter.
    
    If the actions them self rather than just their enablers becomes generalized
    more than one marketplace entering and/or trade route establishing action
    will be able to exist at the same time. This will make it impossible to find
    out what action was taken based on est_if_able.
    
    Replace est_if_able by directly taking the action being performed as a
    parameter.
    
    See hrm Feature #744702

commit 8fc4757539acd969b86b8b43ab52fa5fde1382aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 13:20:09 2018 +0200

    Nations: "the the" -> "the" in Suebian legend.
    
    See hrm Bug #744672

commit ea82b428cb73f5a7bc4363531c95506694090dd6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 13:01:25 2018 +0200

    Developer documentation: "the the" -> "the"
    
    See hrm Bug #744666

commit 46d2774b34d62fac6a40fb47ed491c2336e50bb1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 12:16:25 2018 +0200

    License summary: "the the" -> "the"
    
    See hrm Bug #744655

commit 31d04fa74056bfb46fb531d98b87f4d739d2031f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 11:40:04 2018 +0200

    Inline key_unit_nuke().
    
    The function key_unit_nuke() was only used by the SDL2 client. Inline it.
    
    See hrm Feature #744640

commit e67071564e272e123523296458cd443d073af365
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 8 06:42:02 2018 +0300

    Replace Conquer_Techs_Min and Conquer_Techs_Max with Conquest_Tech_Pct
    
    See hrm Feature #743602
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c46adba1094891ed5762a86e026980f23d18305
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 13:32:37 2018 +0200

    Comment fix: "the the" -> of/that/to the

commit ab6b68c887bc79cb5bdb6e6ef4dbcd891640de7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 12:09:50 2018 +0200

    Comment fix: "befor" -> "before"

commit b03bf402932a020c723d9ed7807d4388431a1085
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 3 12:43:00 2018 +0200

    Qt client: Deduplicate "Go to and..." menu items.
    
    Remove the independent "Go And..." menu entries for city founding, for
    joining a city and for detonating a nuke. They duplicate entries in the "Go
    to and..." menu.
    
    Add the keyboard shortcuts of the old independent menu items to the items in
    the "Go to and..." menu to keep them working.
    
    See hrm Feature #743992

commit 91329e6801c7ecc105bb27c7c1e08312d4ceed7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 3 11:49:27 2018 +0200

    Qt client: Configurable goto Build/Join shortcuts.
    
    Make the shortcuts of "Go And Build City" and "Go And Join City" user
    configurable.
    
    See hrm Feature #743990

commit 22347a035998f77174b0d92c40ffa3b16ac7f9c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 10:45:44 2018 +0200

    Comment fix: "the the" -> "the"

commit 0e96eee2c3ba91fb62a7bb034a42fe30d9b75699
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 3 01:12:27 2018 +0300

    Make Fortifying action enabler controlled
    
    See hrm Feature #742419
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit faeabc176df43f16043169dd12a943e855b21765
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 31 13:13:30 2018 +0300

    Make Pillaging action enabler controlled
    
    See hrm Feature #741274
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9c5d3d9c90ab9c8dcdb991ddff97866fbe59c99
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Mar 31 20:47:00 2018 +0200

    AI: Fix city targeted spy actions.
    
    Stop confusing the target city with the target extra.
    
    See hrm Bug #743594

commit fd73486598b10401fb9e4faffa718452135e2120
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 28 20:49:40 2018 +0100

    GTK clients: Deduplicate "Go to and..." menu items.
    
    Remove the independent menu entries for city founding, for joining a city and
    for detonating a nuke. They duplicate entries in the "Go to and..." menu.
    
    Add the keyboard shortcuts of the old independent menu items to the items in
    the "Go to and..." menu to keep them working.
    
    See hrm Feature #743592

commit f708414d599873f77de17f60c77732d892cb5863
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 2 09:51:25 2018 +0300

    dos2unix all .spec files
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3a00e7808ba03e682387a6b03b6cccbfce72cc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 31 13:11:28 2018 +0300

    alien: Use indexed sprites as specialists' graphic_alt
    
    See hrm Feature #740505
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b14ccf00c20b4d8f470b5335d89a986c2a78b5ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 28 18:43:44 2018 +0300

    Drop check against leftover acinclude.m4 from an ancient build
    
    See hrm Feature #733584
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 667d973feffe0907dc9e221435f2ab7fb59ab495
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 31 03:03:37 2018 +0300

    Fix accidental syntax-breaking change to sandbox ruleset
    
    See hrm Bug #743523
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 038c5746ab71e08f99bb1fa4340bb9d355c35a23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 28 18:46:44 2018 +0300

    Unify action ui_name ruleset entry prefix to 'ui_name_'
    
    See hrm Bug #740114
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e458ff09d450932523095d59117296c4ed1d668
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 28 18:07:05 2018 +0300

    Add support for actions targeting also extras
    
    This makes it possible to have action enablers for actions
    that affect extras.
    
    See hrm Feature #738333
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de5a5b267b3116b3223515e15747f0dd38c40a86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 25 12:25:10 2018 +0300

    installer_cross: Remove extra space from the path to freeciv-gtk3.22.exe
    
    See hrm Bug #742075
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91578bac5688ccef48a755f4dbce3265708225eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 22 00:13:41 2018 +0200

    alien: Make bombarding units stronger
    
    Increase attack value and bombard rate of all bombarding
    units.
    
    See hrm Feature #740487
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10c56d613a1d76f0c2d83e368d677d6f75633aec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 21 00:40:49 2018 +0200

    Separate extras from action targets in unit orders structures
    
    See hrm Feature #741273
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2801e2b25e9e0c0bdaa07ecc2f53793ecdb91ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 21 06:32:08 2018 +0200

    alio: Add Force Fortress and Tower
    
    Art by GriffonSpade
    
    See hrm Feature #741300
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bdc6eef514b0d624462dc94f53b85a9f8200f80
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Mar 4 15:55:10 2018 +0000

    Refresh open city dialogs for changes in worked tiles.
    
    It was possible for the city dialog not to get updated when workers
    got auto-arranged, if the worker pattern changed without any net
    change to the city output. Now PACKET_TILE_INFO has the side-effect of
    refreshing those cities that are/were working a tile.
    (There remain types of tile change that ought to cause a city dialog
    refresh but do not.)
    
    Reported by "Pierre R".
    
    See hrm bug #736822.

commit bb03374dc76e217c90a3936b13b9469e1c6585f3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 24 11:22:26 2018 +0000

    Updated Polish translation by Hubert Kowalewski
    merged from S3_0 b5e7cad812. Stats on master:
    core: 98.0%: 7318 translated, 88 fuzzy, 60 untranslated.
    nations: 99.9%: 1842 translated, 1 fuzzy.
    ruledit: 88%: 94 translated, 7 fuzzy, 6 untranslated.

commit 8611baf0a2e3beb39201aa9c6294fdea3e7760b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 18:10:26 2018 +0200

    rulesave: save action ui_name only if it's different from default
    
    See hrm Feature #740121
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dffcc4668368dff14683b8c2a84e4f6ff7060b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 21 05:19:38 2018 +0200

    alio: Copy roads.png from hexemplio, use highway sprites
    
    See hrm Bug #740425
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4423a3719bcfc0d9cc22d878c5cf4689bf222225
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 20 19:25:52 2018 +0200

    Rename themes/gui-gtk-3.0 as themes/gtk3
    
    Total filepath length needs to be shortened for the tarball
    creation to work.
    
    See hrm Bug #740207
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9892cd586c3f0ee7655667e33c1ae4797ab533f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 17:27:48 2018 +0200

    Introduce action_ui_name_default()
    
    Move actions' default ui_names from ruleset.c to a new function.
    
    See hrm Feature #740464
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5627c3d7f76f6387dda0f5a99b01d50a185174c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 18 09:30:21 2018 +0200

    Use "specialist.entertainer" graphic tag in supplied rulesets
    
    See hrm Feature #739924
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae6fc482e67a9734cab6e2ef56af7de293dd9dbf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 19 15:37:38 2018 +0200

    Update hexemplio
    
    GriffonSpade's Hexemplio updates as of 14-Mar-18
    
    - Make Lakes to correctly match lands
    - Dirty pixel cleaning on water images
    - New sprites for Lakes, Oceans, Deep Oceans
    - New River outlet sprites
    
    Art by GriffonSpade
    
    See hrm Feature #731454
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa459b8f421953336c3839e8bd4a6b11e5bf5a3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 18 19:46:54 2018 +0200

    README.msys2: Update list of make targets
    
    - Document default target "all"
    - Remove unsupported target "gtk3-installer"
    - Improve documentation of "snapshot" target
    
    See hrm Feature #740593
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 312be3c8cf9a4f26c85da5e4e7dda3d16d2be934
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 18 06:22:09 2018 +0200

    installer_cross: Drop svn repository support
    
    See hrm Feature #740489
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 016250979f0283ea525a7cf56b0c91d943864cb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 18 04:44:52 2018 +0200

    Rename themes/gui-gtk-3.22 as themes/gtk3.22
    
    Total filepath length needs to be shortened for the tarball
    creation to work.
    
    See hrm Bug #740207
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4914307cccd249b79314d5aac2992cbf68f44090
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 09:59:47 2018 +0200

    Replace "Irrig_TF_Possible" and "Mining_TF_Possible" effects with enablers
    
    See hrm Feature #735703
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3691c6b335a7c0a24ae2bc3053cf9b1048404176
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 10:32:58 2018 +0200

    Recurse to gen_headers subdir first
    
    If freeciv_config.h or fc_config.h header needs regenerating, it should
    be done in the beginning of the build, so that no part of the build
    uses outdated versions.
    
    See hrm Bug #740444
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b764567ba28eb70f672a697b2f0b4afe1da52300
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 09:46:42 2018 +0200

    Drop effect "name" backward compatibility code
    
    See hrm Feature #733008
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8db5b774d173501786bbe1961de746b6bc25d19c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 09:48:35 2018 +0200

    ruledit: Add multipliers tab
    
    See hrm Feature #735247
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a04b308a70aa95161e4f7af204b02988e5d1b53
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Sun Mar 18 03:32:11 2018 +0500

    Update of Russian translation.
    
    core: 7465 translated messages.
    nations: 1843 translated messages.
    ruledit: 103 translated messages.

commit b0e98630e1c6707ad56aab0a805e2ff0cac1b276
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 15 16:07:38 2018 +0200

    Add ui_name support for Transform_Terrain action
    
    See hrm Bug #739976
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b4409afca9e63a96e40dffaa382c84c5599f421
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 01:14:34 2018 +0200

    Add ruleset conversion log dialog for ruledit
    
    See hrm Feature #733556
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d46e48aa0fabdc92a59275fe8e31a2295965df36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:30:11 2018 +0200

    Add "All effects" effect_edit dialog
    
    See hrm Feature #737478
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5153fcaa3787348052d242a688a671b3b7779469
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:24:26 2018 +0200

    rscompat: Add "Settler" requirement to actions created from _Possible effects
    
    When _Possible effects from 3.0 format ruleset are converted to actions,
    add "Settler" unittype flag requirement for them.
    
    See hrm Feature #734361
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2e6673f097c77d922f853dbabe0f055cdfc3422
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:29:25 2018 +0200

    sandbox: Set max length of combats to 15 rounds
    
    See hrm Feature #735849
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 831b9a5c3a4f6324a69b775ed153a8be331c5f4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:15:53 2018 +0200

    Refresh all effect_edit dialogs when effect in one changes
    
    See hrm Feature #732499
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ed4626cdb0f36ec7be6022c035d83cfb8f7b816
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:32:45 2018 +0200

    Unify behavior of primary specialist graphic tag and alt tag
    
    Support images indexed by citizen number in specialist alt tag
    Support plain tag in primary tag.
    Indexed images are preferred.
    
    See hrm Feature #738278
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66057ceb66363187ec75afc4f84e1066b7907a1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:19:16 2018 +0200

    tex: Use tex ai player data unit list in military_advisor_choose_build()
    
    See hrm Feature #732767
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b79cdd240a3df0077f2e82c028ab67e863dfa5a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:24:07 2018 +0200

    Add ruleset conversion log callback support
    
    When ruleset is loaded in compatiblity mode, and automatic conversion
    can't work perfectly, pass messages from the ruleset loading module
    to the tool using it with a new logging callback.
    
    freeciv-ruleup is currently the only user implementing an callback.
    It push received messages to log_normal()
    
    See hrm Feature #733496
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b62fa1820b0e8062c0cde110c4e87bf2af952135
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:30:52 2018 +0200

    freeciv.project: Fix typo
    
    See hrm Bug #737996
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ff4beff9c55b028a957af618c5e2f18b52b2009
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:17:37 2018 +0200

    Give an error if suggested tileset cannot be loaded after user accepted
    
    See hrm Bug #657414
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df7f406039c5891a09a52d54ce74b119e3d72f6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 14 15:25:02 2018 +0200

    Make combat rounds effect controlled
    
    See hrm Feature #732541
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e444011773ef670208741e8719d8a5f0862fc1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 14 00:36:03 2018 +0200

    Separate specialist rule_name and graphics tag
    
    Add separate graphic tag for specialists. This far they have
    been using tag derived from their rule_name.
    
    See hrm Feature #738265
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0daa082df4883dc0e305c151f19c0007dcc6939
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:11:12 2018 +0200

    client/t*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b4f9e0430dd4573a0dacb0d4efe194a63bba119
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:33:10 2018 +0200

    Use 'nullptr' instead of '0' in update_xxx_info() calls
    
    See hrm Feature #738301
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f8d0965abb04e649a3782df5daf0ee446f1bef0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:14:17 2018 +0200

    client/gui-gtk-3.0/[uvw]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 667e9eff7e0cc7ebb2a51a93d27e381ebd0da244
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:18:12 2018 +0200

    Fix gcc8 warnings
    
    See hrm Bug #731162
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0df1fac49aa81715e8f0003878d85bbdc16fab1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:13:54 2018 +0200

    client/gui-gtk-3.0/[st]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7969b39e6c7fcb93eab9ddc9be4afe8980119b9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:23:31 2018 +0200

    Replace "Transform_Possible" effect with "Transform_Terrain" enabler
    
    See hrm Feature #732503
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd11f5135f0f03c3023f6a021458232802d60f06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:13:32 2018 +0200

    client/gui-gtk-3.0/[opr]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b17e4f684b729da1e384dbff7708cbc50a3c4c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:33:52 2018 +0200

    Fix 'unterminated character constant' warnings
    
    See hrm Bug #738908
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9975bcdd052e3c18b437a79d05d1cd54aef5b86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:13:13 2018 +0200

    client/gui-gtk-3.22/[uvw]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df51252f5d0eb7fb06f66d0a926da82e9c485277
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:19:43 2018 +0200

    installer_cross: Run exes with path
    
    Make .cmd files to look up exes with dynamic path instead of assuming that
    working directory is freeciv installation root. Running from other
    directories still doesn't really work for the reason that data files
    won't be found.
    
    See hrm Feature #731495
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f6f3fe9ea0d804e303d8effb51792cd73fc8d8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:12:52 2018 +0200

    client/[uvz]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 599925eadf1e96feb1e185961bd516cc57d193ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:26:01 2018 +0200

    ruledit: Show multipliers count in ruleset stats
    
    See hrm Feature #735246
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0752c7260d4b9fdb395bcdb31a787b85bd99c53f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:12:33 2018 +0200

    client/gui-gtk-3.0/m*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5909b63aaee81dc4571822cd238caf5478d5c645
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:29:46 2018 +0200

    Rename E_UNIT_WIN as E_UNIT_WIN_DEF
    
    See hrm Feature #734544
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f00f9ba6e7a8dbd2f35a1f4704a0ca0b1b9dbe8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:12:13 2018 +0200

    client/gui-gtk-3.22/[st]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e57202cc43e8c60d24856d70fb060ff7cf24c6ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:20:50 2018 +0200

    Send whether unit type is suitable for autosettler activities to client
    
    See hrm Feature #734637
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0bda9cfd403a2c5182e86d7ddb3e805c9345d72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:11:51 2018 +0200

    client/gui-sdl2/w*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9dcefaf21160082ad7d68af1be9307b8c6a9bac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 12 18:44:15 2018 +0200

    Increase Output_Waste_By_Distance granularity
    
    Make value of the effect 1/100 of a point of output / tile of distance
    
    See hrm Feature #733815
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fecc0d4078e47c90c7e80e1a2ad5543fc421103a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:07:52 2018 +0200

    client/gui-gtk-3.0/[hil]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f562e5d8a23547f7baff14a1719dd6569ce956e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:21:26 2018 +0200

    Travis CI: Enable NLS
    
    See hrm Feature #735952
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 418325f86ef9eae15c4212c7e2ba0fb8fc63c652
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:07:31 2018 +0200

    client/gui-gtk-3.22/[opr]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23b29e515b1cd9d138091258b3f95f6ec4ee92f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 04:55:35 2018 +0200

    Add requirement vector for multipliers
    
    See hrm Feature #732522
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4285ffd783373e6907a2df9a99dd9a5df979bf43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:07:12 2018 +0200

    client/gui-sdl2/[uv]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 015a17ce1b910553ccfcc553038d78d425831a24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 04:52:39 2018 +0200

    Disallow opening multiple effect_edit dialogs for the same object
    
    See hrm Feature #732266
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4d59017d4042247484a4d2d253decd357b4b616
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:06:53 2018 +0200

    client/gui-gtk-3.0/g*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4c3fdedc7586fd7e499e84e1e5ec3d2ab5f615c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 04:51:09 2018 +0200

    tex: update world object instance by unit moves
    
    See hrm Feature #731235
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb1ba210a5094616702ce8779e5e275acad3894f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:06:20 2018 +0200

    client/gui-gtk-3.22/m*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28240460a15157e7b7aad4869c7694d198cd00de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:02:30 2018 +0200

    Cache unit suitability for autosettler activities at ruleset loading time.
    
    See hrm Feature #734171
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf4e0733a8b8d9397d83045eed78357efc3b928a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:06:01 2018 +0200

    client/gui-stub/[stvw]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1180060e854f20ef2c1d94975be7ee578fd44830
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:25:33 2018 +0200

    Replace tabulators in units.ruleset graphic_alt documentation with spaces
    
    See hrm Bug #738321
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f519f724038e6d6fb795843561e92bafe41a2a32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:05:40 2018 +0200

    client/[rs]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bfcd2e51fe96e4984c3ccb01e4bf6da135c9ece
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 04:50:35 2018 +0200

    tutorial: show message on any tech acquisition
    
    It used to show the tech acquisition messages only if tech
    was researched.
    
    Requested by Jacob Nevins <jtn>
    
    See hrm Feature #657359
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6afba6e3f62509a1dd2b98b6a348ca0e950c7083
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:05:22 2018 +0200

    client/gui-gtk-3.0/[ef]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c2f164e756256e199ef6ded31cf5c341f03c0b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 8 17:11:21 2018 +0200

    Use freeciv-gtk3.22.desktop as desktop file for freeciv-gtk3.22.appdata.xml
    
    See hrm Bug #738290
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e8feefbb8bb3b734be6595a2504810c17379132
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:10:19 2018 +0200

    client/gui-gtk-3.22/[hil]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6367e335c82a9443694b659bf3192f30ed207fb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 7 16:18:06 2018 +0200

    Show earlier movement animations even if unit died meanwhile
    
    See hrm Bug #737277
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b5979bf26e6c523201a131cba7b7a1c97d91161
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:10:00 2018 +0200

    client/gui-sdl2/[st]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e49c1941c486a1e43a2a170b0a42edf8171dfd7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:41:04 2018 +0200

    Make fc_strlcat() utf-8 aware
    
    See hrm Feature #731228
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37e7f4f326be988646b3cab367321d68cceb7a9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:09:39 2018 +0200

    client/gui-gtk-3.22/g*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 574c66135b5d559f20d24813227014462cc3e579
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 8 16:39:04 2018 +0200

    Add server setting combatrounds
    
    Requested by Dalibor Perkovic
    
    See hrm Feature #729194
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8bd5f2c79b8ee409efe3f1ed7c50c8889e6baf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:09:20 2018 +0200

    client/p*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91f6ab0f3dbd145a5c306d7481b0561d5a67fba6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:29:46 2018 +0200

    sandbox: Convert 25% of the citizens to the nationality of the conqueror
    
    See hrm Feature #733781
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0eb97cb1ddb04108c1401c71eac2d5b75e0785b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:09:02 2018 +0200

    client/gui-gtk-3.0/d*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6a1046dd7b9fac1a36e8bebbd4672c79cdf4dd0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:40:05 2018 +0200

    Make freeciv-web specific topology documentation say it's about freeciv-web
    
    See hrm Feature #730987
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e8522e4ee020d2af37734af25c4c30e12ca8c6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:08:44 2018 +0200

    client/gui-gtk-3.22/[ef]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fde8b5abb4a69fe2289a115ab68dbd3596bc9e12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:42:00 2018 +0200

    msys2: use snapshot.project only when building snapshot build
    
    See hrm Bug #656537
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e286aef1054170274388c600d4a2b544c6eeb1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:08:25 2018 +0200

    client/gui-gtk-4.0/[uvw]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59e9640cd6f7497d2161ed77b70ac4d9958547e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:53:23 2018 +0200

    Add univs_have_action_enabler() utility function
    
    See hrm Feature #732794
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d39a13df5e215432d8de49f1e978148c5883c2c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:08:07 2018 +0200

    client/gui-sdl2/[opr]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 43ec8f6ff8188289c5bce1dd9ddb489dbb871125
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:41:42 2018 +0200

    tex: maintain player specific unit lists
    
    See hrm Feature #731242
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9924666a6d86a2355612f20884a9435b1abf1d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:07:46 2018 +0200

    client/gui-stub/[mopr]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c5ab25d688b18607514ac0e1cc876cbe1f68978
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:40:46 2018 +0200

    Add ruledit_gui::open_effect_edit()
    
    Use it instead of opening effect_edit dialogs directly from various places.
    
    See hrm Feature #731171
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f39b8517b62a7342a080910cc9d1d0a326a553a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:07:28 2018 +0200

    client/gui-gtk-3.0/c*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edb78e938fed62270691e8c4de6a64b648b7f921
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:36:47 2018 +0200

    Travis CI: Build stub-client
    
    See hrm Feature #735951
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4d6f821c786ea72afe8f4c75a56e87b3febfdaf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:07:05 2018 +0200

    client/gui-gtk-4.0/[st]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4661bce6beceb6bf7285aead5855ca8e9ebe4b94
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:40:28 2018 +0200

    README: Update log levels documentation
    
    - Document literal log levels, and recommend them over numeric
      values.
    - Document new "warning" log level
    
    See hrm Feature #656464
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93c82a4935b8ae7c1addc89459b6225b094f9b68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:06:47 2018 +0200

    client/o*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c038848f27c3b82eedc12c7adeba6bfb1b3a078
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 23:38:28 2018 +0200

    Fix a bug that when steal_a_tech() gives future techs, it gives two of them
    
    Reported by javaxubuntu
    
    See hrm Bug #736836
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4b9a569956cf59e2245e13506504e53f028fa96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:06:29 2018 +0200

    client/gui-gtk-3.22/d*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f8b5ae970c1f222f05df9167e276fbb93a79326
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 20:51:39 2018 +0000

    More ruleset checking for resource/base/road sections.
    
    Check that an extra with cause "Resource", "Base", or "Road" has a
    corresponding [resource], [base], or [road] section.
    (Previously, failure to do so would cause an assertion failure and
    server crash.)
    
    Check that the extra referenced in a resource, base, or road section
    has cause "Resource", "Base", or "Road" respectively.
    (Previously, if they didn't, the resource/base/road section would be
    quietly ignored.)
    
    See hrm bug #736838.

commit 322b088428904c857f62c7a6ef278c7717eae475
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 20:55:00 2018 +0000

    Document extra causes vs sections.
    
    Extras with "Resource"/"Base"/"Road" in 'causes' require corresponding
    [resource_*]/[base_*]/[road_*] sections.
    
    See hrm bug #736837.

commit b8141b7f09a0b0195c9d99cee383b9d025cfcaf2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 19:58:24 2018 +0000

    Extra help: state how to build them.
    
    Also, rearrange autogenerated extra help into a more logical order.
    
    See hrm feature #736833.

commit a90bcd2f0036a7085ba6b93aecbfa7b21b7c3d8f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 16:56:08 2018 +0000

    Help: more control over bullet points.
    
    Caller can decide whether insert_allows() or req_text_insert*()
    clauses have a bullet point before each line.
    
    Generated nation helptext has had some bullets removed.
    
    See hrm feature #736830.

commit 8f67c96652487a09a76075731e0b4a2443986f18
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 15:13:59 2018 +0000

    Fix typo about oil wells in classic-derived rulesets.
    
    Reported by Joan Creus.
    
    See hrm bug #736795.

commit 8ac9fd3ec642fea65a1303979e3c0b60efd83979
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:36:00 2018 +0200

    scripts/capabilities: Update soundspec/musicspec capstring format
    
    Make development version soundspec and musicspec capstring formats
    capabilities-script documents to match current practices.
    
    See hrm Feature #735940
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 189430762eab1ca4de53620050858645ccaf8041
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:06:10 2018 +0200

    client/gui-gtk-4.0/[opr]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f87f5d6e9d2d0f5c62f9c6b1751e72a031f8ae2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:35:23 2018 +0200

    Distribute freeciv.supp
    
    See hrm Feature #735850
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 979deb0815940882f8164b20f76da9c5f7ed9ebc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:05:52 2018 +0200

    client/gui-gtk-3.0/a*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd3b8922c32894124bd8beeef5ea01a58070996d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:30:06 2018 +0200

    Improve tech cost documentation
    
    Patch by S.C. L. (Caedo) and myself
    
    See hrm Bug #699149
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4bc6e1eb3491e40bb4038267c63087c1b5d12bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:05:33 2018 +0200

    client/gui-gtk-4.0/m*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93ded081ee5e60406dcecba31ba740e18de2348b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:30:25 2018 +0200

    sdl2: set width of empty string to 0 in utf8_str_size()
    
    See hrm Bug #684183
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b45a099a1ca95b4e2490ad52bbcc28639c7051fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:05:15 2018 +0200

    client/gui-sdl2/m*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c30a740ca36302e554adecfba3436b821035b786
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:42:57 2018 +0200

    sandbox: Add Conquest_Techs_Min and Conquest_Techs_Max rules
    
    Getting a tech with city conquest is never guaranteed to give techs.
    In early game you randomly either get no techs, or one tech from
    the player losing the city. After University is known, no techs are
    got from the city conquest.
    
    See hrm Feature #732488
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9519d84e7789a08c52e2b90bf59f9dbf76eedf2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:04:57 2018 +0200

    client/luascript: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4f5470a40a95091fae02b913c6a7ca46ec3a675
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:01:05 2018 +0200

    Fix actiontools.c TRANS: comments syntax
    
    See hrm Bug #731568
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ca8f477ccb92e225296e6519676840b7fce44ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:04:36 2018 +0200

    client/gui-gtk-3.22/c*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2bcbd41a335af337bd7632c5a495c289105c450f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:32:22 2018 +0200

    Free worker tasks
    
    See hrm Bug #735637
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbebe0ca67af7f848205abcab4354a5bec1f69e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:04:19 2018 +0200

    client/gui-gtk-4.0/[hil]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f77923d1a2e2f290098e0488125bd184809ddcf1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 20:49:07 2018 +0200

    Double movement rates for multiplayer ruleset
    
    Patch by Andreas Røsdal
    
    See hrm Feature #654404
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8aa680f164029a1abfa6605f42e6037aaf0e0eed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:26:33 2018 +0200

    client/gui-sdl2/[hil]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58cf7c83a88467cb59967360d6bb75c2606dcb75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 27 20:16:14 2018 +0200

    Correct event type for attacker victory messages
    
    Couple of messages referring to attacker's victory were sent
    with event type E_UNIT_WIN that means specifically defender's
    victory. Send them as E_UNIT_WIN_ATT instead.
    
    See hrm Bug #735934
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c472a2f99ff5513c85ba36184a984e15fe5019ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:26:15 2018 +0200

    client/gui-qt/[vw]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2c6af004ec68aaf3b7d2c7a58eaa5e19b84fbe7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:05:02 2018 +0200

    Make fc_strlcpy() utf-8 aware
    
    See hrm Feature #731220
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe6941a825808a1f00aaef27bddc1f6e58701efb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:25:58 2018 +0200

    client/m*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df458da2ee333313db70519490c0a8080db097a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:04:22 2018 +0200

    Fix alien ruleset typos.
    
    Patch by Konstantin Vedeneev and myself
    
    See hrm Bug #730591
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4aacff4119b59d9046278329049d590709bec8b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:25:40 2018 +0200

    client/gui-gtk-4.0/g*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51db0bd8c1c89ed922bfa86e194c0fec27c8e441
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:10:52 2018 +0200

    Update appdata file format
    
    See hrm Bug #690231
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5be5d498f0e967e9ee350868938c8ce30fb80d73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:25:22 2018 +0200

    client/gui-sdl2/g*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22072da6302057edaaf2c417ea7acc76f36eb2d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:11:12 2018 +0200

    Fix clang-6 warnings
    
    See hrm Task #733013
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6433274bfa1bac65214baaf92ccfa3fe75d62a2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:25:00 2018 +0200

    client/gui-gtk-3.22/a*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 745f2aeebda01b9ce4b808ce53799069770307ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:09:22 2018 +0200

    civ1: correct calendar progress
    
    Reported by meynaf
    Correct behavior researched by Akechi
    
    See hrm Bug #731631
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3787516fb654055aefad32f72308f11657a23d8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:24:39 2018 +0200

    client/gui-qt/[rst]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f80b007237bcfd60744dae3944d480a373e5dde
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:00:43 2018 +0200

    Correct handling of action names with length of MAX_LEN_NAME
    
    See hrm Bug #729806
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ae840ff2988016bafea49d47bfc2faf7ba6543f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 26 18:11:05 2018 +0200

    Revert "Updated msys1 environment (cairo)"
    
    This reverts commit 1fd2fc4f9b60355fa61d1195bf2076954189dce4.
    
    The cairo update was causing UI crashes.
    
    Reported by Kryon
    
    See hrm Bug #735238

commit 6a11c149f0a037d15e4f960a6a47908d488c65d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:24:19 2018 +0200

    client/gui-gtk-4.0/[ef]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e47be384d531d41f570595197f171483e73cb2a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:03:32 2018 +0200

    Convert some citizens to the nationality of the conqueror
    
    When city is conquered, convert ruleset defined percentage of
    its citizens to the nationality of the conqueror.
    
    Patch by Matthias Pfafferodt <syntron> and myself
    
    See hrm Feature #657145
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aae9c759836b2296101e92475b237ac33168a3ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:01:16 2018 +0200

    classic: Clarify summary claims about classic rules
    
    Don't make it look like having classic ruleset in use would automatically
    mean that all the rules are in their classic values. Make it clear that
    server settings affect that too.
    
    Reported by Joan Creus
    
    See hrm Bug #730586
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5019ad290149834b1f9f48ac10926ae69201768c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:23:59 2018 +0200

    client/gui-stub/[ghil]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24e7df82f47023ff28ba5077a3eeec7bfe34f506
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 25 14:25:19 2018 +0000

    Fix conflict markers left in civ2 Airbase help.
    
    Reported by Marko Lindqvist.
    
    See hrm feature #733913.

commit 9058db4e259d12da3295537eb5a5e59a3a8a4b93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:18:27 2018 +0200

    Rename fc_client::main() as fc_client::fc_main()
    
    This works around an problem that when SDL headers are included,
    they define 'main' as a macro that mess call to fc_client::main()
    
    Reported by nctrd
    
    See hrm Bug #734798
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df396e84855715aa3916d88e261192fcbf583968
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:23:36 2018 +0200

    client/[hl]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 557f950dbc69dd997ab4cfb27aea7fa98bb887a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:13:48 2018 +0200

    Refactor Farmland effects
    
    Instead of negating extra effect on city center,
    negate city center special bonus if also extra is present.
    
    See hrm Feature #733792
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d5c4c58505086b11cb0af8ea0fc3363ec92d2da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:23:13 2018 +0200

    client/gui-qt/[opq]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6815e85d31f40120d134bfa43ed7e36727efea60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:08:03 2018 +0200

    Make it possible to load unit to another transport at the same tile
    
    Requested by Jacob Nevins
    
    See hrm Feature #732489
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4617b6955aa2f2b6269ccd3d87e5ea9d2d5ffea7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:22:51 2018 +0200

    client/gui-gtk-4.0/d*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f4cee1567d63018821e0c0f21f07682174cb32a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 18:46:54 2018 +0200

    Comment fix: tech_precalc_data() -> techs_precalc_data()
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ba7b15d7348605a616087820c8c4955503ac650
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:19:41 2018 +0200

    Fix remaining uses of 'F_' prefix flags to 'UTYF_' prefix
    
    A couple of instances found in a comment and code commented out.
    
    See hrm Bug #729900
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 986838fc6a53650b579fb5f69bb9394f81b7783f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:36:57 2018 +0200

    client/agents: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15e801cde2bb314b530e62926d0f8f4f86daf448
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:26:03 2018 +0200

    Error out if tileset requested with --tiles can't be loaded
    
    See hrm Bug #730777
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0684422348c46e52dd2419d00697f2e8621a302
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:36:38 2018 +0200

    client/gui-sdl2/[df]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f27dec7748eea281e87b8944eb5a5c097d7b070
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:00:57 2018 +0200

    Remove remainders of the special handling of "unused" terrain name
    
    See hrm Feature #707585
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83a713146d0f017edd5ac5ae4a40ffb8e0fd857b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:36:17 2018 +0200

    client/gui-qt/m*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f726dcab7be0fda2ca8afa524d0d396be19f3ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:32:58 2018 +0200

    Make adv_settlers_road_bonus() to return adv_want
    
    See hrm Feature #733050
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2036f06397a34e638ca60e3f7655a0e501cc7990
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:35:59 2018 +0200

    client/gui-stub/[cdf]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28932f158513f7a6516877809f7f5d962aed3ec3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 19:28:08 2018 +0000

    Brief help for the Policies concept.
    
    See hrm feature #733929.

commit 4c29265d13f3f687185f3d4a9eec947454b8b0af
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 19:27:03 2018 +0000

    Move extra help from helpdata.txt to rulesets.
    
    The onus is now on rulesets to describe irrigation, mining, and pollution.
    
    Also, various corrections and additions about extras in supplied rulesets.
    
    See hrm feature #657410.

commit 3d14bf2726016d9e35c0efd547ada6cd0ec1214b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 19:51:33 2018 +0000

    Reduce clutter in extra help with 'quiet' attribute.
    
    Apply it to CityTile requirements preventing bases in cities, and to
    civ2civ3/sandbox requirements restricting what Transports can build.
    
    See hrm feature #733913.

commit 2dab45ac7de007498134ded87a4dbfb4e4ba6814
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 18 11:48:08 2018 +0000

    Help: document extra removal time (simple cases).
    
    Terrain-dependent removal time is still not documented.
    
    See hrm feature #733898.

commit 9d9a19ce09513eef26b7ee2c772de43f48d3119e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 18 10:07:14 2018 +0000

    Add pillage time to Terrain Alterations help.
    
    See hrm feature #733895.

commit edaed5576a61c2a7caa93b739db5c3d5dd119e6a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 18 12:11:04 2018 +0000

    Terrain Alterations help: fix omission of cleaning activities.
    
    Only cross-check a terrain's cleaning time if the cleaning activity can be
    done on the terrain at all. The prevention of cleaning activities on the
    Inaccessible terrain was stopping the activities' time being listed in the
    help in some rulesets.
    
    See hrm bug #733902.

commit 1cf1286a181eb669e5171fd7ce7d09eb5a8237e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:18:17 2018 +0200

    msys2: Run exes with path
    
    Make .cmd files to look up exes with dynamic path instead of assuming that
    working directory is freeciv installation root. Running from other
    directories still doesn't really work for the reason that data files
    won't be found.
    
    See hrm Feature #696674
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c551f63a385c4be57db94b26c4d16c3c20f39d99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:35:39 2018 +0200

    client/g*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e61e3391e268936a095eb5aec89ead691c13120
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 20:55:39 2018 +0000

    Extra help: prevent orphaned "Requirements to build:"
    
    See hrm bug #733865.

commit a5f160c5674de3081b5f60dfa176355346cf6459
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 19:28:18 2018 +0000

    Help: don't list extras forbidden by terrain *_time=0.
    
    This stops spurious extras showing up in Inaccessible terrain help.
    
    See hrm bug #733863.

commit 224d90ceebee99e6e634995bbfb045a335a8a310
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:21:00 2018 +0200

    Unload unit from current transport when it tries to move to new transport
    
    The unloading was erronously attempted from the new transport.
    
    Reported by Jacob Nevins
    
    See hrm Bug #693380
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 465d969ceda3a7183904018f3e8188befa325d0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:35:17 2018 +0200

    ai/default/d*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b30680f01a71d796ddbad02b02ffaf7f9aff7af4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:19:02 2018 +0200

    alien: Fix references to civilizations to factions
    
    See hrm Bug #729810
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6abdda586fe20da10f75a1f6c28ea3ec516073df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:34:54 2018 +0200

    client/gui-qt/[il]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f130b2883c15e005f8b00b030b3a6e46cbef14de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 05:23:22 2018 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1dfc9edceb169ed8af2cd7b20a082410b29c4572
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:19:22 2018 +0200

    Clean out dirty pixels from most amplio2 files
    
    Patch by frank e and myself
    
    See hrm Feature #692596
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2435f723eb30cb979435c46ac9805ea157d59bd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:25:55 2018 +0200

    client/gui-sdl2/c*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52dfda2b413fa68d8b65b4a0971244720d230502
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:17:00 2018 +0200

    ai: set tech goal to A_UNSET when there's no possible goals any more
    
    Reported by Jacob Nevins
    
    See hrm Bug #695971
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ae950bd95c95b8d728ac32e9afc3004687d3a54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:25:37 2018 +0200

    client/gui-qt/[gh]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 271e4e77eb4f92f52fef5e14cfa06342ce18bc3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 17:45:42 2018 +0200

    Add missing xgettext:no-c-format comments to rulesets
    
    Patch by Konstantin Vedeneev and myself
    
    See hrm Bug #721454
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be7aaaee025d9e7bfbc37f528e3d43d0189a1190
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:25:19 2018 +0200

    ai/threaded: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea47e8f1de7e6a9bfc794fc69ad9850feca6a31b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:12:59 2018 +0200

    alien: Split Space Module helptext
    
    See hrm Feature #730504
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f670ee24e2e5383649b13f4d19df22eb38e85f9d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 16:17:41 2018 +0000

    Tweak Gtk terrain conversion help.
    
    Remove the fixed header of mining/irrigation/transform results in favour of
    rows added alongside the available extras, as needed (similar to the Qt
    client).
    This means that we no longer have "Mine Rslt/Time: n/a" when the result of
    mining is extra(s), and also means that the resulting terrain from
    conversions is hyperlinked.
    
    See hrm feature #732512.

commit 9f71d9ec220628702758527b03e3ae183788a0d6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 10:33:55 2018 +0000

    Help: document per-terrain extra bonuses.
    
    Each terrain's help for the Gtk and Qt clients now indicates, in
    addition to which extras can be built, what production bonuses they
    can be expected to give (if the relevant effects are straightforward
    enough).
    
    See hrm feature #732512.

commit 072c2e6f8f674a61be41ea339b6ff58d74c1d7f7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 13:55:18 2018 +0000

    Rejig Irrigation_Pct effects in rulesets.
    
    No functional effect, but the city centre auto-irrigation effect is now
    treated as more of a special case, making the main irrigation-like extra
    effects simpler. This will assist the autogenerated help (and perhaps
    the AI?)
    
    See hrm feature #732512.

commit 0b20a460ab091f7c579d96e406594992b6f0d3fd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 11:31:08 2018 +0000

    New function effect_value_from_universals().
    
    This evaluates only effects that match a specific template of
    requirements, ignoring more complex effects with other conditions.
    It can be used to evaluate what intrinsic properties a source or
    combination of sources (such as extra+terrain) has, independent of any
    other game state; this is useful for autogenerated help.
    
    See hrm feature #732512.

commit fd68766e1c68ccbe3b639072e9c8f8794c6a18fe
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 10 21:16:11 2018 +0000

    More types for universal_fulfills_requirements() etc.
    
    These functions can now work with extras and output types.
    
    See hrm feature #732512.

commit 28e7513b8bdca5d81b31c8b7815fa1f193a5fe1c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 14:24:45 2018 +0000

    New universal_fulfills_requirement().
    
    This exposes the ability to check the detailed relevance of a single
    requirement to a source.
    
    Note, the previous function with this name has been renamed to
    universal_fulfills_requirements() (plural). (It has a different number
    of arguments, so old users will fail to compile.)
    
    See hrm feature #732512.

commit 9c3e627f6a2097a4a74a66ce1fe5a91b14516c06
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 10 20:46:39 2018 +0000

    Expand comments for universal_fulfills_requirement().

commit 0845fb215e9fdccfe2365d6e7e1db6885f0ae7e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:24:58 2018 +0200

    client/gui-gtk-4.0/c*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b99b9676f6869acbc17753b2da59b084375d889
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 13 20:43:43 2018 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04a334f989f2329e6b756218a863496d2e0b6b3d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 13:53:06 2018 +0000

    Fix errors in Qt help for terrain conversion.
    
    See hrm bug #732507.

commit 3a925a52e5ce35de9be37c2e4f3772301889d1b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:10:36 2018 +0200

    Hexemplio: Add cities graphics
    
    Also hexemplio derivatives (toonhex, alio) updated
    
    Art by GriffonSpade
    
    See hrm Feature #729137
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85cf68b6b5687f838c02052414d166e782311b49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:24:39 2018 +0200

    client/gui-qt/f*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95d2f010c528ee8f5f4ca4c033341e29fb6d56a9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 10 19:10:51 2018 +0000

    Document further sandbox ruleset liberties.
    
    We don't guarantee graphics availability or savegame compatibility.
    
    See hrm feature #732480.

commit e890e2674dc73daaa5b4dc869beac00a6b97a8d8
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 10 16:57:40 2018 +0000

    Improve ruleset docs for mining/irrigation bonuses.
    
    See hrm bug #732479.

commit 07df27b1767b69b34c8d46fa76498864dddeb2a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:11:35 2018 +0200

    Setup drawing_data even if the terrain has empty rule_name
    
    See hrm Bug #729532
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cef2d8616ab55d01db863e6c2d285f49e686b3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:24:18 2018 +0200

    client/e*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8d158e94d1ad123c3c2bf3f4b347c69b5ab364e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 11 22:57:33 2018 +0200

    Fix typo preventing loading of civ2 ruleset
    
    See hrm Bug #732538
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad65d93390301a5ad6166ec219c0b0014f5036b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:14:36 2018 +0200

    Add tech_cost_style "Linear"
    
    Requested by Jacob Nevins
    
    See hrm Feature #695972
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1eef7fc330705a76200bb04d277199a289de7da3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:11:10 2018 +0200

    Fix erronous error message about invalid research goal
    
    If a savegame has invalid current research, loading it gave
    an error about research goal too even if it was ok.
    
    Reported by Jacob Nevins
    
    See hrm Bug #729275
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04a0eb22a5a26adfac9aedc19fe2ad79b808e3ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:23:55 2018 +0200

    ai/default/ai[tu]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b66ed0f5c7cc0a6cf7d1d3e540c17c1c6b8ae6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 12:58:37 2018 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 136a67380d0b15feb4cef38ce76188d1a697c1c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 7 16:49:03 2018 +0200

    Update help about Great Wonder obsoleting rules
    
    Reported by Jacob Nevins <jtn>
    
    See hrm Bug #660409
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37af87e73d38bf9bc7e2b6d38aeee00940d0e90d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:12:32 2018 +0200

    client/gui-sdl2/a*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 481c130b8a19191d4662c04fcc2cd03d0809e95c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 7 16:48:43 2018 +0200

    Disallow tech tree holes in civ1 ruleset
    
    Reported by meynaf
    
    See hrm Bug #729171
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73ebb21fde8bb84735c745e6be811286351ee4ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:12:10 2018 +0200

    client/gui-qt/d*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ccbeb5a9ea93f0433104e28dffccdf1fc04c1313
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 8 02:09:05 2018 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 214643ba0e1833f229a606d7b1e216ef4f88f132
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:00:46 2018 +0200

    Qualify alien ruleset tech "Mining" name
    
    See hrm Feature #729109
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf49427d465b53c07b8fab275d71adb28cfd433c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:11:47 2018 +0200

    client/gui-gtk-4.0/a*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9b0e350ef809bb9957b973fde100bc1fef88d4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:08:40 2018 +0200

    fc_version: update followtag update instructions
    
    - Correct option name ('--follow-tag' -> '--with-followtag')
    - Update followtag value ('win32' -> 'windows')
    
    See hrm Feature #730564
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1707e1f30afda086e3014bedce25214105176657
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 11:19:46 2018 +0200

    Don't restart music from audio_finished callback in case of complete stop
    
    See hrm Bug #730597
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4045c1cce279c4afbc840f4cbbaa7c87eb826c64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:02:37 2018 +0200

    Make amplio2 ruins smaller
    
    Art adjustments by GriffonSpade
    
    See hrm Bug #697692
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 898d2fbb1ebf6c2533641f3c09f5604442682c9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:11:28 2018 +0200

    ai/tex: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea0cadd918402de268ee549656e2c42a5d626004
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:04:18 2018 +0200

    Add Conquer_Techs_Min and Conquer_Techs_Max effects
    
    Requested by wieder
    
    See hrm Feature #699156
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 154f2466bf38ca481fc80f53f237876e5fa8c48a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:05:13 2018 +0200

    Save luadata.txt
    
    See hrm Bug #673655
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 138c5ec02c8064e7834f0f60a03b1206a73f6db6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:10:57 2018 +0200

    client/c*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e639a97354bdd178702f39ae74e5fea8509cca20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 5 15:12:47 2018 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0588f14e4d3ab2ce8a4a636f8e946029c05fd036
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 29 17:30:48 2018 +0200

    convert_png: use absolute path to input files
    
    Works around MacOSX bug.
    
    Patch by Daniel Markstedt
    
    See hrm Bug #715161
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8772c09c2162600fb6bcdfd5cb7fb59aab70e36e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:10:38 2018 +0200

    server/[uv]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbe5bb24124b8354fb08b754359df09e14190fda
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 13:35:57 2018 +0200

    helpdata.txt: fix outdated reference to 'spacerace' option
    
    Reported by Joan Creus
    
    See hrm Bug #691877
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00ed967da8891210c095ed4afec77fcbb0535b90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:10:09 2018 +0200

    ai/default/ai[ps]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0843f0f2116301355a5b77c7ea49bbdf1f799be1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 15:58:47 2018 +0200

    Correct amplio2 and Hexemplio ruins credits
    
    Reported by GriffonSpade
    
    See hrm Bug #729141
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82c4a22ea47426bc48d7742e1018ac451d6d99c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:37:07 2018 +0200

    client/gui-qt/c*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4251747bf3d97f4f76ef45aec22e51d59db56f8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 2 15:40:43 2018 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2cf538e336eef4ba93eaaf2d2ad1a7331b3f9d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:30:54 2018 +0200

    Fix "change you mind" typo -> "change your mind"
    
    See hrm Bug #729103
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be6270a29690b51193dc9aa9198f9ced32fc274d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:36:33 2018 +0200

    server/t*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2527359eeecb20cd59a3d2a439771bfdcef7da0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:33:14 2018 +0200

    Update Hexemplio bases
    
    - Less obscuring ruins
    - Hex shaped outpost and fortress
    
    Art by GriffonSpade
    
    See hrm Feature #729151
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1d368e96b4d022425ba2258b69fbf83286c7e4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:36:14 2018 +0200

    ai/default/ai[hl]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5059016969e1bcb22066ceac712e07f0e2b3f3f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:32:03 2018 +0200

    Disallow units from helping building of small wonders
    
    See hrm Bug #705580
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e16acf621664c328dd7746b785584e065a81438
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:35:54 2018 +0200

    client/a*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6b587b947649e1ef5d08f228061591901d3a750
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 30 20:05:26 2018 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af1ea6308b717d2f214dde116f488a24efa1c504
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 30 15:10:59 2018 +0200

    Update comment about hut placement limitations
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80eae85e05f8b6d2548a825e8dfe4803a57ce50b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:30:35 2018 +0200

    alien: improve Protector helptext
    
    Make clear that even with Protector, Basic Infrastructure is needed
    for a base to grow over size 2.
    
    See hrm Bug #729102
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e04c3b5e07ef6a934456e6ffbc3bc14cc8dd06b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:34:45 2018 +0200

    tools/ruledit/[uv]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d379cb5e2e5149f43a07e804f2f18d6b571eb8ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 29 09:29:35 2018 +0200

    Update comment about UTYF_BADWALLATTACKER
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb6961a4ded97af271c3dbe22b6ed45a28a7f9dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:34:26 2018 +0200

    ai/stub: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7699a84e4d88d79cf6d7f7568e63858a90ae5b24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 12:03:06 2018 +0200

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97ebf4aa2044da7aef904db6955bca91608232bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:08:26 2018 +0200

    server/s[rt]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ced208cfc8af384ae6bd9c5fb8b058abaed9c140
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:08:07 2018 +0200

    ai/default/ai[dfg]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 784ef8f402a42d589eb806958ada39e660e3ac47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:07:33 2018 +0200

    tools/ruledit/t*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3b02be0ef5f8723b394c1e0bc5afd2cfb1e3c55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 23 03:50:47 2018 +0200

    Document game ending to cultural or scenario specific victory
    
    See hrm Bug #696673
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fe07df6a21f548435ac504ee5d93ac0049f2f49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:07:00 2018 +0200

    utility/[st]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e72095299fee56f99d295e50d6919165fb4dbb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 22 03:01:48 2018 +0200

    Gtk3-client: Set frame_by_frame animation mode
    
    See hrm Feature #726552
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1344b952593011e61589aa43da4fff5ccd39c996
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:06:35 2018 +0200

    server/s[ep]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9d20786349ddc3cbb3a9d8619f5982035c1c1eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 22 04:29:05 2018 +0200

    Do not claim that ai-types are available only with loadable module support
    
    Consider possibility of statically built-in ai modules in the
    help of "create" command.
    
    See hrm Bug #699164
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ac48c37a6fc960d52bff181c0b0080e7ffcaffa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:06:08 2018 +0200

    utility/r*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf698843ac4f6ac8f735ae6af2fc5e0b8fb6e74d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:05:48 2018 +0200

    server/s[ac]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09142246c7674edb844494196f5a514f674a1988
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:05:22 2018 +0200

    ai/classic: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68e70a782cfe6f32f311c17bd70b83659aa33066
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 20 01:23:33 2018 +0000

    Revert "Update usa flag to valid SVG version from Wikimedia Commons"
    
    This reverts commit 8e7556d412. This reintroduces format errors but
    restores the aspect ratio to our standard 2:3.
    
    See hrm bug #707595.

commit bdb4dc8aec0261e196f940381de46cbfacb1f263
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 20 01:23:17 2018 +0000

    Revert "Update liberian flag to valid SVG version from Wikimedia Commons"
    
    This reverts commit f2fd852bc6. This reintroduces format errors but
    restores the aspect ratio to our standard 2:3.
    
    See hrm bug #707576.

commit 6aa3435fb487d651aa8bbc7bf8e18d6a93b42646
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:05:02 2018 +0200

    ai/default/ai[ac]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3a8bb12f49f0377d32a06682f8d8a7e147be060
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:04:35 2018 +0200

    tools/ruledit/r*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23573a4dff4316b49b7145ae4b549fa5e45943dd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jan 18 00:14:37 2018 +0000

    Updated Polish translation by Hubert Kowalewski
    merged from S3_0 6a745ae83b. Stats on master:
    core: 99.4%: 7368 translated, 33 fuzzy, 10 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 91%: 90 translated, 6 fuzzy, 3 untranslated.

commit 6f5af6a375ba6a4c473474368ec64ef27549f94e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:49:04 2018 +0200

    tools/r*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7cd611164457f5a9f320e5fcbdaac8c83671292a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 17 02:02:19 2018 +0200

    Update Finnish translation
    
    This is S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3074c6c6f643e4478e801c87113b91b65bd9cc06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:46:42 2018 +0200

    utility/n*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36dbfb769de93ded029e5aa7344c3c70e827afce
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 16:11:47 2018 +0000

    Europe 1900: make all players "Unassigned" initially.
    
    See hrm bug #724926.

commit 3a842b3f8b3d2a174aab97048ec9ff8c6aa12737
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 15:52:47 2018 +0000

    Fix some city name typos in Europe 1900 scenario.
    
    See hrm bug #696031.

commit c13f4915ad7123972e209632ee726252f85ba8f0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 15:31:55 2018 +0000

    Replace hardcoded pluralisation with PL_().
    
    Reported by Marko Lindqvist.
    
    See hrm bug #698844.

commit c49d96067e84d7b6e994098dac67df6ac3222790
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 15:18:27 2018 +0000

    Wording tweak in Qt advanced unit selection.
    
    A candidate unit can't be "Everywhere" but it can be "Anywhere".
    
    Requested by Marko Lindqvist.
    
    See hrm bug #699161.

commit 541cd8c53c1accb37103837bb0759735b63e51f6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 14:21:07 2018 +0000

    Geographical correction in Cuyavian description.
    
    Patch by Rhue of L.
    
    See hrm bug #706252.

commit 0d4e8dbf22614fc4d28e5895cb9d5f6a07168603
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 12 00:03:39 2018 +0200

    Allow loading ruleset without parser.lua in compatibility mode
    
    See hrm Bug #706262
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c3efb3d83294bc2a6ab96948a531b70f51585b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:46:08 2018 +0200

    server/r*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 101c3e9a00cfba51922b8e72f2c1fb2e9b717bae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:45:49 2018 +0200

    tools/ruledit/e*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45f9a122132f064964d241da5a9957f4c345e32f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:45:27 2018 +0200

    ai/*.c: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2184bbcc66084eae72d40e110c33d93910567d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 14 02:18:01 2018 +0200

    Update Finnish translation
    
    This is S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b6e349c7a5a76847fd8b76578e4f530be780d4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:45:09 2018 +0200

    tools/shared: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 329b395a7ef9320f77704ebac0977480f0a6e41f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 12 16:29:56 2018 +0200

    Correct tab_unit constructor function header
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 398ea923fee7e9dc5d864b89c01ff03572674b07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 12 16:24:29 2018 +0200

    Correct tab_gov constructor function header
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0da4950454b4549437a5583018af45fc8fd958a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:44:44 2018 +0200

    tools/m*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42bf6e9372fec094b08e69e2125e5ef211c7690a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:01:35 2018 +0200

    utility/[lm]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 047e8abeb30bd524714ca64b573552d7bcaf5d64
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 3 18:04:01 2018 +0000

    Speed up loading of savefiles with shared vision.
    
    This process was doing of the order of number-of-players times more work
    than necessary, for savegames where a lot of players share vision with
    each other.
    
    See hrm bug #723442.

commit a5d5da35135d75b8276aac147d0a7bc19e1554e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 5 22:22:56 2018 +0200

    Unset capturer last_activity, update action time
    
    Reported by Donnie Anon
    
    See hrm Bug #692282
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd6c1367e4a7b546e839ad2d1b6135a07089ca77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:01:13 2018 +0200

    server/[np]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dcb0d7565004402aa975483f3c29517dab87bd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:00:46 2018 +0200

    tools/[cd]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc4d5b3f262d21da0938c83d043230a6ac54037d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 4 17:46:49 2018 +0200

    Fix crash when passenger leaving aiferry dies
    
    Reported by Martin Schröder
    
    See hrm Bug #714453
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40b5bd485f418b6b5ce8432546f227b3f9b3f86d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:00:22 2018 +0200

    utility/i*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf7c60907dd41be941ffffc7c9194e120d364c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:57:40 2018 +0200

    installer_cross: Add crosser component versions list to installer packages
    
    See hrm Feature #722495
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f03bfe46a6a694f2c8cdd7a4a0cee8716713678b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:00:02 2018 +0200

    server/m*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b616c19d9187357b82d0da06f1eba6183a3f3f6b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 23:30:17 2018 +0200

    Mitigate problems of overlong map label
    
    - Print an error when overlong (too long to be sent over network)
      label is set for a tile
    - Make sure the label sent over network is null-terminated even
      if it's truncated
    
    Reported by Alexandro Ignatiev
    
    See hrm Bug #720199
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04bcb0dda00bd25e6b353b5aa5801f86e38c1aa9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:59:43 2018 +0200

    tools/ruleutil: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50057205d31115fd08881cdab4b53b0bc4579a1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 23:14:51 2018 +0200

    Increase max length of tile label to 64 bytes
    
    Requested by Alexandro Ignatiev
    
    See hrm Feature #722788
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a53da2f574eac2ea795e8702d8a32ea32532ebe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:59:21 2018 +0200

    server/[gh]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67ee8277f82979f1dd197a8357652d472b2ea003
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jan 1 22:31:35 2018 +0000

    Don't use nonexistent event in tutorial scenario.
    
    After a report by Alexandro Ignatiev.
    
    See hrm bug #723052.

commit 9f83a6d2f70dcc22427061cfdcc556b3c9748af0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jan 1 23:00:10 2018 +0000

    Fix Lua object save format.
    
    They were being saved in a locale-dependent real-number format
    ("p=find.player(0.0)", which worked, or "p=find.player(0,0)", which didn't).
    Now the ID is saved as an integer ("p=find.player(0)").
    
    See hrm bug #722288.

commit e3ed1d01bf6cb5a94f4c5fe2872868c0ab32878f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jan 1 22:35:27 2018 +0000

    Load script data from savegame last.
    
    The "vars" state section may need to reference other game objects.
    
    See hrm bug #722287.

commit 3dd96476cb5a61e4f2a27d4941389ddb41016561
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:58:07 2018 +0200

    Fix crash when former ferry leader activates
    
    Reported by Alexandro Ignatiev
    
    See hrm Bug #721949
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1d5ea089ae0a65408f5c9ea137853e2bf49ff2fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:58:57 2018 +0200

    utility/g*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e15ac6436668cd39786043bcec1e538cb9d3a7b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:44:13 2018 +0200

    Fix some function header typos
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86570f506aded04f5c41fdd5aa71cba95b785e17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:41:58 2018 +0200

    Correct send_ruleset_trade_routes() function header
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 050393d69b678c3b729d3518d9acca7b40fcd91a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 31 13:22:17 2017 +0200

    server/[ef]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30c166b5b519a4b6395aee56bb0fd50d05184577
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 2 19:57:00 2018 +0200

    Correct edit::utype constructor function header
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8359c9ba603893deafc5244b725ed57fb5630fb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 27 12:47:23 2017 +0200

    installer_cross: Update to crosser-1.4
    
    See hrm Feature #705363
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25f6e394b098c8509dc1187fed322e2f8d3e64e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 31 13:21:52 2017 +0200

    utility/f*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0eabc2ce523e30ec7a73a6526aa71404fd13d447
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 31 12:33:16 2017 +0200

    Bump version number to 3.0.91
    
    See hrm Feature #722200
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eecd9c64efa406f4e73d8135ceb7a191b70e980b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:56:59 2017 +0200

    server/d*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d42d0d9a98ca1ef435da2a59e5713e0ff3c6fe9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:56:37 2017 +0200

    server/scripting: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56c0e5f54f9921eec476ae574c805de12b6394cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:56:14 2017 +0200

    server/c*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 400fb1d16f11138708c7ace30fbcf4cadd5463ed
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Tue Dec 26 21:51:01 2017 +0500

    Update for Russian translation.
    
    core:    7411 translated messages, 1 fuzzy translation.
    nations: 1843 translated messages.
    ruledit: 99 translated messages.

commit 577fec23e08de2a0cac761d280ec65e2337e8c74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:48:27 2017 +0200

    Use adv_want type for autosettlers activity want
    
    See hrm Feature #719512
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b40596b246f98eee0c2eeeb909b550153501a7e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:55:37 2017 +0200

    utility/[cd]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dba8270fdd9bbe0afcab3df2a88e4ea29afcf39c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 14 13:57:53 2017 +0200

    Correct autosettler logging of Frost
    
    See hrm Bug #718497
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f191830edabd0f9f6094c119b9262d71a6a8181
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 14 08:21:57 2017 +0200

    Take "extra" want for autosettler activity in to account in final want
    
    See hrm Bug #719516
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e7556d412cb125899a559a8dd51b56221c3f307
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 5 21:52:50 2017 +0200

    Update usa flag to valid SVG version from Wikimedia Commons
    
    Reported by frank e
    
    See hrm Bug #707595
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34589f24e3df8264798d796263746ec4e8c45aac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:06:11 2017 +0200

    Fix unithand.c "to far" and "to near" typos
    
    Reported by Lachu
    Patch by frank e
    
    See hrm Bug #706821
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8796504f2575028739e0355b30d9ba7812483f68
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Nov 17 19:08:44 2017 +0100

    Qt client - allowed styling titlebar of dialog.
    
    See hrm Feature #710896

commit 26a9af681737fd511173923e37d768e3c6639603
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:08:39 2017 +0200

    utility/[ab]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf77399b375d99678c6659570e98d60d800eecb2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Nov 7 10:06:07 2017 +0100

    Qt client - diplomacy dialog - added possibility to accept/reject deals with keyboard
    
    See hrm Feature #709337

commit 92b9d9dd44a2ce201a0f6d710cc1d92d987f1bb2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Nov 7 10:03:52 2017 +0100

    Qt client - added city dialog shortcuts
    
    See hrm Feature #709335

commit a9fcf209bbd280cae9f97d3570c6ef838c18b464
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Nov 7 10:00:42 2017 +0100

    Qt client - fixed not available special improvements to build.
    
    See hrm Bug #709338

commit 9e5b4056948cc904e13bb6b8ff08c69e9941f5f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:08:18 2017 +0200

    server/b*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c233fbb236c39f36fa009b24ce1208e11d2b74ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:07:58 2017 +0200

    server/a*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80fc79ada564dfefdf7fbea76834d3f0fef01bac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 30 16:42:45 2017 +0200

    Update papuan flag to valid SVG version from Wikimedia Commons
    
    Reported by frank e
    
    See hrm Bug #707576
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2fd852bc6bb9bfcce29fb264de92c5d7db6e3f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 30 16:34:43 2017 +0200

    Update liberian flag to valid SVG version from Wikimedia Commons
    
    Reported by frank e
    
    See hrm Bug #707576
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbaaa3f34bd6f83cfd2a9014ffd06be0bf580a59
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Nov 5 13:17:43 2017 +0100

    Qt client -fixed segmentation fault when lost connection to server.
    
    See hrm Bug #709134

commit 987ecab5bdab03dec3d26425f651f9077457679d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Nov 4 00:10:48 2017 +0100

    Qt client - make prev/next help history buttons sensitive.
    
    See hrm Feature #708258

commit d49d92cb2de265b604c071f91cae4b56e5b32082
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Nov 4 00:08:01 2017 +0100

    Client - Fixed savegame not loading for ruleset with preferred_tileset with "-f"
    Reported by Jacob Nevins
    
    See hrm Bug #706353

commit e33d4b21b89548c18abc164770888340605056c0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Nov 4 00:02:41 2017 +0100

    Qt client - fixed closed research dialog after choosing current reserach or goal
    
    See hrm Bug #708554

commit 7edd7274876477f4db1d22fb1fcb2ba090f8c2bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:07:37 2017 +0200

    server/generator: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41464a91df74a9cdd8ad67ee6100a2dfe93ac6cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 30 00:30:53 2017 +0200

    Add HP reduction part of frame_by_frame mode battle animation
    
    See hrm Feature #707623
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a45beb1f3439a53813336b6e8711953853fb98b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 22:53:46 2017 +0200

    Update msys2 environment to 171027 level
    
    See hrm Task #701180
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c1eaa26aff3924164f55b6c4aefff1417858a78
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Oct 30 19:56:05 2017 +0100

    Qt client - made socket notifier as blocking ( as fix of bug - can't load savegame from ruleset with preferred_tileset )
    Reported by Jacob Nevins
    
    See hrm Bug #706356

commit 9e22aec9cd4c34b9ba51860bf5899590d6d39fdd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:43:39 2017 +0300

    common/[vw]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e17a0910ec2e421279d1c7f7a76fa448f9a0e2ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:41:14 2017 +0300

    Add frame_by_frame mode nuke animation
    
    See hrm Feature #706322
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee51f0a00427fbbeffa19d4de3107981519e8925
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:15:07 2017 +0300

    Do not use @abs_top_srcdir@ or @abs_top_builddir@ in wrapper scripts
    
    See hrm Bug #705468
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 63369a0e5e9890acab60b9d91c4733ca922ad37d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:43:16 2017 +0300

    common/u*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54de1bdf562452cb36ccf69ec761257b939a4534
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:42:36 2017 +0300

    common/t*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ee1cef19194982509aea7d12f057cd3df958251
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:41:33 2017 +0300

    Do not double buy cost of Small Wonders
    
    See hrm Bug #706727
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db6c5f4c94370ca95676466a98a3243ed513c2e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:23:10 2017 +0300

    Fix type "Recyled" -> "Recycled"
    
    See hrm Bug #705991
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2e37f1de84a760c613bfefca41edf84bd0ad157
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:19:30 2017 +0300

    Reduce autosettler want for road connectivity on hex map
    
    As there's a limit how low we can make the road connectivity bonus,
    especially with integer math, also increase wants for other autosettler
    activities to make them more wanted in relation to road connectivity.
    
    See hrm Bug #703839
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dc87be216731cf21abce012ec793d3e44993539
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:25:14 2017 +0300

    server/advisors: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 830707ef435412bb33bd81fe1e2015a897a84c48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:16:07 2017 +0300

    Threaded settlers: Do not count road connectivity bonus to city benefit
    
    See hrm Bug #706211
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39e78f040d4628a75805b6d13509d2bd8a69b1a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:24:27 2017 +0300

    common/s*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2af50146577f113dabd79900c1a97109ec665259
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Oct 22 12:35:21 2017 +0100

    Reword ruleset comments about rule_name.
    
    Spell out more explicitly what you need to do if you're renaming something.
    Reported by GriffonSpade on the forum.
    
    Some unrelated formatting changes to make rulesets consistent with each
    other.
    
    See hrm bug #705526.

commit fac0792b0137ce043eae3967fbd24fa406d4f8b3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Oct 22 12:25:39 2017 +0100

    Add scripts/spec_propagate.sh.
    
    This is a development script to propagate changes across all rulesets on
    a branch.
    
    See hrm feature #705525.

commit 8ae2d858c1b3223f8ebd173341e970fdeb79a2b5
Merge: d4ee3243ae a8593c43d8
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Oct 24 23:26:01 2017 +0200

    Merge branch 'master' of https://github.com/freeciv/freeciv

commit d4ee3243ae0f5fcaca385488073b68b40e7e1604
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Oct 24 23:25:44 2017 +0200

    Fixed SDL audio playing only 1 sound,broken in hrm Bug #695946
    
    See hrm Bug #705553

commit a8593c43d8a86994e423a8452a0a2832d7c3fabd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 13:07:00 2017 +0300

    common/r*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac43f31cb9c799973f7247751132ef8941f6f4ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 12:53:56 2017 +0300

    Add frame_by_frame mode explosion animation for battles
    
    Traditional hitpoints reduction part of the battle animation
    is left to later ticket.
    
    See hrm Feature #704182
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b21332a7e6f93e23ccead15eeeb1b710d81cc6f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 13:01:22 2017 +0300

    Make Bridge requirements property of Extras
    
    - For extras, add 'bridged_over' list of other extras that prevent
      building it if no bridge building tech is known.
    - Remove thus obsoleted road flags "RequiresBridge" and
      "PreventsOtherRoads"
    
    This required rearrangements to functions used to query if
    extra, base, or road can be built as now all of them have to check
    if extra bridging requirements are fulfilled.
    
    See hrm Feature #704288
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbbf498fe5976c356759b0abf7cb9994a8d9c575
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 12:52:17 2017 +0300

    Avoid duplication of '+' in VERSION_REV when VERSION_LABEL ends to one
    
    Old implementation only considered the case where VERSION_LABEL was
    exactly "+", not for example "beta1+"
    
    See hrm Bug #705391
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d65cd050d87f8e7fe78b175d6d1f92249737be87
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:33:14 2017 +0200

    Qt client - fixed height of line in chat.
    
    See hrm Bug #704929

commit f1f36484d19ca1a889b8c8d2ff0f215cb0b30687
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:26:29 2017 +0200

    Qt client- fixed segfault at show_tileset_error when qapp is not running.
    Reported by Christian Knoke.
    
    See hrm Bug #704711

commit 01d268a3813ef41d398a64fcdaa0c8845864cfb7
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:22:01 2017 +0200

    Qt client, progressbar - draw text after icon
    
    See hrm Bug #704608

commit 7ec513414edc3f3f0ae34dbade45f5a9fd9be01b
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:18:46 2017 +0200

    Qt client , city worklist - move attack/def/movement values to tooltip
    
    See hrm Feature #704607

commit 43a9bdd49084345dbde7b0debbe053b260e56cdb
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:14:55 2017 +0200

    Qt client - connect on double click in network page
    
    See hrm Feature #704602

commit 0686396224825641c5996ce9aec143f7f8dfa973
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 20:36:24 2017 +0300

    Correct astr_buffer_free() header comment.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73351ab2615adec72f6f2652657bbccd95a610bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 20:22:24 2017 +0300

    common/[np]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae1b94c99c2476e4f8ec1c39230b120409704905
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 19:57:18 2017 +0300

    msys2: Install gschemas.compiled as part of gtk3 environment
    
    Reported by Andreas Røsdal
    
    See hrm Bug #701889
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c262264b6546daaa120a8a633bbd378989b1391
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 19:59:33 2017 +0300

    README.AI_modules: Update to the fact that threaded AI is built by default
    
    See hrm Bug #703843
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dade259765dd99cf772ce6a743f8abaf8c074d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Oct 16 07:51:05 2017 +0200

    Update "Spy" utype flag ruledit comment
    
    so it matches the changes done in hrm Feature #694112.
    
    Reported by Marko Lindqvist
    
    See hrm Feature #694112

commit 79d628ed50724503966f82e02e5d1a9843dcad63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 20:07:11 2017 +0300

    Update large Earth scenario
    
    - Fix typos in startpositions
    - Enable 'startcity'
    - Adjusted Aborigines startpos
    - Added startpos for Polish
    
    Patch by Rhue of L
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bf957b458ff9627fd63ded0f2100f2b3380a7c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 20:22:05 2017 +0300

    common/m*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd1466a2810505ee1b59b69dff2fdac6ca608b0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 19:28:35 2017 +0300

    gtk3-clients: Set transient parent for city dialog popups
    
    See hrm Bug #703869
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38bd3cb7601b7658dd00315b13c2e62e8cf765e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 14 19:45:33 2017 +0300

    common/i*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4af6608a0502de9f3c4958b59eca45b0ea58df3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 14 19:44:27 2017 +0300

    Gtk3.22-client: Set frame_by_frame animation mode
    
    See hrm Feature #700641
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9436f776839a23833f61b479707573aeaedab14d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 14 19:43:30 2017 +0300

    installer_legacy: Install gschemas.compiled as part of gtk3 environment
    
    Reported by Andreas Røsdal
    
    See hrm Bug #701751
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2ac8fd59ce4e9bbc16b09ee09a5479872249aef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 11 06:57:12 2017 +0300

    common/g*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6938051297f242b6000c78062d8d41c307714e5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 11 08:05:15 2017 +0300

    installer_cross: Add GSettings schemas to gtk3 environment
    
    Reported by Andreas Røsdal
    
    See hrm Bug #701890
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1078819b08576c3540a539b2b8f6821293315505
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 11 07:32:20 2017 +0300

    winsock2.m4: Restore correct value for ac_includes_default
    
    See hrm Bug #702806
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3aa0711545b3f4e7f63bfcefa562df09d794c781
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:18:09 2017 +0300

    Be prepared for "city_size_change" lua script to destroy a city
    
    See hrm Bug #701045
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1d7508395e557a49597f3ae10c771a233f1af83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:20:26 2017 +0300

    common/networking: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfd559a4ba2db94c09843c2ad9e9162b4295e07c
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Oct 10 10:21:41 2017 +0200

    Qt-client - Fixed Travis build failing for qt client.
    Reported by  Marko Lindqvist.
    
    See hrm Bug #702406

commit ff8e09dc31d8d4f8f826e2e79e9bd60232f795e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:18:31 2017 +0300

    Tutorial: Listen city_size_change signal instead of deprecated city_growth
    
    Reported by frank e
    
    See hrm Bug #700909
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d86c969dfff6063c55114e8f56f7ec05da84de8e
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Oct 9 19:50:24 2017 +0200

    Qt-client - updated signal-slot syntax to Qt5 style
    
    See hrm Bug #701840

commit 30b1712be5d77011f8715acd40571f1d1dfd2856
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:20:04 2017 +0300

    common/f*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06ae20f9d7a757ca47ac842ab622d8fa4d9df4f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:19:34 2017 +0300

    common/scriptcore: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02ccfc927f2077524c362e177e19bd7036d1690a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:17:05 2017 +0300

    Add movement animations support to frame_by_frame mode
    
    See hrm Feature #700642
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dbc563882509d55ec7e78aa4013871388365d50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:56:04 2017 +0300

    Copy trident.tilespec as baseline for 3d.tilespec
    
    Initially the only difference between 'trident' and '3d' is that
    latter has type="3D"
    
    See hrm Feature #697710
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 322224a74f34f922d1b883296c008c49b708492c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:19:03 2017 +0300

    freeciv-server man-page: Update list of rulesets
    
    See hrm Bug #700291
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1fb9d41dab5a58e454ad523520f4078f9f4cdbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:17:47 2017 +0300

    Emit "city_size_change" only after city size change has taken effect
    
    Reported by Jacob Nevins
    
    See hrm Bug #690756
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f433b15f8a1fd26637e03a2d18978b2b4afef8f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Oct 7 22:35:40 2017 +0200

    Fixed Qt-client: assertion 'action_id_exists(action_id)' failed.
    Reported by Marko Lindqvist
    
    See hrm Bug #696006

commit 353a515d689bc54dd1959e9601c6d22e5bf8dfe6
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Oct 7 22:30:09 2017 +0200

    Client - Remove dead code.
    
    See hrm Bug #695946

commit a7316a9e2a58d246c7a0a3cf1494dabb45a47d4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 4 04:45:41 2017 +0300

    Disable the "Turn Done" button in fixed-length gameplay
    
    Requested by S.C. L. (Caedo)
    
    See hrm Feature #700675
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8604dcd0bcd0821a1095648ad3bf129272565af9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 04:16:08 2017 +0300

    common/e*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddfbc0b3e2f12b8ac3410ab0dbd2c3880f87b5dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 06:12:16 2017 +0300

    TODO: Do not refer to non-existent www.freeciv.org TODO page
    
    See hrm Bug #700718
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4e2c01d438438459d7f0b7420a8cbfe15101466
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 04:05:17 2017 +0300

    Emit city_size_change signal only after successful size change
    
    Reported by frank e
    
    See hrm Bug #700910
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b99a0800cfc02e545e6526519131eb996e05098
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 04:27:57 2017 +0300

    Tex AI: Run military advisor in worker thread
    
    See hrm Feature #697715
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 258202df4e22dedc23cc2ab136f5c959b0af4401
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:20:01 2017 +0300

    common/d*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1500a433a7141bd33392b0494eea832d3059b51b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:18:01 2017 +0300

    Clear full mapview with below one zoom levels
    
    See hrm Bug #638737
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1030d83e26ada57e624bd8f94f8213184de1da8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:15:26 2017 +0300

    Send no-resource info of a tile as MAX_EXTRA_TYPES
    
    Reported by Jacob Nevins
    
    See hrm Bug #681864
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfacded8d4da7df0f6e6e622794ed68d9ccddcc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:16:52 2017 +0300

    Alien: Rename Irrigation as Greenhouses, Farmland as Protein Houses
    
    See hrm Feature #700626
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9209c6d43d55477ca8dedb1bb274106eb5db646
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 2 01:27:18 2017 +0300

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 410f29902729d3e1f0035e75161b0db545b05f91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 2 01:24:50 2017 +0300

    Sandbox: Mark Hermit's Place's helptext no-c-format
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0ec84e8517735145428dceabe54ed6d688fdde6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:17:12 2017 +0300

    Fix pluralization of trade bonus message
    
    See hrm Bug #657416
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4364f730f851e10a0938378b5b390ff10f0603d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:17:31 2017 +0300

    Fix converting pre-2.6 savegame specials to extras
    
    Reported by Sveinung Kvilhaugsvik
    
    See hrm Bug #657401
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 754f684c8f879f5b2ee54f37ccbab24ba247641d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:44:00 2017 +0300

    Add mostly dummy set_frame_by_frame_animation()
    
    In the future this will be needed for gtk4 drawing model.
    
    See hrm Feature #696457
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eef6b23c19fdbc3686d8a1b8413e373075dda127
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:16:01 2017 +0300

    Enable AI to build ocean workers
    
    See hrm Feature #664183
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe14b722fbcd352071acb2caaf81963a2959acab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:16:21 2017 +0300

    Increase AI want to win the game via spacerace
    
    See hrm Feature #660489
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea20305391239807a8c25814d721e962750dba0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:18:38 2017 +0300

    Tex AI: Allocate advisor data structures for cities on tex map
    
    See hrm Feature #700049
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c700cfea1188799e01a22167101b64ecd20e22a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:19:42 2017 +0300

    common/c*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfe799d79d55e72cce524d9b7ed6b95141199609
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 30 01:54:48 2017 +0300

    Comment typofix: sucess -> success
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dbf0d3fcb36ee2a978158b7ebdc8e73bdd47825
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 23:26:18 2017 +0300

    README.nations: Correct minor details
    
    - data/default/nations.ruleset -> data/default/nationlist.ruleset
    - data/scenario/               -> data/scenarios/
    - tranlations                  -> translations
    
    See hrm Feature #700290
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a855119ec34f5db7059f8ace480879b17b48f5c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 00:10:24 2017 +0300

    common/aicore: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15d62ab823a82fdb88a37231ca4433f03ae36fb8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 23:59:53 2017 +0300

    Alio: Add Hills
    
    Art from GriffonSpade's AmplioHexBig tileset
    
    See hrm Feature #699504
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5004c3bb6b13f6844dcc4d53f611cca766e9f7dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 02:01:26 2017 +0300

    Comment typofix; exept -> except
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16a06b27165300544440c0d7fd202a0e59cbbf1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 00:06:43 2017 +0300

    Tex AI: Remove destroyed unit from tex map, not main map
    
    See hrm Bug #700050
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0cced005a8de44b3464936b150f90c13a18bee2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 00:10:01 2017 +0300

    CodingStyle: Update for doxygen format function header
    
    See hrm Feature #699771
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed44d64f00af9ba75cd2c88f2e0d03971eb0f07f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 00:04:27 2017 +0300

    Save list of ai types to the savegame if game already running
    
    Do not save them in map-only scenarios
    
    See hrm Feature #697656
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5b4a3d63852fad0a21c279c6626b30cb474b3cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 05:03:16 2017 +0300

    common/[ab]*: Mark function headers as doxygen function descriptions
    
    See hrm Feature #699770
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af206b9f9e19c2eadc8678887be589dde5185d56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 05:00:49 2017 +0300

    Fix malformed error message format
    
    See hrm Bug #697541
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f7452180bc573cfe3445463a1bcfa487d32141d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 05:01:40 2017 +0300

    Hexemplio: Locate patrol icon like autosettler icon
    
    See hrm Bug #686635
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 70018f2a77f62604b5a952ce011a05346f7e602a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 05:02:36 2017 +0300

    README.packaging: List gtk3x-client as new feature
    
    See hrm Bug #699708
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc65c3362635f11ae1f3f992e99aa07f87b1492d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 06:26:31 2017 +0300

    alio/burrowtubes.spec: Correct capability string
    
    See hrm Bug #700055
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 749732c1f3ab4fd63bd4458379c5e141fbed752e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:14:34 2017 +0300

    Show popup for server operator messages by default
    
    See hrm Bug #690212
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7197b613615b786ef910d4fe33ec5f1b4f32d27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 02:38:57 2017 +0300

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f933a8b9ae5c134646a89d3ffcf66feda6bfa25d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:13:01 2017 +0300

    Sandbox: Unify Fortress and Airbase helptext with civ2civ3
    
    See hrm Feature #698845
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f72c08bf881c67ab352ed7e2e72e27b3ffa6e638
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 05:32:07 2017 +0300

    gtk3-clients: set transient parent for info popup windows
    
    See hrm Bug #699488
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b333186827fa66ef03dbf80414226441fefe0a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:15:54 2017 +0300

    dos2unix alio.tilespec
    
    See hrm Task #699482
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f19e36a69eb7a3b6f08f3517436046937070daf4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:15:20 2017 +0300

    Alio: Add burrow tubes gfx
    
    Art from GriffonSpade's AmplioHexBig
    
    See hrm Feature #699480
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3db9ab166d4122ef0c55c0dc72dad59e388f06a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:08:48 2017 +0300

    Tex AI: Copy all tiles to tex map once map generated or loaded
    
    See hrm Feature #699485
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c660c2605ab312ac63bec1965aa574ec638957ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:13:23 2017 +0300

    savecompat: Fix converting of separate victory settings to victories array
    
    See hrm Bug #698566
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2f707d6eace2d3b34f5dc549037de040667d63f
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Wed Sep 27 16:03:55 2017 +0300

    Add Russian translation to the desktop shortcuts.
    
    See hrm Feature #697576
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc8e74a9295b85161bcee91d0693d2699609a978
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:12:20 2017 +0300

    Support extrastyles other than Single1 for resources
    
    See hrm Feature #698981
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0ad99812474ae58a1e7d923180a1b989f2cf8ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 23 21:25:12 2017 +0300

    tarball: Include europe_1900_WWI scenario instead of europe_1901
    
    See hrm Feature #698841
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1e1a576f7aeed663ef5cb12e27833bc371dc937
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 25 02:23:48 2017 +0300

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3efcc4ce6fc60d7a11f397c9b73a0d466336a3c3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 24 22:19:09 2017 +0100

    Updated Spanish translation by Jordi Negrevernis i Font
    
    msgmerged from S2_5 ee904817b6. Stats on master:
    core: 74%: 5480 translated, 1217 fuzzy, 716 untranslated.

commit 1a00315cd3f6a327746e33ab2489dc7bdbc7ee77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 23:20:06 2017 +0300

    doxygen: Document tools/
    
    See hrm Feature #699017
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 065a6433f129f2e1a222c3ff2dd0bcdeab653bba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 24 01:06:47 2017 +0300

    nations/fi.po: Replace 'trunk' with 'master'
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8733562b2ad50b7c7e2aece75a88e86765f5bccb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 24 00:18:05 2017 +0300

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efe119c0e61818c0ba47080ae2d2b37d8c50be78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:46:01 2017 +0300

    europe_1900_WWI: Miscellaneous string-related tweaks
    
    See hrm Feature #698539
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8121d872e6483fb27408a58518eddc9dcb473ed3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:44:43 2017 +0300

    europe_1900_WWI: Set last_updated_as_year to FALSE
    
    See hrm Feature #698539
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 531b8211f1db4d31263b4bcec3f307d02e1225c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:43:15 2017 +0300

    europe_1900_WWI: Remove gameseed setting
    
    See hrm Feature #698539
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 199f996112e0b04e3cf751cf7827d7eab1b86fd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:41:46 2017 +0300

    europe_1900_WWI: Move authors information from description to its own field
    
    See hrm Feature #698539
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0cb597255ab8b5466ebe556f78a97f58d9348b1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:39:07 2017 +0300

    europe_1900_WWI: Don't use preset random
    
    See hrm Feature #698539
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cbfafc6e2b547392e8c6aae1b95e0e8c59e6bd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:36:38 2017 +0300

    europe_1900_WWI: Set cities to build Riflemen instead of Warriors
    
    Some cities were building obsolete Warriors
    
    See hrm Feature #698539
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4168b92c30d2a52271e001aef582bc4f9729dfdd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:34:45 2017 +0300

    europe_1900_WWI: Set AI level to Hard
    
    See hrm Feature #698539
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0237a5393ab2b7e02fb1ae6d3e0a54821a13facb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:30:30 2017 +0300

    europe_1900_WWI: remove save name setting
    
    Use Freeciv's default in stead.
    
    See hrm Feature #698539
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06aac9b4265d82b5d1f82fe47b08f6a4aeeecf85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:28:37 2017 +0300

    europe_1900_WWI: remove score log settings
    
    Use Freeciv's default in stead.
    
    See hrm Feature #698539
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a6b9b4758bd997d31c21d7b4ef18bb9baaef86e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:27:01 2017 +0300

    europe_1900_WWI: remove compression settings
    
    Don't specify compression level or kind. Use Freeciv's default in stead.
    
    See hrm Feature #698539
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1ca57f0b8b37483c5f662c58b782ce5dc5c99d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 22:54:08 2017 +0300

    Update Finnish translation of ruledit domain
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 812709fd4d742a9575e214fe7bd975031dc7bcba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 01:24:39 2017 +0300

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d62f1bf6bb4b9792fd08693837b71d2c2c4f1e2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 00:57:19 2017 +0300

    europe_1900_WWI: Add Roads to all tiles with Railroads
    
    See hrm Bug #698206
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1371160efac5c6406e82ca578e907085ac46d538
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 01:16:56 2017 +0300

    Correct path to packets.def in documentation
    
    See hrm Feature #698196
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf29f0bf91b6224411b6ebea064f8290d34d88af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 01:10:53 2017 +0300

    INSTALL: Drop Solaris libXpm notes
    
    libxpm notes are no longer relevant as xaw-client has been dropped.
    
    See hrm Feature #698207
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42a7e38059b1b940a99ccc411cb6af63b042aea9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 00:47:38 2017 +0300

    Add europe_1900_WWI.sav under version control
    
    Scenario by Ferdinand Steinkrüger (a.k.a XYZ) and
    Jamie Troini (a.k.a. Nimrod)
    
    See hrm Task #698014
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit adf01b2d8ac2e099027db87e2c1332f0e0832772
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 00:47:03 2017 +0300

    Autosettlers: Calculate road bonus sensibly on hex map
    
    See hrm Bug #695738
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 202757ae461ddb5cd64cea95a6e4ff27f008d214
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 01:18:30 2017 +0300

    assess_danger(): Take civ_map as parameter and create reverse pf_map with it
    
    See hrm Feature #696910
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2afe0b92b4a9467cb4ffbdfb83b085fb16e24449
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 19 23:39:04 2017 +0300

    sdl2-client: Fix cma compilation
    
    See hrm Bug #695022
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53424e56e84da0406e12eee8269a9052297d5c65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 18 00:29:01 2017 +0300

    cm: Accept negative value in emergency situation
    
    See hrm Bug #695022
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0f49b26a385ae3ab91a9f1d2752010e43e9dba7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 18 00:40:06 2017 +0300

    Allow building without tolua
    
    Tolua is not needed when building from tarball.
    
    See hrm Bug #675964
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f58d6eb8d6b83bb9c2b8a0c0057515134f40b9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 19 17:11:53 2017 +0300

    fc_version: Update Windows follow-tag comment
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0ba680035ad6a0d0ecc33c679f58460aa811876
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 17 14:38:41 2017 +0100

    Add another female Pirate leader.
    
    See hrm feature #697682.

commit 99c31262f741095e8fb7e8276e0eab9f15f36d62
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 17 14:35:15 2017 +0100

    Fix Polynesian plural.
    
    See hrm bug #697681.

commit b12795e1d06c8290b3dc10b7320ac89b5781b1d1
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 17 14:22:21 2017 +0100

    Rename culture "acts" as "points".
    
    See hrm feature #697680.

commit 6888c017edee7b7f94c4ea805f749d1c004b2187
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Sep 17 11:19:39 2017 +0100

    Fix Gtk3 minimap refresh.
    
    Reported by Christian Knoke.
    
    See hrm bug #697658, gna bug #25318.

commit 01a1d10a2ea41ffb1522cd047ae9e05891d65af0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:07:41 2017 +0300

    Make AI to value science more than gold
    
    See hrm Feature #662670
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91bf9a3dcfff152649565f985b84e06bdddc07bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:59:39 2017 +0300

    is_my_zoc(): Take civ_map as parameter
    
    Replace hardcoded use of wld.map.
    
    See hrm Feature #696874
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9a3f4010d8f067346748c18a2fa3d17e65d86f4
Author: Benno Lang <transmogribenno@gmail.com>
Date:   Sat Sep 16 01:02:53 2017 +0100

    Merge Esperanto core strings from S2_5.
    
    From commit 32c31dc577. Stats on master:
    core: 29%: 2178 translated, 2416 fuzzy, 2819 untranslated.

commit 2398a8ee54e4d98231a58bca0cbe2a205d15f89e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Sep 14 00:38:24 2017 +0100

    Merge current S2_6 core en_GB translation
    
    From 9c14973479. master stats:
    core: 82%: 6082 translated, 904 fuzzy, 427 untranslated.

commit 221411d7fe7a761d1a45d7f1fb18693931e4db7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 03:15:12 2017 +0300

    Add langstat files to .gitignore
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49e5ac84e18a90b7f8449eb9949ff035cd21e00a
Author: dftec <dftec.es@gmail.com>
Date:   Mon Sep 11 20:02:04 2017 +0200

    civ2civ3: Lua script to place more labels on the map.
    
    It generates randomly one label for each different terrain (rivers
    included), taking a bit into account the surrounding terrain (mainly
    if coastal, isolated, or surrounded by same terrain).
    
    See hrm feature #659517.

commit 6eb2268d436e99456d47c26a284c460a5c1b02c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 02:25:30 2017 +0300

    Add missing files to POTFILES.in
    
    gtk3x-client files are still left out intentionally.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03884521955d3c3dd337f6c928b1d1b8e8e6ce60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 01:33:27 2017 +0300

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c84ce356f5837b1c0a55895f6d32bfde9c069281
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:16:31 2017 +0300

    Check if military_advisor has already run before running it
    
    Currently AI always runs military_advisor in last_activities.
    To prepare for the future where texai may run it mid-turn, check
    if it's already run before running it in last_activities.
    
    See hrm Feature #696479
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27b5a6fd4553f901bc5d9ffc235017c302e7d067
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:08:16 2017 +0300

    Add --with-3d configure option
    
    See hrm Feature #693692
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 944142c044acde41f54d61a839ebee3afc043de0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:14:23 2017 +0300

    Drop IPv6 Support check from the missinglist
    
    It's an hard error if IPv6 support cannot be enabled when not
    explicitly disabled, so there's no point in having it in missinglist.
    
    See hrm Feature #696615
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bbddf96c032185fd7af3cbfd24861b567cc34d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:12:10 2017 +0300

    README: Do not list clients capable of starting server
    
    All the clients are able to start the server, so no need to list
    all of them individually.
    
    See hrm Feature #696614
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f6c21522ec588f71d30fe8f7c478b608778b04f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Thu Sep 14 23:17:19 2017 +0200

    Scaling - Fixed some offsets which were not scalled.
    
    See hrm Bug #696435

commit 56694daa0deda4bf93103ab967d05fd44e46dc66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 14 17:11:09 2017 +0300

    dos2unix README.civ2civ3
    
    See hrm Task #695996
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fde76e645bc62ab28ea8ecf1cb925d3618a3a29
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Sep 14 00:38:24 2017 +0100

    Merge current S2_6 en_GB translation
    
    From 0ef03b0634. master stats:
    core: 82%: 6032 translated, 869 fuzzy, 430 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 72%: 63 translated, 10 fuzzy, 15 untranslated.

commit 43360a83c810f121400688b7f36b7691c298cf3c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Sep 14 00:33:12 2017 +0100

    Update POTFILES.in after hrm feature #688329.

commit 55945b78d059ac12173005430ab94291c1adc433
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Sep 12 10:22:16 2017 +0100

    Miscellaneous string-related tweaks.
    
    Rewordings, pluralisation, correct parts of speech in substitution.
    
    See hrm bug #689474.

commit fe899dabede9306f33a58241e1eb23eaa326546f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 12 07:51:16 2017 +0300

    Use pf_parameter->map consistently
    
    Change all the hardcoded pathfinding references to &(wld.map)
    to use pf_parameter->map instead.
    
    See hrm Feature #696474
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c8d193d062834afd6aa6c91fdd5e2018546d34a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 12 03:42:33 2017 +0300

    Ruledit: Add effect value editing
    
    See hrm Feature #696455
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa913b9244f8b244e69649a7f5986254e77fc3c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 12 00:03:25 2017 +0300

    README.effects: Use 'type' instead of 'name' in example
    
    See hrm Bug #696433
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67df02f4d8e36e028a2814701e5a60a2eb0d6582
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 11 23:12:58 2017 +0300

    Travis CI: Build sdl2-client
    
    See hrm Feature #696426
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a90e4087d43fce227d266847a093c248865a1744
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 11 23:09:28 2017 +0300

    Notify clients if saving of the game fails
    
    Reported by Christian Knoke <chrisk>
    
    See hrm Feature #657139
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db52ed80323f956d0a318c74b564fe3ad010a277
Author: dftec <dftec.es@gmail.com>
Date:   Mon Sep 11 01:43:18 2017 +0300

    civ2civ3: Tribal +1 content, Federation +2 luxury.
    
    Tribal gets 1 extra content per city instead of martial law.
    Federation gets 2 extra luxury per city instead of 3.
    Switch empire size of Tribal (now 12) and Monarchy (now 14).
    Set Monarchy as better than Despotism for the AI, and Republic better than Tribal.
    
    See hrm feature #696065.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42d6cb1a38bf2dd8dbb8d9d778688caa401edd78
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 16:41:15 2017 +0100

    Graphics for Ecclesiastical Palace.
    
    Source is public domain photo of Potala Palace in Lhasa, Tibet,
    by (WT-en) SONORAMA at English Wikivoyage (Own work), via Wikimedia Commons.
    
    Adapted as large building by David Fernandez (bard@hostedredmine) and
    as small building by "frank e" (aka dunnoob). Spec/Makefile changes by me.
    
    See hrm feature #657388.

commit 79d4dd8fc783f65e5c8593dfc44d0a7ff2ffc627
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 13:53:45 2017 +0100

    Add oil_rig to Amplio tileset.
    
    This is the last tileset in git without distinct graphics for civ2civ3's
    Oil Platform.
    
    See hrm feature #696028.

commit 7ada6f22edafb16a5cd6694eaff6ca490582a695
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 13:35:44 2017 +0100

    Enable client heartbeat by default.
    
    See hrm feature #693269.

commit fe525de0296ef6e38936905305804286a1613b48
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 12:43:29 2017 +0100

    Fix full city bar drawing with non-default zoom.
    
    Also, comment that canvas_put_line() has different semantics wrt zoom
    than other canvas_put functions (I wasn't quite brave enough to fix it
    now).
    
    See hrm bug #685277.

commit 0cb246717ef8932db286eddeba3f1a0a37206dbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 10 03:23:41 2017 +0300

    Limit number of gold-upkeep military units AI builds
    
    See hrm Bug #696007
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96f755bd3096f6ef4e71433ff09d72fdbd41f4ef
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:37:53 2017 +0200

    Qt client - crop pixmap in progressbar
    
    See hrm Feature #696000

commit 9fb052ece46bff049cbd9d429bb1e2dfdf2fe67d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:35:27 2017 +0200

    Qt client - city dialog - use smooth scaling for items in production widget
    
    See hrm Feature #696001

commit 9313035def3ed5a8e485d8e4475dcf16387f96c3
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:32:34 2017 +0200

    Qt client - toggle reports visiblity with shortcuts/icons instead just showing
    
    See hrm Feature #695926

commit 8591c3240ebba1517d22ca14ee045a2be643e2c7
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:29:20 2017 +0200

    Qt client - remove deadstores (useless intitializations)
    
    See hrm Bug #695732

commit 98ed7f8a2bf508b73beded5ef3c560d8942f3cae
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:25:34 2017 +0200

    Qt client - city dialog - fixed 3 potential memory leaks
    
    See hrm Bug #695360

commit ccd63f36ae195248e0c041b59c16e9f5e31f27bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 23:27:00 2017 +0300

    Travis CI: Build tex AI
    
    See hrm Feature #696003
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f68898d53cc6df542b3be136079002ac8914ca26
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 19:47:38 2017 +0300

    Add dummy "3D" tileset type
    
    See hrm Feature #684342
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96eb2548b34746c2799ab06004fa3c9c93bbdc61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 10 04:04:15 2017 +0300

    Clarify that coast for UTYF_COAST unit must be SAFE coast
    
    See hrm Feature #696008
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8fbb5224246d98e678b87f4f9162a68de85554ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 22:15:42 2017 +0300

    installer_cross: Build default AI types
    
    See hrm Feature #656548
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9317705e0b6d0de4d64a22ef0f5ee2912204ae3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 19:45:35 2017 +0300

    Travis CI: Build sound support
    
    See hrm Feature #695983
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10340b0b9a076fab1f8131ecf5617e1d09a04c08
Author: dftec <dftec.es@gmail.com>
Date:   Sat Sep 9 23:31:18 2017 +0300

    civ2civ3: No upkeep for pop units.
    
    Units with cost of population (Settlers, Migrants and Fanatics) do not pay
    upkeep of Shields or Gold. But are taken into account for the upkeep of
    Food (except Fanatics under Fundamentalism).
    
    See hrm Feature #681977
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47eb1af6aacb93e3886724bda02d58480d77b739
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 7 14:01:01 2017 +0200

    Bad luck isn't expected tech theft.
    
    A tech thief can get caught because of bad luck or because the victim is
    expecting the tech theft and the action always gets the thief caught when the
    theft is expected. A tech theft is expected when the number of previous tech
    thefts is higher than the limit set by the the Stealings_Ignore effect
    allows.
    
    When a tech theft fails because the tech theft action can't steal if expected
    the thief's owner gets a special message that informs him that this is the
    case. This code wouldn't consider the Stealings_Ignore effect when deciding
    the reason for the failed theft. The consequence was false positives when the
    actor unit got caught because of bad luck in a city with one or more tech
    thefts even if the Stealings_Ignore effect made the tech theft unexpected.
    
    Correct the code responsible for informing a tech thief's owner that the
    reason why it was caught was the number of previous tech thefts.
    
    See hrm Bug #695662

commit 18dca0cc173386c8e8681f49693359801ee633c0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 15:53:06 2017 +0100

    civ2civ3: let Carriers transport Land units.
    
    Since Helicopters can transport Land units, and Carriers can
    transport Helicopters and their cargo at the same time. (There are
    however restrictions on embarking/disembarking land units.)
    
    Also, fixed the helptext of Helicopters that says "infantry units"
    because they can actually carry any unit of Land class, including
    infantry and cavalry.
    
    Patch by David Fernandez.
    
    See hrm feature #681866.

commit 03adf0b27efb5a4a8bc9cd79ee0eca71842b1677
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 9 16:27:08 2017 +0100

    civ2civ3: Simplify Super Highways rules.
    
    City center tiles get the trade bonus (if they are generating any trade)
    regardless of whether they are also enjoying a farmland bonus.
    
    Suggested by David Fernandez (bard@hostedredmine).
    
    See hrm feature #695978.

commit 40241196a48b7c7e73dc1151f50e0b4279b51d13
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 9 15:57:57 2017 +0100

    civ2civ3: fix Nile floods effect.
    
    Since hrm feature #681980, it was giving an irrigation bonus to Desert+River
    tiles even before irrigation was built on them. This change restores 2.5
    behavior (albeit with a different underlying implementation).
    
    See hrm bug #695979.

commit 064ca6f2fdecebe7ef83f26a9bc6126cdf1b93be
Author: Andreas Røsdal <andreas.rosdal@gmail.com>
Date:   Sun Sep 10 16:59:58 2017 +0200

    Speed up AI on Freeciv-web by limiting the distance it will search for threatening enemy units.
    
    See hrm Bug #695447

commit f93f3398c5172bdd2c8ba5e9c1496ff2a530298c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 14:41:20 2017 +0100

    Refresh NEWS for old versions from S2_5.

commit 20d6b9996666d440bff221021a6580f692a520ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 8 01:03:09 2017 +0300

    Avoid featured text control sequences in CITY_LOG() and UNIT_LOG()
    
    See hrm Bug #661108
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f825ccf634f0e749e9c8870771110ce474f85dcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 8 00:52:09 2017 +0300

    ruledit: Consider conflicting and hiding extras needed
    
    See hrm Bug #658576
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04fbc36cbcaadd54dcb252cf84fcb595f3df9e6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 23:43:35 2017 +0300

    Update README.fcdb to the fact that sqlite3 backend is built by default
    
    See hrm Feature #656098
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c16ba4ce510890416801c779b037c1d1ce43a19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 16:06:06 2017 +0300

    multiplayer: Darwin's Voyage gives only one advance
    
    Darwin's Voyage's balancing requested by mir3x
    
    See hrm Feature #692110
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fd2fc4f9b60355fa61d1195bf2076954189dce4
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Sat Sep 2 22:49:12 2017 +0200

    Updated msys1 environment (cairo)
    
    See hrm Bug #693241

commit c2a4848f947715e5f85cb87fd68a83e8bf2d9656
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 01:29:42 2017 +0300

    Travis CI: Build modpack installers
    
    See hrm Feature #695497
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a22f6385b6ef8164dadc093027465f1220a98336
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 01:20:25 2017 +0300

    civ2civ3: Adjust Cheating AI effects
    
    Patch by David Fernandez (bard)
    
    See hrm Feature #681976
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a414616886b1379e643a02f23e9119954e7dea0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 10:32:05 2017 +0100

    Gtk3.x: don't set info popup as app_paintable.
    
    Expected to solve a problem where the background of the popup is not drawn
    at all with some versions of Gtk3 on Windows.
    
    (These calls were already removed from gui-gtk-4.0 by hrm feature #647932.)
    
    Reported by S.C. L. (Caedo), based on a previous fix by
    Marko Lindqvist (cazfi).
    
    See hrm bug #694328.

commit 39f4256065532b720e39d91caea104242373e120
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Sep 5 10:18:21 2017 +0100

    Remove changes section from README.civ2civ3.
    
    This will be covered by the NEWS file instead.
    
    See hrm bug #685285.

commit f05019b33720624e6c46c2551f5682dd52ce5865
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Aug 30 13:31:20 2017 +0200

    "Spy" utype flag is dipl battle strength only.
    
    Document that the only remaining use of the "Spy" unit type flag is to make a
    unit stronger in diplomatic combat.
    
    See hrm Feature #694112

commit 2e84c5c03166753ddcfb3fffcd09706660ee4997
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 28 10:09:11 2017 +0200

    Make expected steal depend on the action.
    
    Stop using the "Spy" utype flag to signal that a unit can try to steal a tech
    from a city even when expected. Start using the action in stead. Rename
    "Steal Tech Escape" to "Steal Tech Escape Expected" and
    "Targeted Steal Tech Escape" to "Targeted Steal Tech Escape Expected" to
    reflect this. (This isn't an action split.)
    
    Tech theft is expected when the number of previous tech thefts from the
    target city is above the limit set by the "Stealings_Ignore" effect. When
    tech theft is expected the difficulty of stealing a tech goes up. Certain
    units, like the classic ruleset's Diplomat unit, will always fail when this
    is the case.
    
    The actions "Steal Tech Escape" and "Targeted Steal Tech Escape" was
    introduced in 3.0 to cover post steal escaping, an ability that used to
    depend on the "Spy" unit type flag. By making them cover expected theft too
    in 3.0 there is no backwards compatibility need to cover variants like
    "escape after stealing a random tech but always caught when expected". Had
    this waited for 3.1 4 new actions (all combinations) would have been needed
    for backward compatibility.
    
    Should a combination of targeted/random, escape/non escape and "always caught
    when expected"/"sometimes not caught when expected" not covered in this patch
    be wanted for 3.0 it is possible to introduce them as new actions in follow
    up patches.
    
    See hrm Feature #694097

commit d714f58c78039c246e176af26b0af185e38df9cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 5 02:49:09 2017 +0300

    civ2civ3: Replace Output_Inc_Tile by Mining_Pct and Irrigation_Pct
    
    Patch by David Fernandez (bard)
    
    See hrm Feature #681980
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55b8aa1871e150c9b241db88bbc1e9666695bab0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 6 11:39:06 2017 +0200

    Qt client - fixed "Reset zoom to default" not restoing origianl font sizes.
    Reported by Jacob Nevins <jtn>
    
    See hrm Bug #691751

commit 358e04e30fa00c04cbd70671cc7f7fb42b2012ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 5 02:47:59 2017 +0300

    Drop version number and dimensions from names of scenario files
    
    See hrm Feature #688329
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 614d6f44155bbd6c543b7c5cf3a31dad9341f93a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 5 02:46:41 2017 +0300

    Travis CI: Build qt-client
    
    See hrm Feature #694803
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65df080f59609cd37e098d86d39692c0c795a0f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 5 02:47:15 2017 +0300

    Fix tutorial description to speak of civ2civ3 ruleset
    
    See hrm Bug #694800
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47111fb3ac855bb18439eeb741f15ae344aee8a7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 18:10:06 2017 +0100

    Look at more effects in city_tile_output().
    
    Many effects were skipped if not called in the context of a specific
    city/player, even though they weren't inherently tied to that
    context.
    
    This makes the values shown in the middle-click popup more accurate
    in some cases, and also affects the selection of start positions.
    Notably, civ2civ3's Desert+River irrigation bonus and Oil Well
    bonuses are now accounted for in these places.
    
    The specific effects are Output_Add_Tile, Output_Inc_Tile,
    Output_Per_Tile, Output_Penalty_Tile (unlikely to happen in practice),
    and Output_Inc_Tile_Celebrate (but no callers currently check this
    hypothetical case, so this one has no effect currently).
    
    See hrm bug #694736.

commit b097513ea57b2783a08e6138860e7a72592311ff
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 15:56:57 2017 +0100

    experimental ruleset: enable cultural victory.
    
    (Just changing a setting default, so players can change this.)
    
    See hrm feature #694732.

commit 7a318e8a46c3ac60dc6efaf21d107e9efc8a73c2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 15:33:22 2017 +0100

    civ2civ3: remove NoPollution from Forest/Jungle.
    
    Because (a) as currently implemented it was preventing fallout on those
    tiles too, (b) it doesn't generally do anything to reduce the overall
    chances of pollution, which was the original intent.
    
    Patch by David Fernandez.
    
    See hrm feature #681860.

commit e9e960bd9504e022faf181e477fa83dc27229e92
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 15:24:58 2017 +0100

    civ2civ3: Disable city centre minimum food.
    
    The only effect this has is that city centre tiles which are Desert will
    lose 1 food if mined.
    
    Patch by David Fernandez.
    
    See hrm feature #681856.

commit cf56e9ae4dedeac0c1f7048351636bece20f1a37
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 14:42:13 2017 +0100

    Specify unit.outpost/airstrip for all tilesets.
    
    The tilesets changed here don't have distinct unit activity icons, and
    civ2civ3 was already using them via fallbacks, so there's no functional
    change for civ2civ3; but this means that some other ruleset can safely
    use outpost/airstrip as a fallback for something else.
    
    See hrm feature #657385.

commit 83bc4f138722aada4b7dc79ecc3a05155eb1c4da
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 14:10:37 2017 +0100

    Airstrip/outpost graphics for isotrident/hex2t.
    
    Since isophex uses isotrident graphics, this completes support for these
    bases in the supplied tilesets.
    
    Airstrip is taken from Trident (and the recoloured airbase too, for contrast);
    outpost graphics were drawn by me.
    
    See hrm feature #657384.

commit 16a7729276c3f448413b465e27b4022742042c7f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 12:21:10 2017 +0100

    oil_rig graphic for trident, isotrident, hex2t.
    
    Copied from isophex (whose oil_rig is in turn based on oil_mine, and was
    adapted by GriffonSpade).
    
    See hrm feature #694717.

commit 6bde54a51de7da40c463c154795b20a8ee48f363
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 3 23:24:00 2017 +0300

    Update Finnish translation
    
    This is just S3_0 fi.po msgmerged against master strings.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce4f81cc9f265d9c2126196efc0713ee28601266
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 28 22:11:31 2017 +0300

    gtk3-client: Do not use CAIRO_OPERATOR_DIFFERENCE on windows with ancient cairo
    
    Crash reported by Griffon Spade
    
    See hrm Bug #693241
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 857c4fe6af4b13f99a5381dcf37d70510398ac15
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 29 00:04:27 2017 +0300

    Add tileset_type_set()
    
    See hrm Feature #693687
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6618f1d2d9219f5fbaf5a48c756a8a6f4265b090
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Aug 28 14:41:31 2017 +0100

    Update combat help for some 2.6 changes.
    
    Also note in comments where each described combat modification comes from.
    
    See hrm feature #693658.

commit f08238bb542c45b276303a95be80edca250c06f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 28 22:20:17 2017 +0300

    Achievement Literate is about literacy percent, not absolute score
    
    Requested by David Fernandez (bard)
    
    See hrm Bug #685252
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bfe299eb02e547f1a5c1f07916c7c9a0f2aa1480
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 28 22:11:52 2017 +0300

    Explicitly set size of sequences array in generate_save_name()
    
    See hrm Bug #693442
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbc45fc646fa353bf448a73ccd5c692949f947b8
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Aug 27 15:46:50 2017 +0100

    Fix typo'd comment in stub ruleset.
    
    See hrm bug #693398.

commit c900e803ef7c7243a4c1a9e5a18ee097a8bba25f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Aug 27 12:48:20 2017 +0100

    Hexemplio Hills/Mountains tweak by GriffonSpade.
    
    "Removes the protruding 'tab' that extends from the top half of the left
    and right male connectors, reducing it to the rounded hill section."
    
    See hrm feature #693375.

commit 014ccf72e71ebfb39068901175b614c572b42fab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 29 00:07:06 2017 +0300

    dos2unix toonhex.tilespec
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f4d0042db97acda69cd086639cb28aed42a821a
Author: Joan Creus <joan.creusandreu@gmail.com>
Date:   Mon Aug 28 19:28:52 2017 +0200

    Update to Catalan ruleset translation

commit aa81f0b2a93de1fa41a038fa0f42006dde4755d4
Author: Joan Creus <joan.creusandreu@gmail.com>
Date:   Mon Aug 28 19:14:11 2017 +0200

    Catalan translation update

commit d4f2767284ebebc1f2eee29dafd59aebcd04d4d3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Aug 26 19:23:10 2017 +0100

    Stop referencing "airfield" in tilesets' extrastyles.
    
    It should be 'airstrip'. (For the civ2civ3 ruleset at least, we were
    getting away with no ill effects.)
    
    Reported against Hexemplio by GriffonSpade.
    
    See hrm bug #693242.

commit 15720d55ef50d3f1c5d45bc705d9b9115b491474
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 24 07:14:12 2017 +0200

    AI: consider the Stealings_Ignore effect.
    
    A city's server.steal is now modified by the Stealings_Ignore effect. Stop
    checking server.steal directly in the AI. Factor the code that modifies it
    into the new function diplomats_unignored_tech_stealings() and use it in the
    AI.
    
    See hrm Bug #691824

commit 8b9ca1a51850ca0ea00c9a9226595c62f1035f3e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Aug 26 18:22:33 2017 +0100

    Fix error in comment about city radius.
    
    Report and patch by frank e (aka Dunnoob).
    
    See hrm bug #692486.

commit 71f3841e86c78f5c185e5f90f5d9607e98a5d469
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Aug 23 23:07:20 2017 +0100

    Hexemplio: fix glitches in numbers.
    
     - city/goto numbers: 1 and 9 one pixel too narrow
     - F/P/T: overflow "X" misaligned by one pixel
    
    Also remove long-unused "explode.nuke_00" etc.
    
    See hrm bug #692651.

commit 7f76a1c9c55d0d6d7001445dbde3dd7213aafbb3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 13:01:37 2017 +0200

    Check rulesets as a part of Travis CI builds.
    
    Make Travis CI complain about rulesets to broken to load.
    
    See hrm Feature #692598

commit b3dc61c7a1e3e3fe0296021e2f5c8d912a35ea1c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 15:11:52 2017 +0200

    Add the new rulesets_not_broken.sh test script.
    
    Manually checking that each ruleset developed with Freeciv loads is error
    prone. It is easy to forget a ruleset or to misread an error message followed
    by the loading of another ruleset as a successful load.
    
    Introduce the new script rulesets_not_broken.sh. It makes it easier to detect
    ruleset errors.
    
    Not hooked up to the build system or to Travis CI yet.
    
    See hrm Feature #692021

commit 96d3eec093dbb5f177300fd0cf3b11f82135bb49
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Aug 23 13:52:24 2017 +0200

    The fcdb server command needs --auth.
    
    Have the fcdb server command tell that it needs to be activated when the
    Freeciv server start when someone tries to use it without having activated it
    first.
    
    See hrm Bug #692525

commit 032c0fab7031db8dbc45c2588e1e46c41589dad2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Aug 22 18:25:31 2017 +0200

    Include <stdarg.h> to actions.c
    
    Found by tests/va_list.sh
    
    See hrm Bug #692342

commit 71d30ef4cf4bed00c5880fbbbb4cb3e32e57bb17
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 13:32:59 2017 +0200

    Add an unsafe Lua environment example.
    
    Add the new ruleset_is.lua check. It checks the current ruleset directory and
    uses its exit status to signal if the ruleset is as expected.
    
    This serves as an example of what can be done with the lua server commands
    unsafe-* sub commands. I also intend to use it in test that checks that all
    the rulesets that lives in Freeciv's version control loads.
    
    See hrm Feature #692310

commit b5d03567c2dced27e0b591db9d7b6ea17e7ebb04
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 14:34:45 2017 +0200

    Allow running unsafe Lua via server commands.
    
    Add the two new sub commands unsafe-cmd and unsafe-file to the lua server
    command. Limit access to it to the console and connections with cmdlevel
    'hack'.
    
    The new sub commands runs the script in an instance without the security
    restrictions of the instance where the ruleset, scenario and other lua sub
    command runs.
    
    Lua code from scenario savegames and rulesets will obviously not run in this
    context. (A user could be tricked to load an edited ruleset or savegame.)
    
    My main motivation for this feature is that I want the ability to write tests
    in Lua that communicates with the outside world.
    
    No signal support is currently included. Not sure if should be included. One
    the one hand it would make it easy to write certain tests. On the other hand
    its has security implications. Supporting the game signals allows a non hack
    player to run unsafe Lua code by triggering the signals it listens too. (The
    unsafe Lua that listens for signal must already be put there. Think social
    engineering and/or buggy unsafe Lua code.)
    
    See hrm Feature #692001

commit 68a3f97be1fec34f26b36d8ad1f89c0497624c2e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Aug 21 21:27:16 2017 +0100

    Fix multiplayer ruleset Darwin's Voyage.
    
    An edit was missed during gna patch #6531, leading to a Lua error
    upon building Darwin's Voyage, and no free techs.
    
    Reported by "pungtryne" on the forum.
    
    See hrm bug #692096.

commit 1a5e494df91b10e2b937d51ac375c7b155b69c39
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 16:27:33 2017 +0200

    Unit with "Spy" may not be able to escape.
    
    A unit type with the "Spy" utype flag may be unable to perform any actions
    where it can escape when done. Check for ability to perform escape actions
    rather than UTYF_SPY when determining if a "SuperSpy" can use it's ability
    to always escape.
    
    See hrm Bug #692039

commit 2eb551044cc58aeb5008524c67fc170ea23b0a8e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 13:07:00 2017 +0200

    Fix civ2 ruleset syntax.
    
    Add missing comma. Already fixed in 3.0.
    
    See hrm Bug #691976

commit ecae69f14382e6586617a483c40c8aa792fe1dfd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Aug 20 16:11:44 2017 +0200

    AI: check for Escape actions, not "Spy" flag.
    
    The AI tries to determine if a unit may survive a tech theft mission by
    looking if it has the "Spy" unit type flag. But surviving tech theft is now
    determined by what action is performed. Check for the ability to perform an
    tech theft action that involves escape instead.
    
    See hrm Bug #691825

commit b5012f25acbb5c6eb00744a6716665c8eef1688e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Aug 20 12:49:29 2017 +0100

    Scenarios: add authors, update descriptions.
    
    See hrm feature #691819.

commit 4fc4be1453892c2a5990abedef5f3587cb24052c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 18 16:20:51 2017 +0200

    Escape split the action "Poison City".
    
    Stop relying on the "Spy" unit type flag to decide if performing the action
    "Poison City" consumes the actor unit. Split out a new action called
    "Poison City Escape" from the original action. The new action will have
    its actor try to escape. The original will always consume the actor unit.
    
    This is the last use of the "Spy" utype flag to determine if an action
    consumes a unit.
    
    See hrm Feature #691637

commit 4a3ff8dbe9c7038a835a5fe418b39c635c1024fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 18 15:24:46 2017 +0200

    "Spy" utype flag implies "Diplomat".
    
    This in enforeced in sanity_check_ruleset_data(). Checking for the "Spy"
    unit type flag when the "Diplomat" unit type flag isn't found is therefore
    redundant.
    
    See hrm Feature #691620

commit e52d28737fd9f90e4a476ed042ef2adec4cfc3c4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 18 14:37:03 2017 +0200

    civ1 and alien don't have city poisoning.
    
    Don't configure it.
    
    See hrm Bug #691609

commit a9e9227b2167087d3529b2d7bd64461ef7ead9dd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Aug 19 23:16:43 2017 +0100

    Fix Qt format error in freeciv/fr.po.
    
    In consultation with "Igx The Dreaming Drummer..."

commit 1b65f10d324248f357fad214f027afe5eaaa806b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 11 02:50:24 2017 +0200

    Escape split the action "Sabotage Unit".
    
    Stop relying on the Spy unit type flag to decide if performing the action
    "Sabotage Unit" consumes the actor unit. Split out a new action called
    "Sabotage Unit Escape" from the original action. The new action will have
    its actor try to escape. The original will always consume the actor unit.
    
    See hrm Feature #691360

commit 17f6cc4a6d055a51e1a85d71ba6d29fea68746dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 14 06:58:36 2017 +0300

    Drop gratuitous i18n marking around muskogee.ruleset nation groups
    
    Reported by Jacob Nevins
    
    See hrm Bug #690152
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82657195c185763779b3c4d5c1bcd74c842364c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 13 23:19:25 2017 +0300

    Make max scorelog line length 120 bytes
    
    Reported by Máximo Castañeda (lonemadmax)
    
    See hrm Bug #690381
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8c65e848d54d1324c5895497b4902b1e5cd8c1b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 14 10:32:51 2017 +0200

    Explicitly set ui_name_steal_tech_escape
    
    so it is easy to discover how to rename the action.
    
    Reported by Marko Lindqvist
    
    See hrm Bug #690532

commit 744b109e7e359fe6382d6265ca67c05dee8394da
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Aug 13 15:27:28 2017 +0100

    Add "Performance" column to city report.
    
    Also, cope with incomplete client knowledge when breaking down culture
    in the city dialog.
    
    See hrm feature #690343.

commit cb3dec612fdc9460c0335dd48219ba7bd9681a71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 15 06:53:37 2017 +0300

    Copy FAQ version from S2_5
    
    See hrm Feature #690215
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c271ed464f7660a32269b05955b29ff5fd7dc2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 13 23:12:28 2017 +0300

    Fix civ2/game.ruleset syntax
    
    See hrm Bug #690203
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 354f15fd8438e63391c98fcaf33b69a7702852bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 14 01:50:38 2017 +0300

    Update Finnish translation of ruledit domain
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a25964c9ec88a285b574b86c025638b48e173f51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 13 08:41:46 2017 +0300

    Add startpositions for up to 89 nations to large earth scenario
    
    Patch by Rhue of L
    
    See hrm Feature #688280
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78a7615007ccd92b899bce090bc55aae0e6c02e6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Aug 7 23:14:59 2017 +0100

    es.po spot fix: fix "Migrants" translation.
    
    A stray leading space in the translation was causing this unit to
    appear nested in the help when using the Spanish translation.
    
    Report and fix by David Fernandez.
    
    See hrm bug #662732.

commit 5b5876f5ffad75cdd1fec14d13b0095302625757
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 12 10:03:15 2017 +0300

    Update Finnish translation of nations
    
    Translations by Sini Ruohomaa
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d02bc3fad23d8d70cc0a6a4f346fb71c3d93299c
Author: Andreas Røsdal <andreas.rosdal@gmail.com>
Date:   Fri Aug 11 17:35:26 2017 +0200

    Test Travis CI build.

commit 5c911f6cf1052493d93a622d275038497f386a5c
Author: Andreas Røsdal <andreas.rosdal@gmail.com>
Date:   Fri Aug 11 17:32:08 2017 +0200

    Run server autogame as a test on Travis CI and add Travis CI build status to README.md.  See hrm issue #689652.

commit a3679329f965400d99e1c1639f892789f7287ca7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Aug 9 10:25:23 2017 +0200

    Escape split the tech theft actions.
    
    Stop relying on the Spy unit type flag to decide if performing the action
    "Steal Tech" or "Targeted Steal Tech" consumes the actor unit. Split the new
    actions "Steal Tech Escape" and "Targeted Steal Tech Escape" from the
    original actions. The new will have its actor try to escape. The original
    will always consume the actor unit.
    
    See hrm Feature #689526

commit c2eb422440afcb44b671c10212a55572c2a929c4
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 16 00:08:06 2016 +0100

    Miscellaneous string-related tweaks.
    
    Typo fixes, rewordings, TRANS comments, etc.
    
    See hrm bug #689474.

commit 2f24fe524fb112b9318f3a047c83b2a775b8973d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Aug 8 23:34:19 2017 +0100

    Fix strings using Lua research_name_translation().
    
    See hrm bug #689470.

commit 955282da10834f5c569b1b749a2d721b7cf738da
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Aug 7 22:50:11 2017 +0100

    Add freeciv-gtk3.22 to .gitignore.
    
    Patch by Marcel Admiraal in hrm bug #688807.

commit edc1525206a0ad121b736a5cbe6cdc97306ba61b
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Sun Jul 30 21:40:28 2017 +0200

    Updated msys1 environment (toolchain)
    
    See hrm Bug #682703, Bug #681877, Bug #681643

commit 43da82865bae8623c5d8f906ea6c25a08e34e83a
Author: Andreas Røsdal <andreas.rosdal@gmail.com>
Date:   Sun Aug 6 10:38:09 2017 +0200

    Test of Travis CI.

commit 76db9c418f7649fce890973fa55266d7e524ae14
Author: Andreas Røsdal <andreas.rosdal@gmail.com>
Date:   Sun Aug 6 10:33:36 2017 +0200

    Add support for building Freeciv on Travis CI.
    
    See hrm Bug #688359.
    
    Signed-off-by: Andreas Røsdal <andrearo@pvv.ntnu.no>

commit 33f347b05e47815f482ab8483367dc8d4573401e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 4 17:31:26 2017 +0300

    Hexemplio: Move patrol icon to unitextras.png
    
    Activity offset is not applied to patrol icon, so it should not
    be in activities.png
    
    Reported by Griffon Spade
    
    See hrm Bug #686635
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1d431695ea593945a3380e3b7b2ba42e2dfd7c0
Author: Joan Creus <joan.creusandreu@gmail.com>
Date:   Sat Aug 5 18:57:24 2017 -0700

    Updated Catalan translation

commit 1c315e037d6974cdbbef244fa0de5ec222a9643d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 4 17:10:18 2017 +0300

    dos2unix hexemplio spec-files
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ae3c00aaf8bef292ebe87670e50f3c28f4abdef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 30 11:11:17 2017 +0300

    Document what icons are considered "Auto" for activity_offset purposes
    
    Reported by Griffon Spade
    
    See hrm Bug #686635
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e510bd76eb74054ea1d8a9215b505fb233adf1d4
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:58:29 2017 +0200

    Qt client - fixed icon aspect ratio not preserved in progress bar
    
    See hrm Bug #683173

commit f1d026ed5ee2dc975e7789756a8fafd7ffb88a53
Merge: bb3264f29b 90868129a4
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:28:22 2017 +0200

    Merge branch 'master' of https://github.com/freeciv/freeciv

commit bb3264f29bd0e41d7e45d0e3b5b8cd6ab9d7c569
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:22:43 2017 +0200

    Qt client - add menu option/shortuct to reset tileset to default scale
    Suggested by 'Griffon Spade'
    See hrm Feature #683166

commit 90868129a4c63df17663adf90e379a2b21f4ecd7
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:22:43 2017 +0200

    m.txt

commit 378e3d5c641481edbd3aad85f896a1eaab748280
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:11:34 2017 +0200

    m.txt

commit d3425f0a38637471fb507279850e9ebb013cd229
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 29 08:03:38 2017 +0300

    Fix crash on audio tag selection
    
    Wrong version of the Bug #683571 has been committed, resulting in a
    segfault in audio tag selection. This fixes it.
    
    See hrm Bug #683571
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 786587c6d4eba4696b410dea1b7253b1b8a71909
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 23 13:08:35 2017 +0100

    Remove unused isotrident/ocean.{png,spec}.
    
    These were added in 2007 (PR#35908), but never used or shipped.
    
    See hrm bug #678446.

commit fdbcade407d2808977796116feeef7fb2cab67e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 23 00:10:33 2017 +0300

    Add topology compatibility levels
    
    Incompatibility of the non-hex iso and non-hex overhead topologies
    is considered only soft one, and causes no warnings. All other
    incompatibilities are hard ones and cause warnings.
    
    Requested by David Fernandez (bard)
    
    See hrm Feature #653727
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50bc1d698b588a9545edaf72b5236ec79b00057c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 22 09:59:11 2017 +0100

    Comment that citizens_graphic/alt don't work.
    
    They were defined in 2003, but never implemented.
    
    See hrm bug #685211.

commit 9c8d453d727529008c0e57509ee327e14e66102f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 13:25:53 2017 +0300

    Add missing dlls to msys2 based installers
    
    Reported by GriffonSpade
    
    See hrm Bug #684472
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c581592201bc65e5dbd0e94dd169d0edca8dd08c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 02:27:19 2017 +0300

    Fix track selection
    
    - Fix reselecting the only track matching the tag
    - Return correct track number when newly selected track
      has lower number than excluded track
    
    See hrm Bug #683571
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad7e36950018b13576c25ae40c71626e127797e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 17:23:25 2017 +0300

    Increase max number of players to 500
    
    See hrm Feature #677144
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5f94c4b83c3d71c8fdd49075a77516225e26fcf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 02:26:34 2017 +0300

    Reinitialize have_huts to FALSE when generating new map
    
    See hrm Bug #682576
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a9d3acfc9b6fe638a09de4fc3c4ccf96ff07aab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 02:26:16 2017 +0300

    Occupied enemy cities always impose ZoC
    
    Even if there's only UTYF_NOZOC units inside.
    
    See hrm Bug #657406
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd7764830e0a01be68fb6f49fb902f26d16b19fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 00:08:07 2017 +0300

    Set submarines to "Subsurface" vision layer in supplied rulesets
    
    See hrm Feature #682506
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d789034c2415002571376d46db3698bd4e3c42f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 00:07:49 2017 +0300

    Add "vision_subs_sq" property to bases
    
    See hrm Feature #682512
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71e428f643d3dea7c02ae968a9a966da146c952e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 00:07:28 2017 +0300

    Hide units at "Subsurface" vision layer
    
    See hrm Feature #682511
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bc816b3c3f38ed8b92da1b911e26ab23a00326b
Author: dftec <dftec.es@gmail.com>
Date:   Sun Jul 16 10:52:15 2017 +0200

    civ2civ3: non consuming inv. city and est. emb.
    
    Having to waste 30 shields to know the defenders of an ancient city
    encourages blind attacks that are more based on the knowledge of the enemy
    player (or the AI) than on the actual situation of the game.
    
    Fix this by making agents survive city investigation.
    
    If tech leakage was enabled (and linked to embassies), a game against few
    players was different compared to many players when you needed to build one
    diplomat per embassy. (This affected the value of the Marco Polo wonder too)
    
    There was a huge difference when players could receive the embassies for
    free from a treaty compared to players that had to waste 30 shields per
    embassy.
    
    Fix the tech leakage issue by making agents survive embassy establishment.
    The alternative was to change tech leakage method. This way, where you have
    to visit a city of each player in order to reduce the cost of his known
    techs, is better.
    
    The AI likes to create embassies with every player. Non consuming embassy
    establishment may help it.
    
    Patch by David Fernandez
    
    See hrm Feature #683542

commit a3eae6467664f6e547b59631cc7c20ea01e0e0fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 6 12:43:41 2017 +0200

    Make it easy to check act prob certainty.
    
    The new function action_prob_certain() checks if an action probability is
    certain the the action is enabled.
    
    See hrm Feature #674443

commit b2901867697c9c1a591b48b462ac3ec6285ee4e9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 16 15:36:10 2017 +0100

    Casus belli changes player mood to combat.
    
    This affects the music system. It is provoked by a diplomatic incident
    (unit actions) or an alliance breaking due to an ally ending up at
    war, and naturally lasts for a turn or two.
    
    See hrm feature #683573.

commit 8762c8af7cb3f2250f355155ceb7c826084e8362
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 16 01:49:44 2017 +0100

    Refresh client on entering combat mood.
    
    This ensures that the music changes at the right time.
    
    See hrm bug #683572.

commit 1129b2931ede64b73520cd4105ceced69be2d5b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 23:53:00 2017 +0300

    Check that "Fusion" style has been succesfully created
    
    See hrm Feature #683528
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d626b611306e1d04f555570f112d3d94c08fba5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 23:50:22 2017 +0300

    Add missing space to AI log message
    
    See hrm Bug #683175
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df2916cf993c4090f11b57f8923795c961bd8228
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 23:50:03 2017 +0300

    Make help_widget::add_extras_of_act_for_terrain() label parameter const
    
    Reported by David Fernandez (bard)
    
    See hrm Bug #683512
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9d9c9a1bbe8f6de0486280c42bf7688646a186b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 15 19:54:00 2017 +0100

    Document AI skill level handicaps etc in help.
    
    See hrm feature #683525.

commit 4beb5c163edc716da17b090b3352d798e557859e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 22:21:31 2017 +0300

    Add Subsurface vision layer
    
    See hrm Feature #679427
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef6e8fabb7f7dfec35f3ee030bfdabc7aebdca80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 19:54:35 2017 +0300

    Update tileset-demo scenario to S3_0 format
    
    See hrm Feature #677616
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f945c863f89944e3a98d340ac7d55f0cd835207d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 19:54:08 2017 +0300

    Update tutorial scenario to S3_0 format
    
    See hrm Feature #677617
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0160c227d971d4952a687ed9cd8422203eb6166d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 19:53:49 2017 +0300

    Update north america scenario to S3_0 format
    
    See hrm Feature #677615
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbf4ec9bd96291466e3f3032994f5c2956e91f51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 19:53:27 2017 +0300

    Update japan scenario to S3_0 format
    
    See hrm Feature #677614
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18fa4d1123f7fb03bbd2e2f4e3d5317a80be14c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 22:18:48 2017 +0300

    Add exchndl.dll to msys2 installer packages
    
    See hrm Feature #683174
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 813e3fc064a35d2bc8e24bb093621a135e799b8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 22:18:27 2017 +0300

    Update msys2 environment to 170714 level
    
    See hrm Task #682538
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2418b284a66659043bb9941c94df0ebda2b9675b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 14 02:28:22 2017 +0300

    Add librsvg-2-2.dll to msys2 gtk3- and gtk3.22-client installers
    
    Reported by GriffonSpade
    
    See hrm Bug #682832
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ef8bb0bd74825aade4603b46ba75e6fc0be77a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 14 01:49:42 2017 +0300

    Respect 'directory' parameter at qtg_get_useable_themes_in_directory()
    
    See hrm Bug #682731
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db5eb4d69ad21ee1f510b314807f9cd67e7f3994
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 14 02:27:02 2017 +0300

    Make all river outlet sprites mandatory
    
    See hrm Feature #657130
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdd25820e6523c4499a98244005cbf2c47fb8d8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 14 02:26:39 2017 +0300

    Fix qt-client get_gui_theme_directories()
    
    Stopgag fixes
    - Call fileinfoname() with NULL second parameter, not ""
    - Support directory names longer than 255 bytes
    - Copy correct number of chars as name of the directory
    
    See hrm Bug #681311
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fedf6e2698a6cb06bf34c9000a4295c7c7d069d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 07:45:42 2017 +0300

    Remove compress and compresstype settings from tileset-demo scenario
    
    See hrm Feature #682572
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 955bf3bca4437646c666d045f31133a5ebce7a4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 03:51:11 2017 +0300

    Fix fileinfoname() crash in WIN32_NATIVE
    
    See hrm Bug #682522
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56beb4419576749c81a451b1604ff15ca9c0ac0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 02:37:12 2017 +0300

    Use phase_seconds from the savegame
    
    Requested by Andreas Røsdal
    
    See hrm Feature #662023
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5470150cfd038dfb6c0e20ab9f39095c849f3bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 02:38:28 2017 +0300

    Rulesave: Save base "vision_invis_sq"
    
    See hrm Bug #682513
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20437a1535acda505f2fb8925ea1c09f5ddf4103
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:48:56 2017 +0300

    Update italy scenario to S3_0 format
    
    See hrm Feature #677613
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58db60cf3cbd5edf6d627f5f3fe1977c6ca08915
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:48:39 2017 +0300

    Update iberian peninsula scenario to S3_0 format
    
    See hrm Feature #677612
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1437703779b40fdddeb2a150224f371bbcea018a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:48:22 2017 +0300

    Update hagworld scenario to S3_0 format
    
    See hrm Feature #677611
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84233959d20b7300549c0a300c476f1f3060e2de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:48:04 2017 +0300

    Update france scenario to S3_0 format
    
    See hrm Feature #677610
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7c27836fc1904a8241d187732785a5aaad8b0b3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 11 10:05:33 2017 +0200

    Split the building sabotage actions.
    
    Stop relying on the Spy unit type flag to decide if performing the action
    "Sabotage City" or "Targeted Sabotage City" consumes the actor unit. Split
    the new actions "Sabotage City Escape" and "Targeted Sabotage City Escape"
    from the original actions. The new will have its actor try to escape. The
    original will always consume the actor unit.
    
    See hrm Feature #682342

commit e65198e55b29155069de0050746a94d3e58575a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 13 12:28:38 2017 +0300

    Update Finnish translation
    
    This is just S3_0 translation msgmerged to master.
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8911d272fabceac5fbe7717a1b4645c952e8b1fc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 23:02:40 2017 +0100

    Isophex update from GriffonSpade.
    
     - Added lake terrain
     - Updated floor and coast
     - Changed river mouths to new versions
     - Fixed river connectors to all properly connect
     - Added new NW and SE river mouths (fixes hrm feature #657132)
     - Add distinct tx.oil_rig
     - Add ts.aluminum, elephant, rubber, saltpeter, uranium
     - Reorganise graphics/grids
    
    See hrm feature #680743.

commit 79ce0d89d665cfd568bbf0a19aac8769247b0870
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 11 18:46:05 2017 +0300

    Make PLAYER UINT16 type
    
    See hrm Feature #673993
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 603ee5ef00037c0fcb323b53cdc8810723fb1850
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 11 18:45:38 2017 +0300

    Do not make tile info window app paintable
    
    Reported by S.C. L. (Caedo)
    
    See hrm Bug #656549
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5702ad8fcfb267bdbb1e954b1bdb7083306d6624
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 11 18:45:10 2017 +0300

    Fix msys1 ruledit installer build
    
    See hrm Bug #680074
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba2073703806fcbc4a9d483f8a1d19d2732bce84
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 19:57:05 2017 +0100

    Remove ZOC flag from civ2civ3/sandbox Sea units.
    
    It was mostly ineffective (deliberately) but caused misleading help.
    
    Patch by David Fernandez (bard@hostedredmine).
    
    See hrm bug #657408.

commit 92b8ab1a3b04e1ca36807d6f301c6bdfb7decd15
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 19:03:13 2017 +0100

    Fix client-side accounting for Traderoute_Pct.
    
    Was causing city dialog trade popup to contain "(unknown)" and sums not to
    add up.
    
    Reported by Marko Lindqvist (cazfi@hostedredmine).
    
    See hrm bug #660936.

commit 294257fd7426cc3464faeb3b0ddd04b24d3b5de8
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 16:42:39 2017 +0100

    Fix typo 'Andew Johnson' in american.ruleset.
    
    See hrm bug #681847.

commit 8e68cf96023f28d48bd7533adf96422800627145
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 16:08:52 2017 +0100

    Fix sandbox ruleset for Partial_Invis removal.
    
    This was missed in hrm feature #673389.
    
    See hrm bug #681855.

commit 47b040a3e3bec3fefe01d5ab3919ca757040ab64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:58:29 2017 +0300

    Update europe-200x100 scenario to S3_0 format
    
    See hrm Feature #677618
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c0e5401889a6a2864ad84c859f9b565fb03608f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:58:12 2017 +0300

    Update europe_1901 scenario to S3_0 format
    
    See hrm Feature #677609
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 820d4bf686bb275efa57377fd3d6e0f820aae2f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:57:51 2017 +0300

    Update earth-80x50 scenario to S3_0 format
    
    See hrm Feature #677608
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50e00749e7e86409a237efdfabe73ab967466678
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:57:29 2017 +0300

    Update earth-160x90 scenario to S3_0 format
    
    See hrm Feature #677607
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69a5015fd183eebe129568f965f683df2052031d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:57:12 2017 +0300

    Update british-isles scenario to S3_0 format
    
    See hrm Feature #664358
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 675551cf90c23c7df9921196f81550e4b5dc4c8f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 20:30:22 2017 +0100

    civ2civ3/sandbox: roads are AlwaysOnCityCenter.
    
    This is mainly to fix a gameplay glitch that Big Land units could not
    attack cities on rough terrain whose owners did not know
    Bridge Building, because their city had no roads. The side effect is
    that cities can be built to bridge rivers once again.
    
    Patch by David Fernandez (bard@hostedredmine).
    
    See hrm feature #676162.

commit ae6ece86e77b24c30b9c446c47457d8432f00197
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 22:48:04 2017 +0300

    Update msys2 environment to 170707 level
    
    See hrm Task #678380
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 471eb9c743aa8c3f649d3620edba0da3df95c774
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 15:42:47 2017 +0100

    Prerequisites for civ2civ3/sandbox Oil Platform.
    
    Add extra requirements Miniaturization + Deep Ocean; this only
    reinforces what is already in effects.ruleset as Mining_Possible, but
    gives better online help.
    
    Also, conflict with Buoy, because having both in the same tile does not
    look good.
    
    Patch by David Fernandez (bard@hostedredmine).
    
    See hrm bug #650195.

commit d428d60e1e90e78cc1c8f015548e81f2f88447b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 4 12:28:53 2017 +0200

    SDL client: centralize untargeted action choice.
    
    See hrm Feature #680862

commit 4160f5ea3e4e2fd6a7210a5ed18a7119a305c1bd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jul 5 21:34:50 2017 +0100

    Add parent argument to some QAction constructors.
    
    Compile fix after hrm feature #675927, by mir3x and myself.

commit c4e2937922b536cb74e75d430406183eb0a62e6d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 3 14:33:31 2017 +0200

    Qt client: centralize untargeted action choice.
    
    See hrm Feature #680663

commit f70a58f1300ad5214c2eb9c3374b9d0d77a21f1f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 3 15:03:02 2017 +0200

    GTK clients: centralize untargeted action choice.
    
    See hrm Feature #680662

commit 4ca3c27dc125e5b07bddbaa600281f06752d1511
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:41:36 2017 +0200

    Qt client - add icon to progress bar
    Suggested by 'bard'
    See hrm Feature #677588

commit 758d43ffb759b71b06961cab5099553fbef470d7
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:38:13 2017 +0200

    Qt client - added button with menu to change ai mode and ai level in player dialog
    Suggested by 'bard'
    See hrm Feature #675927

commit a148b8332082be6cb7df449b40ab5189f7a330b0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:34:29 2017 +0200

    Qt client - add information to tooltip about unit/improvements obsolescence
    Suggested by 'bard'
    See hrm Feature #673358

commit 674951a45f81b71feb7d222f2622b00f47737efb
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:30:41 2017 +0200

    Qt client - added apply button to tax rates dialog.
    Suggested by 'bard'
    See hrm Feature #673361

commit 64597b7bf8575932d303f2d7985fbc2ca8530370
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:15:02 2017 +0200

    Qt client - allow maximizing/minimizing chat via double click
    Suggested by 'bard'
    See hrm Feature #673598

commit b05db20fb2c6a884524fc93fa507d5e8e6618a05
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:03:22 2017 +0200

    Qt client - governor not updated on first double click
    Reported by 'bard'
    See hrm Bug #673597

commit 2efe6b2d5954114d6f0110083b00d07b89300ede
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 08:58:14 2017 +0200

    Qt client - recenter map shortcut not working during keyboardless goto
    Reported by 'bard'
    See hrm Bug #673353

commit b5ce211ef1d5a7873b91c83921efb74f47b48a34
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 08:29:35 2017 +0200

    Qt client - added all missing links to help page
    See hrm Feature #663031

commit 77a52d45f39c468024fa23b5d01077ba94c7119d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 08:07:13 2017 +0200

    Qt client - add buttons next and previous topic in help dialog
    
    See hrm Feature #662639

commit 5538707932516cf046d236cfb23fcadd50a34d9f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 08:02:58 2017 +0200

    Qt client - add scrollbars to unit selector
    
    See hrm Feature #662270

commit d834cc701e3a40c3f315ee7e007da91f82488008
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Jul 3 23:36:43 2017 +0200

    Qt client - added loading/reloading lua script
    
    See hrm Feature #661842

commit 31dc99d42e00c1b96d8def8eb3b7025bb2c193a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 23:33:08 2017 +0300

    Place cities and units to tex map
    
    See hrm Feature #664482
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d404227880c2f0c43e6faf1cd15e4afe0dd878dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 23:32:31 2017 +0300

    Add ocean workers count to default AI stats
    
    See hrm Feature #664181
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30d43a885eca3482c1c32534c59a7d7cdd345849
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 00:53:38 2017 +0300

    Drop svn repository support
    
    See hrm Feature #679223
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f2eaae60ebffccde812de11c9a688e400eec8a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 00:53:07 2017 +0300

    installer_cross: Execute gtk-update-icon-cache.exe when installing
    
    See hrm Feature #663289
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a2c74f530dc6f62b2c98cd2a1664192bf1fc1cb
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Sun Jun 25 23:25:53 2017 +0200

    Updated msys1 environment (git)
    
    See hrm Task #660908

commit af18a18f9338d853efe51bb912fcab25405cc029
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 28 22:07:59 2017 +0200

    Split the action "Steal Gold".
    
    Stop relying on the Spy unit type flag to decide if the "Steal Gold" action
    consumes the actor unit. Split the new action "Steal Gold Escape" from
    "Steal Gold". The former will have its actor try to escape. The latter will
    always consume the actor unit.
    
    See hrm Feature #679864

commit 5e299d90c1ea0014404bd970dbb8699b4ef9f3dd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 6 11:33:39 2017 +0200

    Clarify that try_to_save_unit() is static.
    
    The function try_to_save_unit() is declared to be static in its prototype.
    Declare it static in its definition too.
    
    See hrm Feature #674435

commit 96f9104a69288ea82e0fe66559acfe153d4a5753
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 28 12:55:03 2017 +0200

    diplomat_bribe(): demote unique to assertion.
    
    The hard requirements of the "Bribe Unit" action includes a check that the
    target unit isn't an unique unit the actor player already has. The function
    diplomat_bribe() are never called with target unit like that. The check that
    the target unit isn't a unique unit the actor player already has can
    therefore be demoted to an assertion.
    
    See hrm Feature #664862

commit 70e9af01ee8ae0cc1eac9cb5ee3b1b5ba6d12f8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 08:16:11 2017 +0300

    Replace unit type flag "Partial_Invis" with "vision_layer" field
    
    See hrm Feature #673389
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 183183683327a1bfbf2514aa0465bf1d76e266b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 08:14:20 2017 +0300

    Upgrade pkg.m4 to serial 12
    
    See hrm Feature #677621
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab21c336f305f5533ea7a71b432cd2a1427a2e5d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 08:13:48 2017 +0300

    Make aifill value PLAYER type
    
    See hrm Feature #677122
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 748378024f2fe68bd15d143160afe1056541b4c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 08:13:13 2017 +0300

    Comment typofix: non-nantive -> non-native
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d6c5d7d92bee377e8c477b7c6a81d3d323fb910
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:22:07 2017 +0300

    Send veteran system info raise_chance and work_raise_chance to the client
    
    Requested by Jacob Nevins <jtn>
    
    See hrm Feature #657285
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5afb27ac7e65b707c12f41145eb41ded3c86ce7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:20:52 2017 +0300

    Comment typofix: "fullfilled" -> "fulfilled"
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab540b307038f0bbb8d98811acf4c77cd21d4529
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:20:08 2017 +0300

    Refresh stub ruleset units.ruleset embarks/disembarks documentation
    
    See hrm Feature #673640
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e8b5652af8c0088db664dc3cc64452e70e7117a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:19:23 2017 +0300

    Make team number PLAYER type
    
    See hrm Feature #677112
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3775b922336cdf9f2b9fb556e07f36a3dfe9f1fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:18:38 2017 +0300

    Save seconds since phase begun to savegame
    
    Requested by Andreas Røsdal
    
    See hrm Feature #662023
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2d87fa7725393e750d80de2b202b7cdad410ee6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:18:17 2017 +0300

    installer_cross: place 7zipped build package under Output/
    
    See hrm Feature #664747
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83760552f47ee7591cc38a5e4cca318903de91ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:17:28 2017 +0300

    Allocate tex map in 'map_alloc' callback
    
    See hrm Feature #664480
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8701427e5c1c41f8b29db1294451cbc4767bbc00
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jun 29 00:19:16 2017 +0100

    Add some missing .gitignores.

commit 326d51a65bbaa6050421d56d7cc99a2990fb5e8d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 16:46:41 2017 +0200

    Non enemy city blocks "Bombard" and "Attack".
    
    Hard coded rules prevents any unit from doing "Bombard" or "Attack" to units
    in non enemy cities. Detect this during action probability calculation
    before returning unknown because the units in the non enemy city aren't
    seen.
    
    See hrm Bug #679455

commit a8ed190fa0ea96767468a331d11d66daa0610868
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 6 08:46:58 2017 +0200

    Fix GTK client unit selection dialog memory leak.
    
    Don't leak memory when more than one unit is selected at once in the GTK
    clients' unit selection dialog.
    
    Found with Valgrind.
    
    See hrm Bug #674321

commit 8a65724f06fee3ea09493f89bfc4a1ddd7076fd3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:18:55 2017 +0300

    Add ocean cities count to advisor stats
    
    See hrm Feature #662394
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0111a8b385aec3999670edfe103cfa076fa80f27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:17:33 2017 +0300

    Do not draw to screen from map_canvas_resized()
    
    See hrm Bug #678972
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3327b6a8ecd6f999382d95af906212565649a59c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:17:00 2017 +0300

    Connect mapview to "size-allocate" signal instead of "configure-event"
    
    See hrm Feature #678973
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54950800e1be2d755ca4949ed6d01bfce678754a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:16:27 2017 +0300

    Add "-pg" to LDFLAGS when profiling enabled
    
    See hrm Feature #678905
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 690415e471a784373d1e37fdaa782ec293c62224
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:16:06 2017 +0300

    Distribute tolua.pkg
    
    Reported by Jacob Nevins
    
    See hrm Bug #678447
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 912c47f779fcbbd0d09db3d7ceb7fc94f1c9f47c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:15:33 2017 +0300

    Do not list no longer existing gtk2-client
    
    See hrm Bug #677553
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffbd3351b7ebde57ad3e8bddd9c7b99e195aed78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:15:11 2017 +0300

    Increase priority of hexemplio to 30
    
    Reduce priority of amplio2 and cimpletoon to 25 to have highest
    priority on exemplio only, now that hex is the default.
    
    See hrm Feature #677149
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d40afb538c485921765c198ab458bb18fb31dfb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:14:44 2017 +0300

    Update crosser version to 1.3
    
    See hrm Feature #664435
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 465b290280708093c5bd6d7d440c40f8da776ae8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:13:52 2017 +0300

    Replace documentation references to subversion with git references
    
    See hrm Feature #664195
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa920684c2b3e372749d1b3b3c8c024d9a0b5cbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:13:17 2017 +0300

    Clean out GGZDMOD flag references from freeciv-manual build
    
    See hrm Feature #665006
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80cb578d401b99682d7cb99107531f69ef27bffe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:52:22 2017 +0300

    Increase plain file buffer size to 8MB
    
    Reported by Andreas Røsdal
    
    See hrm Bug #679197
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9c7ca653c2d0a9ccbbf458a361185e03e05bc50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:51:56 2017 +0300

    Distribute README.tilesets
    
    Reported by Jacob Nevins
    
    See hrm Bug #678449
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a53fd740599d52a1635b32d1300534b1896df27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:51:32 2017 +0300

    Fix "fullfilled" typo
    
    See hrm Bug #677799
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1692ed3615cee4e13794fcd9578251ed619f2a56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:51:08 2017 +0300

    Comment typofix: "possiblity" -> "possibility"
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c6877c64190488d141d18dc74b655324f713423
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:50:44 2017 +0300

    Cache is_server() in is_my_zoc()
    
    See hrm Feature #675731
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69a00b375de637b6577de9f33807f017e39e4728
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:50:22 2017 +0300

    Use GTK3_22 CITYDLG_MIN|MAX_X|YSIZE in gtk3.22-client
    
    See hrm Bug #673892
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9534ac3e2aed77a075e7354624d0db11355f998d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:49:00 2017 +0300

    Use gtk_drawing_area_set_draw_func() for map canvases
    
    Replace use of "draw" signal with gtk_drawing_area_set_draw_func()
    for map_canvas and overview_canvas.
    
    See hrm Feature #673887
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90a7dba6dd7b5965ab1ebcb16d334e8cac7fb0dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:48:26 2017 +0300

    Add 'map_alloc' and 'map_free' to AI callback API
    
    See hrm Feature #664479
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5dee3a20d07cb83071dbfd5455071d134c324520
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 13 14:57:14 2017 +0200

    webperimental: allow giving units to allies.
    
    See hrm Feature #676403

commit ba6796750d4858d207dbd34c94e4480f31e284be
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 13 16:00:13 2017 +0200

    Inform foreign unit receiver.
    
    A unit can be transferred to a foreign nation by setting its home city to
    a city owned by another player. Let the receiver know about the unit he was
    given.
    
    See hrm Feature #676658

commit 6ebac87a1111aa00b930f93d7967147e65b199c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 7 11:50:05 2017 +0200

    action_prob_vs_*(): detect known blocked actions.
    
    The probability of an action that is blocked by a known legal action being
    enabled is 0%. Detect this before potentially returning unknown for target
    specific reasons.
    
    See hrm Feature #674850

commit 5ba4cf3f3554dd51ef1455292ec00441f2b72170
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 6 09:43:28 2017 +0200

    More accurate unit_attack_unit_at_tile_result().
    
    A unit may be non civilian and have attack strength but still be unable to
    attack if it lacks the ability to perform any attack actions.
    
    See hrm Feature #674466

commit 7d78f65047609c3cfe189f8fca20795b685affc4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 31 02:18:03 2017 +0200

    Tiles, not unit stacks, are owned by tile owner.
    
    See hrm Bug #672734

commit a3c03276cc5b7c97b37ea0a378427d4024b139f9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 30 19:03:19 2017 +0200

    Remove redundant attack checks.
    
    Checking if a unit type can perform the "Attack" action or any (hostile)
    action is redundant after "Attack" became an action.
    
    See hrm Feature #672664

commit 09b3a68dd50db2f7ed23fb02837ccf6f4685d1c2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 13:11:03 2017 +0200

    Action not enabled explain has unique target.
    
    Make the action not enabled explanation system detect that a target unit
    can't be bribed because it is unique and the actor player already got one.
    
    See hrm Feature #664843

commit ae86993e36db2c21a6f001b14eb8dd910f0016e7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 31 17:59:09 2017 +0200

    Make can_player_attack_tile() static.
    
    It has no users outside the combat module.
    
    See hrm Feature #672917

commit 47ecb7718e8a044b019fdc5af092d3d7f0e87022
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 30 14:54:48 2017 +0200

    Make the "Attack" action unit stack targeted.
    
    When the "Attack" action was introduced in gna patch #7260 it was made tile
    targeted until the proper target class to evaluate its action enablers
    against could be determined. Releasing a version of Freeciv where the target
    is a tile would bind us to support DiplRel requirements against the owner of
    the tile the target unit is located at in future versions.
    
    The "Attack" action's current target requirements are made against three
    different target classes. Two of the target classes, "individual cities" and
    "unit stacks", are supported as action enabler target kinds. The last class,
    "any or, if the unreachableprotects server setting is enabled, all
    untransported units", has no current support in the action enabler system.
    
    The two candidates for the target to evaluate the "Attack" action's target
    requirement vector against are those about units. Each has a currently
    hardcoded unit requirement it alone can express. The unit stack target kind
    can express the "must be at war with all units in the stack" rule. The other
    target kind could, combined with the introduction of a new requirement type,
    have expressed the requirement that each/any non transported unit must be in
    a city, be in an extra native to it, not have the "Unreachable" unit class
    flag or belong to a unit type listed in the actor's targets.
    
    Choose the unit stack action target kind. Move the "must be at war with all
    units in the stack" rule to the action enabler as an obligatory hard
    requirement.
    
    A unit stack targeted "Attack" action makes ruleset authors able to specify
    requirements for all units in an attacked unit stack. Requirements for all
    non transported units in an attacked unit stacks can be achieved via the
    "Transported" UnitState requirement type property (and an action enabler
    that enables the action for a transported unit no matter what the non
    transported only requirements are).
    
    Should having "Attack" action enabler target requirements closely following
    the unreachableprotects server setting become important in the future it can
    still be implemented. One potential way to do it is by introducing a version
    of "Attack" that targets individual units. Its and Attack's action enablers
    should then be able to use the "ServerSetting" requirement type to determine
    what action should be enabled based on the unreachableprotects server
    setting value.
    
    See hrm Feature #672612

commit 50c2ade737d72dfcad1457a25fbbc7377d576400
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 29 10:10:23 2017 +0200

    Give freeciv-web access to unit upgrade cost.
    
    Make it possible to ask about unit upgrade cost in the unit_action_query
    packet and get a reply in the unit_action_answer packet. The bundled clients
    should be ported to make use of it if the upgrade cost starts relying on
    factors the player can't see.
    
    See hrm Feature #664985

commit 691c4796e93724ebe4fff1171bbd3bfb39320fda
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 29 09:55:34 2017 +0200

    Auto help: document action battle causing.
    
    Some actions can be stopped when a defender takes a risk in a battle against
    the actor to prevent the action. A regular attack gives the intended victim
    a chance to fight back. Some spy actions can be stopped by a defending
    Diplomat. Document what actions can be prevented by a battle.
    
    See hrm Feature #664955

commit 56566e7cb849d6861188a502e9e8d03283857146
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 28 12:36:03 2017 +0200

    Remove noop function do_unit_disband().
    
    The consequences of the action "Disband Unit" are handled by the action
    system. The function do_unit_disband() is therefore no longer needed.
    
    See hrm Feature #664845

commit 8b2c6fe68e30b7dea6a8aa9d7080d7c1eea63311
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 09:18:14 2017 +0200

    Comment spell fix: FLASE -> FALSE.

commit c68010aae97a3aacec0d1f8ec270824ae7f49f1e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 09:10:00 2017 +0200

    Comment spell fix: untis -> units.

commit a7fb5df36cfeee5f728341f0f53e74095dafb885
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 09:03:50 2017 +0200

    Number header comment like the code.

commit a3ce6b4aab512ef7529cc85ee7d73e8316efcac5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 08:43:41 2017 +0200

    Split the action "Steal Maps".
    
    Stop relying on the Spy unit type flag to decide if the "Steal Maps" action
    consumes the actor unit. Split the new action "Steal Maps Escape" from
    "Steal Maps". The former will have its actor try to escape. The latter will
    always consume the actor unit.
    
    This makes it possible to create a ruleset where all actor units, including
    those with the Spy utype flag, are consumed when stealing parts of a
    civilization's world map. It makes the opposite (everyone, including non Spy
    units, escapes) possible too. It also makes more complex rules possible.
    
    See hrm Feature #662943

commit 3022c17fe8178242242e7fb6fb46ff251eaa868f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:44:08 2017 +0300

    Comment typofix: "consiguration" -> "configuration"
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd3a02daef8342a30fde736f044b6001b518fe9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:43:44 2017 +0300

    Alien: List requirements for the tile to irrigate in Irrigation helptext
    
    See hrm Feature #677205
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2170a6b60ea100498722fb0bdf25f078b0f88172
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:42:59 2017 +0300

    dos2unix hexemplio.tilespec
    
    See hrm Task #678454
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76dcdf36551a5bf07aaf68505078da7a4a763da7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:42:33 2017 +0300

    Fix theoretical NULL dereference in base_fc_utf8_strlcpy_rep()
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfd6f5c11f9a3b6c57a48a5db30faeaeb9d5b740
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:42:09 2017 +0300

    Macrofy is_extra_caused_by()
    
    See hrm Feature #675710
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 165ebde11b58063256abe87d519245a2a9579c25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:40:54 2017 +0300

    Mark unit type flag Provoking for translation
    
    See hrm Bug #673388
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11547e6d8f645a45432bbcb5632d064a369906f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:40:14 2017 +0300

    Add onetime_pct property for goods.
    
    See hrm Feature #672710
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 528f4a1958ca64ee8c3a5aabb805cfbaa82b9386
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:38:05 2017 +0300

    Add effects button to all tabs where it's applicable
    
    See hrm Feature #664438
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73d22ab2a4c5a619c0278bf0b12299b89f0fcb82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:37:31 2017 +0300

    Add internal support for runtime raw/json protocol selection
    
    See hrm Feature #664002
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 533c3181e79d9ecf2ca7844f24bf54f759578369
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 23 16:29:51 2017 +0200

    Fix typo "workist" to "worklist".
    
    See hrm Bug #662941

commit ff20b9cab99a30fe946e5bf8c41942cdc1851785
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 23 15:45:56 2017 +0200

    webperimental: reduce Manhattan Project power.
    
    The Manhattan Project allows its owner's Spy units to perform the action
    "Suitcase Nuke" or, depending on veteran level, "Suitcase Nuke Escape". It
    was made slightly less powerful in hrm Feature #661962 when informants (non
    veterans) and handlers (the first veteran level) lost the ability to escape
    after hiding the nuke in a city. Make it even less powerful by reducing the
    odds of successfully hiding a nuclear device.
    
    See hrm Feature #662938

commit 00d321c489fea661d6249fabd8d7ca2b18dddda3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 23 16:03:45 2017 +0200

    webperimental: introduce README.webperimental.
    
    Move history and differences from classic to README.webperimental and
    include it as the description file. It is getting to big for game.ruleset.
    
    See hrm Feature #662934

commit f04c3b4c21d152affe1b23ee52594c4baf7ef4e7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 25 14:57:44 2017 +0100

    Final Subversion-format ChangeLog update.

commit caf0c1a4718bf522739e0b81986ec4b61a4ed1a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:18:20 2017 +0300

    Do not try to update plrmap before it's created
    
    Reported by David Fernandez (bard)
    
    See hrm Bug #673767
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dbcff8d16e9123cf1bbb9dc6fbba83dd6d4c21f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:17:39 2017 +0300

    Add -no-pie to LDFLAGS when --enable-gprof given
    
    See hrm Feature #675699
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7701813211c1b5173a2dafeff6e6d0fb097a7ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:17:15 2017 +0300

    Queue citizen icon draw when they change
    
    Reported by SMACX2
    
    See hrm Bug #664730
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5fe80cac57575407c5b3e439b8afd3d1a47d3d9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:16:44 2017 +0300

    Transfer observer player number as UINT16
    
    See hrm Bug #673898
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d07c3767d701ba048e3c76da2d5ec471064917d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:15:24 2017 +0300

    Do not sanitycheck vision sharing of dead players
    
    Reported by David Fernandez (bard)
    
    See hrm Bug #662701
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca28ac79c7ddb73a6b7c28cf6fadb8f9bf4e0e0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:14:58 2017 +0300

    Fix threaded AI's reverted pollution removal want
    
    See hrm Bug #664489
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35e52df0db187de5f84a4b985ebfe6cd9ffd3efc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:14:27 2017 +0300

    Check that research is selected before trying to get its cost
    
    See hrm Bug #664286
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57c670fc31622d750f707a43f35e5b00ed319949
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:13:51 2017 +0300

    Drop DEV_SAVE_COMPAT from version < 2.91
    
    See hrm Feature #664190
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cf6365c88233e31ded8f140ad19036c798e7c81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:13:24 2017 +0300

    Make wonder owners field 16 bits wide
    
    See hrm Bug #663958
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d40055fbb391da27035994ec67bb840f7971624
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:12:46 2017 +0300

    Link libsqlite3 to modpack installers
    
    See hrm Bug #665004
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1675a5d5ddf2065e0b8843cb0c19787fb97563c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:50:44 2017 +0300

    Update msys2 environment to 170616 level
    
    See hrm Task #660286
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce99423bee5d12ccda22535cb592465a458e13d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:50:15 2017 +0300

    installer_cross: Fix build from 'git worktree'
    
    See hrm Bug #673863
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de6c5d6de8ec9f5dc36b5f58386f8ca5bacca106
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:49:37 2017 +0300

    Fix setting of have_resources when loading savegame2.c savegame
    
    See hrm Bug #664343
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c40c464603e957e6334cde8365e32c15de6a72e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:49:04 2017 +0300

    Update INSTALL to git time
    
    See hrm Feature #654670
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af25d64ea1d15ca46de24ba46e8c510101dc1d33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:48:42 2017 +0300

    Use VERSION_REVTYPE git in Windows Installer build
    
    See hrm Feature #654689
    
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

------------------------------------------------------------------------
r35704 | sveinung | 2017-05-24 10:55:55 +0100 (Wed, 24 May 2017) | 6 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset

webperimental: killstack decides stack protects.

Make the killstack server setting decide if a unit in a unit stack can be
bribed or sabotaged.

See hrm Feature #661974
------------------------------------------------------------------------
r35703 | sveinung | 2017-05-24 10:55:46 +0100 (Wed, 24 May 2017) | 25 lines
Changed paths:
   M /trunk/ai/default/daieffects.c
   M /trunk/common/fc_types.h
   M /trunk/common/metaknowledge.c
   M /trunk/common/reqtext.c
   M /trunk/common/requirements.c
   M /trunk/common/server_settings.c
   M /trunk/common/server_settings.h
   M /trunk/doc/README.effects
   M /trunk/fc_version
   M /trunk/server/cityturn.c
   M /trunk/server/rssanity.c
   M /trunk/server/rssanity.h
   M /trunk/tools/ruledit/univ_value.c

ServerSetting requirement type.

Some server settings, like killstack and unreachableprotects, are rules. A
ruleset author may wish to adapt his ruleset to work better with the server
setting rules currently in use.

Other server settings, like autosaves, are purely about the administration
of the Freeciv server. Those are administrative details. Rules shouldn't be
based on them.

Rules should also not be based on settings not visible to all players.

A Boolean server setting is enabled or disabled. It is therefore enough to
specify its name in the requirement syntax. The value is covered by the
requirement's present property.

Introduce the ServerSetting requirement type. It gives access to rule server
settings that has a binary value.

Non binary server settings aren't supported. Support for enum, bitwise and
small int valued settings may be introduced later. That would require
multiplexing the setting value with the setting id and the introduction of
a syntax like "settingname=valuename".

See hrm Feature #648804
------------------------------------------------------------------------
r35700 | cazfi | 2017-05-24 06:31:34 +0100 (Wed, 24 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aicity.c

Make AI less likely to stop building wonder

See hrm Feature #662556

------------------------------------------------------------------------
r35699 | cazfi | 2017-05-23 18:11:08 +0100 (Tue, 23 May 2017) | 4 lines
Changed paths:
   M /trunk/data/alien/Makefile.am
   A /trunk/data/alien/parser.lua
   M /trunk/data/civ1/Makefile.am
   A /trunk/data/civ1/parser.lua
   M /trunk/data/civ2/Makefile.am
   A /trunk/data/civ2/parser.lua
   M /trunk/data/civ2civ3/Makefile.am
   A /trunk/data/civ2civ3/parser.lua
   M /trunk/data/classic/Makefile.am
   A /trunk/data/classic/parser.lua
   A /trunk/data/experimental/parser.lua
   M /trunk/data/multiplayer/Makefile.am
   A /trunk/data/multiplayer/parser.lua
   M /trunk/data/sandbox/Makefile.am
   A /trunk/data/sandbox/parser.lua
   A /trunk/data/stub/parser.lua
   A /trunk/data/webperimental/parser.lua
   M /trunk/server/ruleset.c
   M /trunk/server/ruleset.h
   M /trunk/tools/ruleutil/rulesave.c

Add 'parser.lua' to rulesets

See hrm Feature #661644

------------------------------------------------------------------------
r35698 | cazfi | 2017-05-23 17:43:56 +0100 (Tue, 23 May 2017) | 6 lines
Changed paths:
   M /trunk/common/fc_types.h
   M /trunk/fc_version

Increase max number of regular players to 250

Requested by Andreas Røsdal

See hrm Feature #654973

------------------------------------------------------------------------
r35696 | cazfi | 2017-05-22 23:09:08 +0100 (Mon, 22 May 2017) | 4 lines
Changed paths:
   M /trunk/server/scripting/api_server_edit.c
   M /trunk/server/scripting/api_server_edit.h
   M /trunk/server/scripting/tolua_server.pkg

Add scripting API control over unit 'stay'

See hrm Feature #661580

------------------------------------------------------------------------
r35694 | sveinung | 2017-05-22 17:27:41 +0100 (Mon, 22 May 2017) | 7 lines
Changed paths:
   M /trunk/tools/ruledit/Makefile.am

Fix srcdir != builddir builds.

Fix copy past error.

Reported by Marko Lindqvist

See hrm Bug #662564
------------------------------------------------------------------------
r35689 | sveinung | 2017-05-22 11:05:49 +0100 (Mon, 22 May 2017) | 1 line
Changed paths:
   M /trunk/common/scriptcore/luascript.c

Comment fix: OS is not excluded from permissive.
------------------------------------------------------------------------
r35688 | sveinung | 2017-05-22 11:05:42 +0100 (Mon, 22 May 2017) | 5 lines
Changed paths:
   M /trunk/tools/Makefile.am
   M /trunk/tools/ruledit/Makefile.am
   M /trunk/tools/ruledit/ruledit.cpp
   M /trunk/tools/ruleup.c

Implement fc_interface for ruledit and ruleup.

Use the tools_fc_interface module.

See hrm Feature #659409
------------------------------------------------------------------------
r35687 | sveinung | 2017-05-22 11:05:33 +0100 (Mon, 22 May 2017) | 1 line
Changed paths:
   M /trunk/tools/civmanual.c

Comment fact fix: header has moved.
------------------------------------------------------------------------
r35686 | sveinung | 2017-05-22 11:05:25 +0100 (Mon, 22 May 2017) | 6 lines
Changed paths:
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: spy nuke escape is for veterans.

Only let agents and spymasters try to escape after hiding a nuke in a spy
city nuking.

See hrm Feature #661962
------------------------------------------------------------------------
r35682 | cazfi | 2017-05-21 18:07:05 +0100 (Sun, 21 May 2017) | 10 lines
Changed paths:
   M /trunk/server/srv_main.c

Do not try to cancel Team membership

When a player with which we are allied and another with which we
are in the same team go to war, only cancel the alliance. Do not try
to cancel pact with the team member.

Reported by David Fernandez (bard)

See hrm Bug #662059

------------------------------------------------------------------------
r35680 | sveinung | 2017-05-21 10:32:10 +0100 (Sun, 21 May 2017) | 6 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/tools/Makefile.am
   A /trunk/tools/shared
   A /trunk/tools/shared/Makefile.am
   A /trunk/tools/shared/tools_fc_interface.c (from /trunk/tools/tools_fc_interface.c:35668)
   A /trunk/tools/shared/tools_fc_interface.h (from /trunk/tools/tools_fc_interface.h:35668)
   D /trunk/tools/tools_fc_interface.c
   D /trunk/tools/tools_fc_interface.h

Move tools_fc_interface.[c|h] to tools/shared.

Use it to form a new library, libtoolsshared, for stuff otherwise unrelated
(by task) tools may need.

See hrm Feature #661963
------------------------------------------------------------------------
r35678 | cazfi | 2017-05-20 13:28:36 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/scriptcore/api_game_methods.h
   M /trunk/common/scriptcore/tolua_game.pkg

Add Tile:is_enemy() to scripting API

See hrm Feature #661538

------------------------------------------------------------------------
r35677 | cazfi | 2017-05-20 12:41:36 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/common/game.c
   M /trunk/common/game.h
   M /trunk/server/ruleset.c
   M /trunk/server/scripting/Makefile.am
   A /trunk/server/scripting/api_server_luadata.c
   A /trunk/server/scripting/api_server_luadata.h
   M /trunk/server/scripting/tolua_server.pkg

Add initial support for optional luadata.txt datafile

See hrm Feature #661635

------------------------------------------------------------------------
r35674 | cazfi | 2017-05-20 12:11:29 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aiunit.c
   M /trunk/server/advisors/advgoto.c

Set ACTIVITY_GOTO persistently for military units heading to target

See hrm Bug #661869

------------------------------------------------------------------------
r35672 | cazfi | 2017-05-20 09:34:06 +0100 (Sat, 20 May 2017) | 6 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

Add "-crs" to version number of installer_cross builds

Distinguish installer_cross builds from other build types

See hrm Feature #661802

------------------------------------------------------------------------
r35670 | cazfi | 2017-05-20 08:34:44 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/common/movement.c
   M /trunk/common/movement.h
   M /trunk/common/unit.c
   M /trunk/common/unit.h
   M /trunk/server/savegame3.c

Add "stay" property for individual units

See hrm Feature #661437

------------------------------------------------------------------------
r35668 | cazfi | 2017-05-20 00:35:32 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/effect_edit.cpp
   M /trunk/tools/ruledit/req_edit.cpp
   M /trunk/tools/ruledit/req_edit.h
   M /trunk/tools/ruledit/ruledit_qt.cpp
   M /trunk/tools/ruledit/ruledit_qt.h
   M /trunk/tools/ruledit/tab_building.cpp
   M /trunk/tools/ruledit/tab_enablers.cpp
   M /trunk/tools/ruledit/tab_extras.cpp
   M /trunk/tools/ruledit/tab_gov.cpp

Prevent opening multiple req_edit dialogs for the same requirement vector

See hrm Feature #660194

------------------------------------------------------------------------
r35666 | cazfi | 2017-05-20 00:05:45 +0100 (Sat, 20 May 2017) | 6 lines
Changed paths:
   M /trunk/client/luascript/script_client.c
   M /trunk/common/scriptcore/luascript.c
   M /trunk/common/scriptcore/luascript.h
   M /trunk/server/scripting/script_fcdb.c
   M /trunk/server/scripting/script_server.c

Let security restrictions of 'game' and 'fcdb' lua instances differ

Requested by Jacob Nevins <jtn>

See hrm Feature #657141

------------------------------------------------------------------------
r35664 | cazfi | 2017-05-19 23:05:49 +0100 (Fri, 19 May 2017) | 6 lines
Changed paths:
   M /trunk/server/scripting/Makefile.am
   M /trunk/server/scripting/api_server_edit.c
   M /trunk/server/scripting/api_server_edit.h
   M /trunk/server/scripting/tolua_server.pkg

Add edit.change_terrain() to scripting API

Requested by J. M. Gorbach <gorb>

See hrm Feature #657140

------------------------------------------------------------------------
r35660 | cazfi | 2017-05-19 22:27:46 +0100 (Fri, 19 May 2017) | 4 lines
Changed paths:
   M /trunk/server/scripting/api_server_edit.c

Prevent scripting API unit creation from creating stack conflicts

See hrm Bug #661533

------------------------------------------------------------------------
r35656 | sveinung | 2017-05-19 11:37:33 +0100 (Fri, 19 May 2017) | 14 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aidata.c
   M /trunk/ai/default/aidiplomat.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/helpdata.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/pf_tools.c
   M /trunk/common/unittype.c
   M /trunk/data/civ2/effects.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/doc/README.actions
   M /trunk/doc/README.effects
   M /trunk/fc_version
   M /trunk/server/actiontools.c
   M /trunk/server/advisors/advdata.c
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c
   M /trunk/tools/ruleutil/rulesave.c

Split the action "Suitcase Nuke".

Stop relying on the Spy unit type flag to decide if the "Suitcase Nuke"
action consumes the actor unit. Split the new action "Suitcase Nuke Escape"
from "Suitcase Nuke". The former will have its actor try to escape. The
latter will always consume the actor unit.

This makes it possible to create a ruleset where all actor units, including
those with the Spy utype flag, are consumed when suitcase nuking a city. It
makes the opposite (everyone, including non Spy units, escapes) possible
too. It also makes more complex rules, like "only veterans has a chance of
escaping after placing the suitcase", possible.

See hrm Feature #661654
------------------------------------------------------------------------
r35655 | sveinung | 2017-05-19 10:59:32 +0100 (Fri, 19 May 2017) | 6 lines
Changed paths:
   M /trunk/data/civ2/effects.ruleset
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/classic/effects.ruleset
   M /trunk/data/experimental/effects.ruleset
   M /trunk/data/multiplayer/effects.ruleset
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/webperimental/effects.ruleset

"Incite City Escape" is a reason for war.

When "Incite City" was split in hrm Feature #660927 the Casus Belli weren't
given to "Incite City Escape" too. Do it.

See hrm Bug #661539
------------------------------------------------------------------------
r35654 | sveinung | 2017-05-19 10:57:31 +0100 (Fri, 19 May 2017) | 7 lines
Changed paths:
   M /trunk/doc/README.effects

Update README.effects for "Incite City Escape".

When "Incite City" was split in hrm Feature #660927 the documentation of
Action_Odds_Pct wasn't updated to reflect that it can modify the new action
"Incite City Escape" too.

See hrm Bug #661535
------------------------------------------------------------------------
r35651 | cazfi | 2017-05-18 16:24:44 +0100 (Thu, 18 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aicity.c

Multiply AI want for Great Wonders by 1.5

See hrm Feature #661176

------------------------------------------------------------------------
r35648 | cazfi | 2017-05-18 14:23:46 +0100 (Thu, 18 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/daidomestic.c

Fix NULL dereference when there's no suitable founder unit type

See hrm Bug #661409

------------------------------------------------------------------------
r35647 | cazfi | 2017-05-18 14:17:19 +0100 (Thu, 18 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/mpdb.c

Create directory for modpack database if it doesn't exist

See hrm Bug #661353

------------------------------------------------------------------------
r35643 | cazfi | 2017-05-18 14:13:00 +0100 (Thu, 18 May 2017) | 6 lines
Changed paths:
   M /trunk/server/unittools.c

Make sure unit vision radius is not negative

Reported by David Fernandez (bard)

See hrm Bug #661313

------------------------------------------------------------------------
r35638 | sveinung | 2017-05-18 10:25:20 +0100 (Thu, 18 May 2017) | 8 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/gui-stub/dialogs.c
   M /trunk/client/include/dialogs_g.h
   M /trunk/client/packhand.c
   M /trunk/common/networking/packets.def
   M /trunk/fc_version
   M /trunk/server/diplomats.c

Prepare targeted sabotage for generic actions.

Return the action id with the lists of buildings that can be targeted in the
target city. Forward the action to the clients in popup_sabotage_dialog().
Have the clients use the specified action (rather than hard coding
ACTION_SPY_TARGETED_SABOTAGE_CITY) when ordering the action to take place.

See hrm Feature #661177
------------------------------------------------------------------------
r35637 | sveinung | 2017-05-18 10:25:08 +0100 (Thu, 18 May 2017) | 9 lines
Changed paths:
   M /trunk/data/civ2civ3/buildings.ruleset
   M /trunk/data/civ2civ3/cities.ruleset
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/civ2civ3/governments.ruleset
   M /trunk/data/civ2civ3/nations.ruleset
   M /trunk/data/civ2civ3/styles.ruleset
   M /trunk/data/civ2civ3/techs.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/civ2civ3/units.ruleset
   M /trunk/data/multiplayer/buildings.ruleset
   M /trunk/data/multiplayer/cities.ruleset
   M /trunk/data/multiplayer/effects.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/multiplayer/governments.ruleset
   M /trunk/data/multiplayer/nations.ruleset
   M /trunk/data/multiplayer/styles.ruleset
   M /trunk/data/multiplayer/techs.ruleset
   M /trunk/data/multiplayer/terrain.ruleset
   M /trunk/data/multiplayer/units.ruleset

civ2civ3 and multiplayer are web compatible.

The rulesets civ2civ3 and multiplayer are currently used unmodified in
Freeciv-web. Document the current compatibility.

Thanks to Marko Lindqvist for clarifying that web-compatible isn't a
promise of future compatibility in hrm Bug #660894 comment #8.

See hrm Feature #661168
------------------------------------------------------------------------
r35633 | cazfi | 2017-05-18 10:16:05 +0100 (Thu, 18 May 2017) | 6 lines
Changed paths:
   M /trunk/server/citytools.c

Make sure veterancy of the newly built unit is not negative

Reported by David Fernandez (bard)

See hrm Bug #661193

------------------------------------------------------------------------
r35629 | cazfi | 2017-05-18 10:02:44 +0100 (Thu, 18 May 2017) | 6 lines
Changed paths:
   M /trunk/common/unit.c

Fix division by zero when unit activity rate is zero

Reported by David Fernandez (bard)

See hrm Bug #660342

------------------------------------------------------------------------
r35627 | cazfi | 2017-05-18 00:54:08 +0100 (Thu, 18 May 2017) | 6 lines
Changed paths:
   M /trunk/m4/web-client.m4

Make --enable-fcweb help clearer

Reported by Christian Knoke

See hrm Bug #660894

------------------------------------------------------------------------
r35622 | sveinung | 2017-05-17 11:45:42 +0100 (Wed, 17 May 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/gui-stub/dialogs.c
   M /trunk/client/include/dialogs_g.h
   M /trunk/client/packhand.c

Prepare popup_bribe_dialog() for gen actions.

Make popup_bribe_dialog() take the action it is a response to as a
parameter. This allows more than one action to use it.

See hrm Feature #660895
------------------------------------------------------------------------
r35621 | sveinung | 2017-05-17 11:45:32 +0100 (Wed, 17 May 2017) | 15 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aidata.c
   M /trunk/ai/default/aidiplomat.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/helpdata.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/pf_tools.c
   M /trunk/common/unittype.c
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/doc/README.actions
   M /trunk/fc_version
   M /trunk/server/advisors/advdata.c
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c
   M /trunk/tools/ruleutil/rulesave.c

Split the action "Incite City".

Stop relying on the Spy unit type flag to decide if the "Incite City" action
consumes the actor unit. Split the new action "Incite City Escape" from
"Incite City". The former will have its actor try to escape. The latter will
always consume the actor unit.

This makes it possible to create a ruleset where all actor units, including
those with the Spy utype flag, are consumed when inciting a foreign city to
revolt and join the actor's side. It makes a ruleset where no actor units,
including those without the Spy utype flag, will try to escape after
inciting a revolt. It also makes more complex rules, like "inciting a revolt
consumes the unit unless the city belongs to a democracy, possible.

See hrm Feature #660927
------------------------------------------------------------------------
r35620 | sveinung | 2017-05-17 11:45:22 +0100 (Wed, 17 May 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/gui-stub/dialogs.c
   M /trunk/client/include/dialogs_g.h
   M /trunk/client/packhand.c

Prepare popup_incite_dialog() for gen actions.

Make popup_incite_dialog() take the action it is a response to as a
parameter. This allows more than one action to use it.

See hrm Feature #660843
------------------------------------------------------------------------
r35619 | sveinung | 2017-05-17 11:45:09 +0100 (Wed, 17 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-sdl2/action_dialog.c

SDL2 client: add action to small dipl dialog.

Use it in unit bribery and in city inciting.

See hrm Feature #660837
------------------------------------------------------------------------
r35617 | cazfi | 2017-05-17 04:29:09 +0100 (Wed, 17 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/classic/classicai.c
   M /trunk/ai/tex/texai.c
   M /trunk/ai/threaded/threadedai.c
   M /trunk/common/ai.h
   M /trunk/doc/README.AI_modules
   M /trunk/server/srv_main.c

Free ai_type private data

See hrm Bug #660840

------------------------------------------------------------------------
r35613 | cazfi | 2017-05-16 14:33:32 +0100 (Tue, 16 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/daidiplomacy.c

Do not set out-of-range AI love towards player launching spaceship

See hrm Bug #660363

------------------------------------------------------------------------
r35610 | sveinung | 2017-05-16 12:31:48 +0100 (Tue, 16 May 2017) | 7 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c

Gtk clients: add action to action data.

Use it in unit bribery, city inciting, building sabotage and targeted tech
theft. Don't use it in the action selection dialog since the action data of
all actions are shared.

See hrm Feature #660487
------------------------------------------------------------------------
r35609 | sveinung | 2017-05-16 12:31:39 +0100 (Tue, 16 May 2017) | 6 lines
Changed paths:
   M /trunk/tools/Makefile.am
   M /trunk/tools/civmanual.c
   A /trunk/tools/tools_fc_interface.c
   A /trunk/tools/tools_fc_interface.h

freeciv-manual: split out fc_interface code.

Move freeciv-manual's implementation of fc_interface to the new module
tools_fc_interface so other tools may use it too.

See hrm Feature #660443
------------------------------------------------------------------------
r35606 | cazfi | 2017-05-15 22:40:50 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/client/tilespec.c

Apply activity offsets to workertask icons

See hrm Bug #660421

------------------------------------------------------------------------
r35605 | cazfi | 2017-05-15 22:15:19 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/texai.c
   M /trunk/ai/tex/texaimsg.h
   M /trunk/ai/tex/texaiplayer.c
   M /trunk/ai/tex/texaiworld.c
   M /trunk/ai/tex/texaiworld.h

Tex: Un/register units from/to the world

See hrm Feature #659527

------------------------------------------------------------------------
r35603 | cazfi | 2017-05-15 21:47:30 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/texaicity.c

Fix tex compile

See hrm Bug #660664

------------------------------------------------------------------------
r35601 | cazfi | 2017-05-15 19:53:18 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/common/game.c
   M /trunk/common/game.h
   M /trunk/data/alien/game.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/stub/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/tools/ruleutil/rulesave.c

Add ruleset capabilities for !ruleset_locked scenarios to use

See hrm Feature #659482

------------------------------------------------------------------------
r35600 | mir3x | 2017-05-15 18:48:15 +0100 (Mon, 15 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/optiondlg.cpp

Qt client - don't call non-const member functions on temporaries.

See hrm Bug #658871


------------------------------------------------------------------------
r35597 | mir3x | 2017-05-15 18:46:06 +0100 (Mon, 15 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/chatline.cpp
   M /trunk/client/gui-qt/citydlg.cpp
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/diplodlg.cpp
   M /trunk/client/gui-qt/gui_main.cpp
   M /trunk/client/gui-qt/pages.cpp
   M /trunk/client/gui-qt/ratesdlg.cpp
   M /trunk/client/gui-qt/repodlgs.cpp
   M /trunk/client/gui-qt/shortcuts.cpp
   M /trunk/client/gui-qt/sidebar.cpp
   M /trunk/client/gui-qt/themes.cpp

Qt client - remove unused not trivial variables.

See hrm Bug #658869


------------------------------------------------------------------------
r35593 | mir3x | 2017-05-15 18:36:32 +0100 (Mon, 15 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/cityrep.cpp
   M /trunk/client/gui-qt/menu.cpp

Qt client - dont pass by value in foreach macro.

See hrm Bug #658868


------------------------------------------------------------------------
r35591 | mir3x | 2017-05-15 18:28:58 +0100 (Mon, 15 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/shortcuts.h

Qt client - Added Q_OBJECT macro to line_edit class.

See hrm Bug #658866


------------------------------------------------------------------------
r35585 | cazfi | 2017-05-15 18:15:53 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.fcdb
   M /trunk/lua/database.lua

Update ticket links in documentation to point to hostedredmine.

See hrm Feature #660271

------------------------------------------------------------------------
r35582 | sveinung | 2017-05-15 01:38:59 +0100 (Mon, 15 May 2017) | 3 lines
Changed paths:
   M /trunk/common/server_settings.h

Change comment style from C++ style to C style.

See doc/CodingStyle
------------------------------------------------------------------------
r35580 | cazfi | 2017-05-14 23:56:02 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/game.c
   M /trunk/common/game.h
   M /trunk/server/savegame3.c
   M /trunk/server/srv_main.c
   M /trunk/server/srv_main.h
   M /trunk/server/stdinhand.c
   M /trunk/tools/civmanual.c
   M /trunk/tools/ruledit/ruledit.cpp
   M /trunk/tools/ruleup.c

Reload current ruleset when loading !ruleset_locked scenario

See hrm Bug #659453

------------------------------------------------------------------------
r35578 | cazfi | 2017-05-14 21:07:51 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aicity.h
   M /trunk/ai/default/daidomestic.c

Rename settler_want as worker_want

See hrm Feature #660200

------------------------------------------------------------------------
r35577 | cazfi | 2017-05-14 20:47:15 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/effect_edit.cpp
   M /trunk/tools/ruledit/tab_misc.cpp
   M /trunk/tools/ruledit/tab_misc.h

Add editing of always active effects

See hrm Feature #659227

------------------------------------------------------------------------
r35576 | cazfi | 2017-05-14 14:54:06 +0100 (Sun, 14 May 2017) | 2 lines
Changed paths:
   M /trunk/windows/installer_cross/helpers/installer-helper-gtk3.cmd
   M /trunk/windows/installer_cross/helpers/installer-helper-qt.cmd

Set eol-style of new .cmd files to CRLF

------------------------------------------------------------------------
r35573 | cazfi | 2017-05-14 10:14:46 +0100 (Sun, 14 May 2017) | 2 lines
Changed paths:
   M /trunk/translations/core/POTFILES.in

Update POTFILES.in to tex AI rename

------------------------------------------------------------------------
r35571 | cazfi | 2017-05-14 09:59:03 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   M /trunk/windows/installer_cross/create-freeciv-gtk-qt-nsi.sh
   M /trunk/windows/installer_cross/create-freeciv-sdl2-nsi.sh
   A /trunk/windows/installer_cross/helpers
   A /trunk/windows/installer_cross/helpers/installer-helper-gtk3.cmd
   A /trunk/windows/installer_cross/helpers/installer-helper-qt.cmd
   M /trunk/windows/installer_cross/installer_build.sh

installer_cross: Execute gdk-pixbuf-query-loaders.exe when installing

See hrm Feature #660105

------------------------------------------------------------------------
r35570 | cazfi | 2017-05-14 09:30:35 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aiunit.c
   M /trunk/ai/default/daimilitary.c
   M /trunk/client/control.c
   M /trunk/client/goto.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.0/citydlg.c
   M /trunk/client/gui-gtk-3.0/editprop.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-3.22/citydlg.c
   M /trunk/client/gui-gtk-3.22/editprop.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/hudwidget.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/common/actions.c
   M /trunk/common/aicore/pf_tools.c
   M /trunk/common/city.c
   M /trunk/common/combat.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/common/movement.c
   M /trunk/common/movement.h
   M /trunk/common/reqtext.c
   M /trunk/common/requirements.c
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/unit.c
   M /trunk/common/unitlist.c
   M /trunk/server/advisors/advgoto.c
   M /trunk/server/advisors/advruleset.c
   M /trunk/server/advisors/autoexplorer.c
   M /trunk/server/animals.c
   M /trunk/server/barbarian.c
   M /trunk/server/citytools.c
   M /trunk/server/edithand.c
   M /trunk/server/maphand.c
   M /trunk/server/plrhand.c
   M /trunk/server/sanitycheck.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/scripting/api_server_edit.c
   M /trunk/server/unithand.c
   M /trunk/server/unittools.c

Add map parameter to can_exist_at family of functions

See hrm Feature #660079

------------------------------------------------------------------------
r35567 | cazfi | 2017-05-14 00:18:01 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/daidomestic.c

Remove hard limitation that AI wonder cities never build settlers

See hrm Bug #660089

------------------------------------------------------------------------
r35563 | sveinung | 2017-05-13 22:24:02 +0100 (Sat, 13 May 2017) | 6 lines
Changed paths:
   M /trunk/client/packhand.c
   M /trunk/common/networking/packets.def
   M /trunk/fc_version
   M /trunk/server/citytools.c

PACKET_WEB_CITY_INFO_ADDITION: be more careful.

Give the packet web_city_info_addition a field with the id of the city the
additional info is for. Cancel it where PACKET_CITY_INFO is canceled.

See hrm Feature #659446
------------------------------------------------------------------------
r35562 | sveinung | 2017-05-13 22:23:55 +0100 (Sat, 13 May 2017) | 7 lines
Changed paths:
   M /trunk/server/settings.c
   M /trunk/server/settings.h

Setting visibility to access level checker.

Make it possible to check if a server setting is visible to any player with
a certain access level rather than checking if a server setting is visible
to a specific player (based on his access level).

See hrm Feature #659408
------------------------------------------------------------------------
r35561 | sveinung | 2017-05-13 22:23:47 +0100 (Sat, 13 May 2017) | 5 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help: free list of quoted action blockers.

This fixes a memory leak. Found with Valgrind.

See hrm Bug #659405
------------------------------------------------------------------------
r35557 | cazfi | 2017-05-13 19:32:05 +0100 (Sat, 13 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/daimilitary.c

Increase AI desire to conquer cities

See hrm Feature #659537

------------------------------------------------------------------------
r35556 | jtn | 2017-05-13 15:25:38 +0100 (Sat, 13 May 2017) | 1 line
Changed paths:
   M /trunk/translations/nations/en_GB.po
   M /trunk/translations/ruledit/en_GB.po

Update my email address in nations,ruledit/en_GB.po too.
------------------------------------------------------------------------
r35549 | cazfi | 2017-05-13 13:30:55 +0100 (Sat, 13 May 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.msys2
   M /trunk/windows/installer_msys2/Makefile

Update msys2 environment to 170422 level

See hrm Task #652797

------------------------------------------------------------------------
r35548 | cazfi | 2017-05-13 13:00:50 +0100 (Sat, 13 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/texaiworld.c

Tex: Free city when it's destroyed from the world.

See hrm Bug #659528

------------------------------------------------------------------------
r35538 | cazfi | 2017-05-13 11:33:35 +0100 (Sat, 13 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/Makefile.am
   A /trunk/ai/tex/texai.c (from /trunk/ai/tex/threxprai.c:35537)
   D /trunk/ai/tex/threxprai.c

Rename threxprai.c as texai.c

See hrm Feature #658487

------------------------------------------------------------------------
r35531 | jtn | 2017-05-13 11:02:18 +0100 (Sat, 13 May 2017) | 10 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Bomb out after failing to load ruleset during savegame loading.

Since first parameter of sg_failure_ret() is an assert kind of pattern
to decide if any error handling is needed, having 'TRUE' there is
certainly an error. There is one such case, when loading of ruleset has
failed.

Patch by Marko Lindqvist.

See hrm bug #659503.
------------------------------------------------------------------------
r35530 | jtn | 2017-05-13 11:02:14 +0100 (Sat, 13 May 2017) | 3 lines
Changed paths:
   M /trunk/doc/README

Update README for freeciv-announce move.

See hrm feature #637953.
------------------------------------------------------------------------
r35528 | cazfi | 2017-05-12 18:58:25 +0100 (Fri, 12 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/effect_edit.cpp
   M /trunk/tools/ruledit/effect_edit.h

Add editing of effect requirements

See hrm Feature #659223

------------------------------------------------------------------------
r35527 | cazfi | 2017-05-12 16:28:13 +0100 (Fri, 12 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aidiplomat.c
   M /trunk/ai/default/aiferry.c
   M /trunk/ai/default/aiparatrooper.c
   M /trunk/ai/default/aisettler.c
   M /trunk/ai/default/aitools.c
   M /trunk/ai/default/aiunit.c
   M /trunk/ai/default/daieffects.c
   M /trunk/client/climap.c
   M /trunk/client/climisc.c
   M /trunk/client/control.c
   M /trunk/client/editor.c
   M /trunk/client/goto.c
   M /trunk/client/gui-gtk-3.0/mapctrl.c
   M /trunk/client/gui-gtk-3.22/mapctrl.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c
   M /trunk/client/gui-qt/mapview.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-sdl2/dialogs.c
   M /trunk/client/gui-sdl2/finddlg.c
   M /trunk/client/gui-sdl2/mapctrl.c
   M /trunk/client/mapctrl_common.c
   M /trunk/client/mapview_common.c
   M /trunk/client/mapview_common.h
   M /trunk/client/overview_common.c
   M /trunk/client/tilespec.c
   M /trunk/common/actions.c
   M /trunk/common/aicore/path_finding.c
   M /trunk/common/aicore/pf_tools.c
   M /trunk/common/base.c
   M /trunk/common/city.c
   M /trunk/common/combat.c
   M /trunk/common/extras.c
   M /trunk/common/featured_text.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/common/mapimg.c
   M /trunk/common/metaknowledge.c
   M /trunk/common/movement.c
   M /trunk/common/requirements.c
   M /trunk/common/road.c
   M /trunk/common/scriptcore/api_game_find.c
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/terrain.c
   M /trunk/common/unit.c
   M /trunk/server/advisors/advdata.c
   M /trunk/server/advisors/advgoto.c
   M /trunk/server/advisors/autoexplorer.c
   M /trunk/server/advisors/autosettlers.c
   M /trunk/server/animals.c
   M /trunk/server/barbarian.c
   M /trunk/server/citytools.c
   M /trunk/server/cityturn.c
   M /trunk/server/diplomats.c
   M /trunk/server/edithand.c
   M /trunk/server/gamehand.c
   M /trunk/server/generator/fracture_map.c
   M /trunk/server/generator/height_map.c
   M /trunk/server/generator/mapgen.c
   M /trunk/server/generator/mapgen_utils.c
   M /trunk/server/generator/mapgen_utils.h
   M /trunk/server/generator/startpos.c
   M /trunk/server/generator/temperature_map.c
   M /trunk/server/maphand.c
   M /trunk/server/notify.c
   M /trunk/server/plrhand.c
   M /trunk/server/sanitycheck.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/srv_main.c
   M /trunk/server/stdinhand.c
   M /trunk/server/unithand.c
   M /trunk/server/unittools.c

Give map parameter to map_pos_to_tile()

See hrm Feature #659205

------------------------------------------------------------------------
r35519 | sveinung | 2017-05-12 13:55:27 +0100 (Fri, 12 May 2017) | 3 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help: document tired attack.

See hrm Feature #659208
------------------------------------------------------------------------
r35518 | sveinung | 2017-05-12 13:55:20 +0100 (Fri, 12 May 2017) | 3 lines
Changed paths:
   M /trunk/data/webperimental/buildings.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: ally share A.Smith's Trading Co.

See hrm Feature #659192
------------------------------------------------------------------------
r35517 | sveinung | 2017-05-12 13:55:09 +0100 (Fri, 12 May 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/server/ruleset.c

Change "Establish Embassy Stay"'s UI name.

Change the default UI name of the action "Establish Embassy Stay" from
"Establish embassy (and stay)" to "Become Ambassador".

See hrm Feature #659189
------------------------------------------------------------------------
r35516 | sveinung | 2017-05-12 13:55:00 +0100 (Fri, 12 May 2017) | 3 lines
Changed paths:
   M /trunk/tools/civmanual.c

freeciv-manual: show what unit obsoletes a unit.

See hrm Feature #659174
------------------------------------------------------------------------
r35515 | sveinung | 2017-05-12 13:54:53 +0100 (Fri, 12 May 2017) | 6 lines
Changed paths:
   M /trunk/server/unithand.c

handle_unit_get_actions(): fix target id finding.

A typo caused target id finding to abort after processing the first legal
action if a target unit existed. Fix it.

See hrm Bug #659158
------------------------------------------------------------------------
r35514 | sveinung | 2017-05-12 13:54:18 +0100 (Fri, 12 May 2017) | 8 lines
Changed paths:
   M /trunk/server/unithand.c

Initialize kind before use in check.

Initialize action not enabled explanation kind so it has a value to check
even if a suitable target is present.

Found with Valgrind.

See hrm Bug #659109
------------------------------------------------------------------------
r35513 | cazfi | 2017-05-11 23:08:45 +0100 (Thu, 11 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/texaimsg.h
   M /trunk/ai/tex/texaiplayer.c
   M /trunk/ai/tex/texaiworld.c
   M /trunk/ai/tex/texaiworld.h
   M /trunk/ai/tex/threxprai.c

Un/register cities to/from tex AI world

See hrm Feature #658468

------------------------------------------------------------------------
r35511 | cazfi | 2017-05-11 22:03:46 +0100 (Thu, 11 May 2017) | 4 lines
Changed paths:
   M /trunk/data/sandbox/README.sandbox
   M /trunk/data/sandbox/terrain.ruleset

sandbox: Make Buoys visible only to those player who know Radio

See hrm Feature #658922

------------------------------------------------------------------------
r35509 | cazfi | 2017-05-11 21:05:06 +0100 (Thu, 11 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/Makefile.am
   M /trunk/ai/tex/Makefile.am
   M /trunk/ai/tex/threxprai.c
   M /trunk/configure.ac
   M /trunk/server/Makefile.am
   M /trunk/server/aiiface.c

Rename threxpr AI module as tex

See hrm Feature #658487

------------------------------------------------------------------------
r35507 | cazfi | 2017-05-11 15:15:22 +0100 (Thu, 11 May 2017) | 6 lines
Changed paths:
   M /trunk/ai/default/aitech.c

Restore global_advance_count after AI tech speculation

Reported by wotan <wotan>

See gna bug #24992

------------------------------------------------------------------------
r35505 | sveinung | 2017-05-11 12:06:34 +0100 (Thu, 11 May 2017) | 1 line
Changed paths:
   M /trunk/tools/ruleup.c
   M /trunk/tools/ruleutil/rulesave.c

Comment fact fix
------------------------------------------------------------------------
r35501 | sveinung | 2017-05-11 07:25:46 +0100 (Thu, 11 May 2017) | 5 lines
Changed paths:
   M /trunk/data/webperimental/buildings.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: ally share J.S. Bach's Cathedral.

Apply J.S. Bach's Cathedral's happiness to allies of its owner too.

See hrm Feature #658833
------------------------------------------------------------------------
r35500 | sveinung | 2017-05-11 07:25:37 +0100 (Thu, 11 May 2017) | 8 lines
Changed paths:
   M /trunk/client/helpdata.c
   M /trunk/common/unittype.c
   M /trunk/server/actiontools.c
   M /trunk/server/unithand.c

Missile consumption: use action shared system.

Have the attack action use the shared action system when consuming units
with the Missile unit class flag.

This replaces the custom auto help for the Missile unit class flag.

See hrm Feature #657680
------------------------------------------------------------------------
r35499 | sveinung | 2017-05-11 07:25:25 +0100 (Thu, 11 May 2017) | 8 lines
Changed paths:
   M /trunk/server/citytools.c
   M /trunk/server/plrhand.c

Fix trade route memory leak.

Free the memory of the trade route structs canceled by the destruction of a
city or player.

Reported by Valgrind.

See hrm Bug #658824
------------------------------------------------------------------------
r35497 | cazfi | 2017-05-10 20:14:43 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/validity.c

Consider extra, that is visibility_req of another one, needed

See hrm Bug #658575

------------------------------------------------------------------------
r35496 | cazfi | 2017-05-10 17:55:59 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/Makefile.am
   A /trunk/tools/ruledit/effect_edit.cpp
   A /trunk/tools/ruledit/effect_edit.h
   M /trunk/tools/ruledit/tab_building.cpp
   M /trunk/tools/ruledit/tab_building.h
   M /trunk/tools/ruledit/validity.c
   M /trunk/tools/ruledit/validity.h

Add initial version of effect edit dialog to ruledit

See hrm Feature #658566

------------------------------------------------------------------------
r35492 | cazfi | 2017-05-10 16:38:47 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aitools.c
   M /trunk/server/advisors/advgoto.c

Avoid double map_move_cost_unit()

See hrm Feature #658612

------------------------------------------------------------------------
r35488 | cazfi | 2017-05-10 16:08:09 +0100 (Wed, 10 May 2017) | 6 lines
Changed paths:
   M /trunk/data/nation/newfoundland.ruleset

Fix typo in the name of Grand Falls-Windsor

Reported by Michael Neil

See hrm Bug #658528

------------------------------------------------------------------------
r35477 | sveinung | 2017-05-10 09:15:16 +0100 (Wed, 10 May 2017) | 6 lines
Changed paths:
   M /trunk/data/webperimental/buildings.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: ally share Sun Tzu's War Academy.

Make Sun Tzu's War Academy give its veteran bonus (combat and production) to
both its owner and to all his allies.

See hrm Feature #658515
------------------------------------------------------------------------
r35476 | sveinung | 2017-05-10 09:15:08 +0100 (Wed, 10 May 2017) | 7 lines
Changed paths:
   M /trunk/server/ruleset.c

Destroy the rs section list of goods.

Destroy the section list used to load goods from the ruleset.

Reported by Valgrind.

See hrm Bug #658475
------------------------------------------------------------------------
r35475 | sveinung | 2017-05-10 09:14:56 +0100 (Wed, 10 May 2017) | 7 lines
Changed paths:
   M /trunk/server/ruleset.c

Destroy the rs section list of achievements.

Destroy the section list used to load achievements from the ruleset.

Reported by Valgrind.

See hrm Bug #658472
------------------------------------------------------------------------
r35474 | sveinung | 2017-05-10 09:14:48 +0100 (Wed, 10 May 2017) | 5 lines
Changed paths:
   M /trunk/common/networking/dataio_json.c

JSON protocol: make estring reading more careful.

The copying of extra bytes was found with Valgrind.

See hrm Feature #658458
------------------------------------------------------------------------
r35473 | sveinung | 2017-05-10 09:14:40 +0100 (Wed, 10 May 2017) | 9 lines
Changed paths:
   M /trunk/common/networking/dataio_json.c

JSON protocol: fix sub field sending memory leak.

Steal the references to values created inline when put inside an object by
using json_object_set_new() rather than json_object_set().

Found with Valgrind.
Reported by Andreas Røsdal

See hrm Bug #658386
------------------------------------------------------------------------
r35472 | sveinung | 2017-05-10 09:14:32 +0100 (Wed, 10 May 2017) | 8 lines
Changed paths:
   M /trunk/common/generate_packets.py
   M /trunk/common/networking/dataio_json.c
   M /trunk/common/networking/packets_json.h

JSON protocol: fix field_addr memory leak.

Don't leak the memory where a packet's field address is stored.

Found with Valgrind.
Reported by Andreas Røsdal

See hrm Bug #658389
------------------------------------------------------------------------
r35471 | sveinung | 2017-05-10 09:14:22 +0100 (Wed, 10 May 2017) | 3 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset

webperimental: allow allied build wonder help.

See hrm Feature #658361
------------------------------------------------------------------------
r35470 | sveinung | 2017-05-10 08:52:44 +0100 (Wed, 10 May 2017) | 3 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help: say what the unit upgrades to.

See hrm Feature #658346
------------------------------------------------------------------------
r35468 | cazfi | 2017-05-10 06:06:24 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/Makefile.am
   A /trunk/ai/tex (from /trunk/ai/threxpr:35467)
   D /trunk/ai/threxpr
   M /trunk/configure.ac
   M /trunk/server/Makefile.am

Rename 'threxpr' directory as 'tex'

See hrm Feature #658487

------------------------------------------------------------------------
r35467 | cazfi | 2017-05-10 06:02:27 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/threxpr/texaiplayer.c

Fix double threxpr world close

See hrm Bug #658473

------------------------------------------------------------------------
r35466 | jtn | 2017-05-10 01:16:38 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/translations/core/ca.po
   M /trunk/translations/core/de.po
   M /trunk/translations/core/es.po
   M /trunk/translations/core/fi.po
   M /trunk/translations/core/fr.po
   M /trunk/translations/core/gd.po
   M /trunk/translations/core/pl.po
   M /trunk/translations/core/ru.po
   M /trunk/translations/core/uk.po

Manually adjust po-files after hrm feature #637953.

Only touched those translations which already had a non-fuzzy
translation of the affected string.
------------------------------------------------------------------------
r35462 | cazfi | 2017-05-08 14:50:59 +0100 (Mon, 08 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/threxpr/texaiworld.c

threxpr: do world object idex_init() / idex_free()

See hrm Feature #658118

------------------------------------------------------------------------
r35461 | cazfi | 2017-05-08 14:35:43 +0100 (Mon, 08 May 2017) | 4 lines
Changed paths:
   M /trunk/client/climisc.c
   M /trunk/common/game.c
   M /trunk/common/game.h
   M /trunk/common/player.c
   M /trunk/server/citytools.c
   M /trunk/server/unittools.c

Make game_remove_city|unit() to take world parameter

See hrm Feature #658117

------------------------------------------------------------------------
r35459 | cazfi | 2017-05-08 14:24:15 +0100 (Mon, 08 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/classic/classicai.c
   M /trunk/common/ai.h
   M /trunk/doc/README.AI_modules
   M /trunk/server/citytools.c
   M /trunk/server/unittools.c

Add city|unit_created|destroyed() to AI module API

See hrm Feature #658069

------------------------------------------------------------------------
r35457 | cazfi | 2017-05-08 14:17:26 +0100 (Mon, 08 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/req_edit.cpp
   M /trunk/tools/ruledit/tab_building.cpp
   M /trunk/tools/ruledit/tab_enablers.cpp
   M /trunk/tools/ruledit/tab_extras.cpp
   M /trunk/tools/ruledit/tab_good.cpp
   M /trunk/tools/ruledit/tab_gov.cpp

Make requirement editing available in non-experimental builds

See hrm Feature #658046

------------------------------------------------------------------------
r35454 | cazfi | 2017-05-08 14:07:16 +0100 (Mon, 08 May 2017) | 6 lines
Changed paths:
   M /trunk/server/techtools.c

Do not access out-of-bounds index A_FUTURE from global_advances[]

Reported by Per M

See hrm Bug #658073

------------------------------------------------------------------------
r35450 | cazfi | 2017-05-08 12:02:27 +0100 (Mon, 08 May 2017) | 6 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/client/mapctrl_common.c
   M /trunk/client/mapctrl_common.h
   M /trunk/client/options.c
   M /trunk/client/packhand.c
   M /trunk/server/srv_main.c

Fix "Manual Turn Done in AI mode"

Reported by Jacob Nevins <jtn>

See hrm Bug #657412

------------------------------------------------------------------------
r35448 | cazfi | 2017-05-07 21:13:55 +0100 (Sun, 07 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh

installer_cross: Ship gdk-pixbuf-query-loaders.exe

See hrm Feature #657983

------------------------------------------------------------------------
r35447 | cazfi | 2017-05-07 20:06:20 +0100 (Sun, 07 May 2017) | 4 lines
Changed paths:
   M /trunk/client/agents/cma_core.c
   M /trunk/client/gui-sdl2/mapview.c
   M /trunk/server/srv_main.c
   M /trunk/translations/core/POTFILES.in
   M /trunk/utility/Makefile.am
   A /trunk/utility/bugs.c
   A /trunk/utility/bugs.h
   M /trunk/utility/netintf.c
   M /trunk/utility/registry_ini.c

Add bugs.[ch] module

See hrm Feature #657706

------------------------------------------------------------------------
r35443 | cazfi | 2017-05-07 19:53:50 +0100 (Sun, 07 May 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/gui_main.c
   M /trunk/client/gui-gtk-3.22/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_main.c

Fix asserts about top notebook size.

Patch by Bernhard <aldot> and myself

See gna patch #7163

------------------------------------------------------------------------
r35439 | sveinung | 2017-05-07 11:56:54 +0100 (Sun, 07 May 2017) | 8 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/data/civ2civ3/units.ruleset
   M /trunk/data/sandbox/units.ruleset

civ2civ3: balance naval unit cost with attack.

Reduce the costs of naval units a bit so their cost/attack ratio becomes
similar to the other units.

Patch by David Fernandez <bardo>

See gna patch #8124
------------------------------------------------------------------------
r35438 | sveinung | 2017-05-07 11:56:46 +0100 (Sun, 07 May 2017) | 3 lines
Changed paths:
   M /trunk/server/ruleset.c

Fix error message typo "unkniwn" -> "unknown".

See hrm Bug #657821
------------------------------------------------------------------------
r35425 | sveinung | 2017-05-06 21:59:02 +0100 (Sat, 06 May 2017) | 13 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/sandbox/terrain.ruleset

civ2civ3: base defense against all unit classes.

Make units inside bases less vulnerable against one type of attack,
especially at the final stages of the game, by giving fortresses a 50%
defense bonus against air unit and by giving Airbase a 50% defense bonus
against land and sea units.

Increase the vision radius inside airbases to the same value as fortresses
with astronomy.

Patch by David Fernandez <bardo>

See gna patch #8123
------------------------------------------------------------------------
r35424 | sveinung | 2017-05-06 21:58:54 +0100 (Sat, 06 May 2017) | 14 lines
Changed paths:
   M /trunk/common/unittype.c
   M /trunk/server/diplomats.c

Non Spy consumption: use action shared system.

Have the actions where units without the Spy unit type flag always are
consumed and units with the Spy utype flag has a chance to escape use the
shared action system when consuming non spies.

Using the system common to actions makes the auto help system aware that non
Spy units will be consumed.

By using the general action consumes actor system it becomes possible to
split those actions in a unit consuming and a unit escaping version in the
future.

See hrm Feature #657674
------------------------------------------------------------------------
r35423 | sveinung | 2017-05-06 21:58:47 +0100 (Sat, 06 May 2017) | 9 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help: only show Spy escape when relevant.

Spy actions are action enabler controlled from Freeciv 2.6. There is no
longer a guarantee that a unit with the Spy unit type flag can perform any
of the spy actions where a unit with the Spy utype flag is able to escape.
Since a unit type like that can't perform any of those actions its veterans
aren't more likely to survive missions.

See hrm Bug #657644
------------------------------------------------------------------------
r35422 | sveinung | 2017-05-06 21:58:39 +0100 (Sat, 06 May 2017) | 7 lines
Changed paths:
   M /trunk/server/diplomats.c
   M /trunk/server/diplomats.h
   M /trunk/server/unithand.c

Spy action performers: take action struct.

Have the functions that performs the spy actions take the action struct of
the action they are about to perform as a parameter rather than taking it as
an action id.

See hrm Feature #657611
------------------------------------------------------------------------
r35421 | sveinung | 2017-05-06 21:58:32 +0100 (Sat, 06 May 2017) | 5 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/actions.h

action_has_result() doesn't modify its action.

Declare action_has_result()'s paction argument const.

See Feature #657600
------------------------------------------------------------------------
r35420 | sveinung | 2017-05-06 21:58:24 +0100 (Sat, 06 May 2017) | 10 lines
Changed paths:
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/sandbox/terrain.ruleset

civ2civ3: fix can't build on River typo.

It was supposed to be illegal to build Airbase, not Airstrip, on a tile with
a River.

(I applied the civ2civ3 fix to Sandbox too.)

Patch by David Fernandez <bardo>

See hrm Bug #657572
------------------------------------------------------------------------
r35419 | sveinung | 2017-05-06 21:58:16 +0100 (Sat, 06 May 2017) | 9 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3

civ2civ3: improve README.civ2civ3 text.

Happy borders aren't disabled after gna patch #7080. Don't claim it is.
Improve the English by removing capitalization from some words. Expand pop
to population.

Patch by David Fernandez <bardo>

See hrm Feature #657562
------------------------------------------------------------------------
r35418 | sveinung | 2017-05-06 21:58:06 +0100 (Sat, 06 May 2017) | 3 lines
Changed paths:
   M /trunk/server/actiontools.c
   M /trunk/server/actiontools.h
   M /trunk/server/diplomats.c
   M /trunk/server/unithand.c

Use actor_consuming_always to wipe the actor.

See hrm Feature #657310
------------------------------------------------------------------------
r35416 | cazfi | 2017-05-06 07:10:26 +0100 (Sat, 06 May 2017) | 6 lines
Changed paths:
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/scriptcore/api_game_methods.h
   M /trunk/common/scriptcore/tolua_game.pkg

Add player.controlling_gui() to scripting API

Requested by Jacob Nevins <jtn>

See gna patch #7500

------------------------------------------------------------------------
r35414 | cazfi | 2017-05-06 05:02:30 +0100 (Sat, 06 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/Makefile.am
   M /trunk/tools/ruledit/ruledit_qt.cpp
   M /trunk/tools/ruledit/ruledit_qt.h
   A /trunk/tools/ruledit/tab_terrains.cpp
   A /trunk/tools/ruledit/tab_terrains.h
   M /trunk/tools/ruledit/validity.c
   M /trunk/tools/ruledit/validity.h

Add Terrains tab to ruledit

See hrm Feature #657637

------------------------------------------------------------------------
r35412 | cazfi | 2017-05-05 19:32:49 +0100 (Fri, 05 May 2017) | 4 lines
Changed paths:
   M /trunk/server/generator/fracture_map.c

Use '&&' instead of '*' in boolean context.

See hrm Bug #657355

------------------------------------------------------------------------
r35405 | sveinung | 2017-05-05 11:30:17 +0100 (Fri, 05 May 2017) | 9 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help for action actor consumption.

The help texts of unit types auto documents what actions the utype can
perform. It also lists some additional auto generated information about each
action. Add a warning to the help text of an action when
utype_is_consumed_by_action() detects that it always will consume the actor
unit.

See hrm Feature #657372
------------------------------------------------------------------------
r35404 | sveinung | 2017-05-05 11:30:07 +0100 (Fri, 05 May 2017) | 8 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/unittype.c
   M /trunk/common/unittype.h
   M /trunk/server/diplomats.c
   M /trunk/server/diplomats.h
   M /trunk/server/unithand.c

Add action property actor_consuming_always.

Introduce the new action property actor_consuming_always. It is true if
successfully performing the action always consumes the actor. Have it
replace the spends_unit parameter of diplomat_embassy() and
diplomat_investigate().

See hrm Feature #657303
------------------------------------------------------------------------
r35403 | sveinung | 2017-05-05 11:29:53 +0100 (Fri, 05 May 2017) | 3 lines
Changed paths:
   M /trunk/server/diplomats.c

A non Spy is spent, not caught. It can't escape.

See hrm Feature #657298
------------------------------------------------------------------------
r35402 | sveinung | 2017-05-05 11:29:43 +0100 (Fri, 05 May 2017) | 1 line
Changed paths:
   M /trunk/common/actions.c

Comment typo fix.
------------------------------------------------------------------------
r35395 | cazfi | 2017-05-05 06:51:12 +0100 (Fri, 05 May 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-sdl2/gui_string.c

Fix comparison between pointer and zero character

See hrm Bug #657309

------------------------------------------------------------------------
r35393 | cazfi | 2017-05-05 06:24:13 +0100 (Fri, 05 May 2017) | 6 lines
Changed paths:
   M /trunk/client/helpdata.c
   M /trunk/client/packhand.c
   M /trunk/common/extras.c
   M /trunk/common/extras.h
   M /trunk/common/networking/packets.def
   M /trunk/common/tech.c
   M /trunk/data/alien/terrain.ruleset
   M /trunk/data/civ1/terrain.ruleset
   M /trunk/data/civ2/terrain.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/classic/terrain.ruleset
   M /trunk/data/experimental/terrain.ruleset
   M /trunk/data/multiplayer/terrain.ruleset
   M /trunk/data/ruledit/comments.txt
   M /trunk/data/sandbox/terrain.ruleset
   M /trunk/data/stub/terrain.ruleset
   M /trunk/data/webperimental/terrain.ruleset
   M /trunk/fc_version
   M /trunk/server/maphand.c
   M /trunk/server/ruleset.c
   M /trunk/server/techtools.c

Add extra property visibility_req

Requested by Jacob Nevins <jtn>

See gna patch #4392

------------------------------------------------------------------------
r35390 | sveinung | 2017-05-04 23:26:49 +0100 (Thu, 04 May 2017) | 7 lines
Changed paths:
   M /trunk/common/actions.c

Explain why the probability is an interval.

Explain that the action probability is a wide interval because the player
don't have access to needed information in the action selection dialog
button tool tip.

See hrm Feature #657217
------------------------------------------------------------------------
r35387 | cazfi | 2017-05-04 16:26:44 +0100 (Thu, 04 May 2017) | 4 lines
Changed paths:
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/scriptcore/api_game_methods.h
   M /trunk/common/scriptcore/tolua_game.pkg

Add calendar access functions to scripting API

See hrm Feature #656845

------------------------------------------------------------------------
r35385 | cazfi | 2017-05-04 15:59:08 +0100 (Thu, 04 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

installer_cross: Store crosser.txt to installer packet

See hrm Feature #656589

------------------------------------------------------------------------
r35382 | sveinung | 2017-05-04 11:22:09 +0100 (Thu, 04 May 2017) | 13 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/unitselect.c
   M /trunk/client/gui-gtk-3.22/unitselect.c
   M /trunk/client/gui-gtk-4.0/unitselect.c

unitselect: don't create pix twice.

Delete the pre "Gtk3-client drawing code uses cairo" (gna patch #2715)
initialization of the variable pix in usdlg_tab_append_utype(). The original
patch had already deleted it from usdlg_tab_append_units(). No change is
therefore needed in usdlg_get_unit_image(), the current location of
usdlg_tab_append_units()'s unit drawing code.

This fixes a memory leak. (Detectable with Valgrind.)

Reported by Marko Lindqvist <cazfi>

See gna bug #25246
------------------------------------------------------------------------
r35380 | cazfi | 2017-05-03 20:24:55 +0100 (Wed, 03 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruleup.c

Add --output DIRECTORY commandline parameter support to freeciv-ruleup

See hrm Feature #656672

------------------------------------------------------------------------
r35378 | cazfi | 2017-05-03 20:19:33 +0100 (Wed, 03 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/Makefile.am
   M /trunk/tools/ruledit/ruledit_qt.cpp
   M /trunk/tools/ruledit/ruledit_qt.h
   A /trunk/tools/ruledit/tab_extras.cpp
   A /trunk/tools/ruledit/tab_extras.h
   M /trunk/tools/ruledit/validity.c
   M /trunk/tools/ruledit/validity.h

Add extras tab to ruledit

See hrm Feature #656692

------------------------------------------------------------------------
r35375 | cazfi | 2017-05-03 15:55:12 +0100 (Wed, 03 May 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/doc/README

Update documentation to state gtk3.22-client is the default

See hrm Feature #656463

------------------------------------------------------------------------
r35372 | sveinung | 2017-05-03 08:14:35 +0100 (Wed, 03 May 2017) | 10 lines
Changed paths:
   M /trunk/data/webperimental/terrain.ruleset

webperimental: restrict railroads, not roads.

Hrm Feature #653510 enabled the restrictinfra server setting by default. In
return it was supposed to make Road unrestricted by restrictinfra so it only
would apply to Railroad. But the UnrestrictedInfra flag was added to
Railroad rather than Road by accident. Move it where it was supposed to be.

Reported by Jacob Nevins

See hrm Bug #656627
------------------------------------------------------------------------
r35371 | sveinung | 2017-05-03 08:14:27 +0100 (Wed, 03 May 2017) | 5 lines
Changed paths:
   M /trunk/client/client_main.c

Make enum type conversion explicit.

Reported by Marko Lindqvist

See hrm Bug #655955
------------------------------------------------------------------------
r35369 | sveinung | 2017-05-02 13:47:39 +0100 (Tue, 02 May 2017) | 14 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aidata.c
   M /trunk/ai/default/aidiplomat.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/pf_tools.c
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/doc/README.actions
   M /trunk/fc_version
   M /trunk/server/advisors/advdata.c
   M /trunk/server/diplomats.c
   M /trunk/server/diplomats.h
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c
   M /trunk/tools/ruleutil/rulesave.c

Split "Establish Embassy".

Stop relying on the Spy unit type flag to decide if "Establish Embassy"
consumes the actor unit. Split "Establish Embassy" in an actor unit
consuming and in a non actor unit consuming version.

This makes it possible to create a ruleset where all actor units, including
those with the Spy utype flag, are consumed during embassy establishing. It
makes a ruleset where no actor units, including those without the Spy utype
flag, are consumed during embassy establishing possible. It also makes more
complex rules, like "establishing an embassy during war consumes the actor
unit", possible.

See hrm Feature #656188
------------------------------------------------------------------------
r35366 | cazfi | 2017-05-02 13:33:49 +0100 (Tue, 02 May 2017) | 4 lines
Changed paths:
   M /trunk/data/themes/gui-gtk-3.22/Freeciv/gtk-3.0/gtk.css

Drop deprecated GtkMenuBar-internal-padding from the gtk3.22-client theme

See hrm Feature #656560

------------------------------------------------------------------------
r35364 | cazfi | 2017-05-02 13:30:45 +0100 (Tue, 02 May 2017) | 4 lines
Changed paths:
   M /trunk/common/networking/connection.h
   M /trunk/server/sernet.c
   M /trunk/server/srv_main.c

Store client gui_type

See hrm Feature #656558

------------------------------------------------------------------------
r35363 | cazfi | 2017-05-02 13:11:04 +0100 (Tue, 02 May 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/menu.c
   M /trunk/data/Makefile.am
   A /trunk/data/gtk4_menus.xml (from /trunk/data/gtk3.22_menus.xml:35362)

Add separate gtk4_menus.xml for gtk3x-client

See hrm Feature #656561

------------------------------------------------------------------------
r35362 | cazfi | 2017-05-02 07:08:41 +0100 (Tue, 02 May 2017) | 4 lines
Changed paths:
   M /trunk/client/packhand.c
   M /trunk/common/game.c
   M /trunk/common/idex.c
   M /trunk/common/idex.h
   M /trunk/common/player.c
   M /trunk/common/scriptcore/api_game_find.c
   M /trunk/common/world_object.h
   M /trunk/server/citytools.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/unittools.c

Add idex hashes to world object

See hrm Feature #656546

------------------------------------------------------------------------
r35358 | cazfi | 2017-05-01 18:45:55 +0100 (Mon, 01 May 2017) | 6 lines
Changed paths:
   M /trunk/ai/default/daimilitary.c

Fix AI crash when there's no suitable ferryboat type

Reported by Eric <koqebwix>

See gna bug #25628

------------------------------------------------------------------------
r35356 | cazfi | 2017-05-01 18:27:34 +0100 (Mon, 01 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/stub/Makefile.am

Fix build when both tinycthread and stub AI enabled

See hrm Bug #656445

------------------------------------------------------------------------
r35355 | jtn | 2017-05-01 17:34:57 +0100 (Mon, 01 May 2017) | 3 lines
Changed paths:
   M /trunk/translations/core/en_GB.po

Update my email address in en_GB.po.

"0jacobnk.gna" is about to look dated (but will still reach me).
------------------------------------------------------------------------
r35349 | sveinung | 2017-05-01 15:30:28 +0100 (Mon, 01 May 2017) | 9 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aidata.c
   M /trunk/ai/default/aidiplomat.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/pf_tools.c
   M /trunk/data/alien/game.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/doc/README.actions
   M /trunk/fc_version
   M /trunk/server/advisors/advdata.c
   M /trunk/server/diplomats.c
   M /trunk/server/diplomats.h
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c
   M /trunk/tools/ruleutil/rulesave.c

Split "Investigate City".

Stop relying on the Spy unit type flag to decide if "Investigate City"
consumes the actor unit. Split "Investigate City" in an actor unit consuming
and in a non actor unit consuming version.

Requested by David Fernandez

See hrm Feature #655676
------------------------------------------------------------------------
r35348 | sveinung | 2017-05-01 15:30:13 +0100 (Mon, 01 May 2017) | 6 lines
Changed paths:
   M /trunk/server/savecompat.h
   M /trunk/server/savegame3.c

Use the savegame's action order.

This makes it possible to change the order of the actions without breaking
savegames where a unit has an order to go to a tile and perform some action.

See hrm Feature #655693
------------------------------------------------------------------------
r35346 | cazfi | 2017-05-01 15:00:06 +0100 (Mon, 01 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

installer_cross: Build only stub ai to ruledit installer

See hrm Feature #656442

------------------------------------------------------------------------
r35345 | jtn | 2017-05-01 12:53:58 +0100 (Mon, 01 May 2017) | 3 lines
Changed paths:
   M /trunk/translations/core/en_GB.po

Merge current S2_5 en_GB translation for core strings (r35342). trunk stats:
76%: 5514 translated, 1088 fuzzy, 648 untranslated.

------------------------------------------------------------------------
r35338 | jtn | 2017-05-01 12:22:01 +0100 (Mon, 01 May 2017) | 6 lines
Changed paths:
   M /trunk/data/helpdata.txt

Fix truncated help string in freeciv.pot.

An edit made to data/helpdata.txt for hrm feature #637953 for mailing
list changes was malformed.

See hrm bug #656595.
------------------------------------------------------------------------
r35334 | cazfi | 2017-05-01 11:35:40 +0100 (Mon, 01 May 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL

Update links to SDL/2 requirement packages in INSTALL

See hrm Feature #656476

------------------------------------------------------------------------
r35328 | jtn | 2017-05-01 10:26:25 +0100 (Mon, 01 May 2017) | 8 lines
Changed paths:
   M /trunk/bootstrap/freeciv-gtk3.22.appdata.xml.in
   M /trunk/bootstrap/freeciv-gtk3.appdata.xml.in
   M /trunk/bootstrap/freeciv-mp-gtk3.appdata.xml.in
   M /trunk/bootstrap/freeciv-mp-qt.appdata.xml.in
   M /trunk/bootstrap/freeciv-qt.appdata.xml.in
   M /trunk/bootstrap/freeciv-ruledit.appdata.xml.in
   M /trunk/bootstrap/freeciv-sdl2.appdata.xml.in
   M /trunk/bootstrap/freeciv-server.appdata.xml.in
   M /trunk/configure.ac
   M /trunk/data/helpdata.txt
   M /trunk/doc/FAQ
   M /trunk/doc/README
   M /trunk/doc/README.AI

Update mailing list details.

freeciv-dev and freeciv-i18n are confirmed to be moving to
freelists.org.
freeciv-announce and freeciv-commits are not sorted out yet.
Committing early, to get string change in place.

See hrm feature #637953.
------------------------------------------------------------------------
r35326 | cazfi | 2017-05-01 09:04:21 +0100 (Mon, 01 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

installer_cross: Support MAKE_PARAMS

See hrm Feature #656458

------------------------------------------------------------------------
r35319 | sveinung | 2017-04-28 11:03:18 +0100 (Fri, 28 Apr 2017) | 9 lines
Changed paths:
   M /trunk/client/gui-qt/dialogs.cpp

Qt client: complete act sel dlg update code.

The code responsible for updating the action selection dialog when actions
change legality (added in gna patch #5365) was unfinished. This resulted in
the "Keep moving" button staying above new actions that becomes legal.

Complete the Qt client's act sel dlg update code.

See hrm Bug #655656
------------------------------------------------------------------------
r35318 | sveinung | 2017-04-28 11:03:11 +0100 (Fri, 28 Apr 2017) | 3 lines
Changed paths:
   M /trunk/server/srv_main.c
   M /trunk/server/srv_main.h
   M /trunk/tools/civmanual.c

Implement fc_interface for freeciv-manual.

See hrm Bug #655527
------------------------------------------------------------------------
r35317 | sveinung | 2017-04-28 11:03:03 +0100 (Fri, 28 Apr 2017) | 6 lines
Changed paths:
   M /trunk/client/helpdata.c

Rewrite building action auto help texts.

Drop act_tgt_city_range_building(). Inline the target city range description
texts where they are used. Rewrite the descriptions that sounds unnatural.

See hrm Feature #655512
------------------------------------------------------------------------
r35316 | sveinung | 2017-04-28 11:02:56 +0100 (Fri, 28 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/server_settings.c

server_settings: assert that fc_funcs exists.

The common server settings module makes use of functions from fc_interface.
Make sure they are there before trying to use them.

See hrm Feature #655515
------------------------------------------------------------------------
r35312 | jtn | 2017-04-28 00:26:24 +0100 (Fri, 28 Apr 2017) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/data/helpdata.txt
   M /trunk/doc/BUGS
   M /trunk/doc/FAQ
   M /trunk/doc/TODO
   M /trunk/doc/ca/BUGS.ca
   M /trunk/doc/de/BUGS.de
   M /trunk/doc/fr/BUGS.fr
   M /trunk/doc/ja/BUGS.ja
   M /trunk/doc/nl/BUGS.nl
   M /trunk/doc/sv/BUGS.sv

Update bug tracker URL to hostedredmine.

See hrm feature #655380.
------------------------------------------------------------------------
r35308 | cazfi | 2017-04-27 18:19:55 +0100 (Thu, 27 Apr 2017) | 4 lines
Changed paths:
   M /trunk/bootstrap/generate_gitrev.sh
   M /trunk/fc_version

Use short git revision identifier in version numbers

See hrm Feature #655305

------------------------------------------------------------------------
r35303 | sveinung | 2017-04-27 14:18:49 +0100 (Thu, 27 Apr 2017) | 1 line
Changed paths:
   M /trunk/server/srv_main.c

Comment fact fix
------------------------------------------------------------------------
r35302 | sveinung | 2017-04-27 14:18:40 +0100 (Thu, 27 Apr 2017) | 13 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/fc_interface.h
   M /trunk/common/fc_types.h
   M /trunk/common/server_settings.h

Don't include server_settings.h in fc_interface.h

The fc_interface module needs the sset_type enum and the server_setting_id
type to provide its server setting access abstractions. But fc_interface is
supposed to be used where the client and the server does things differently
yet still needs a common interface. It is already used in many non server
setting related places.

Stop pulling in server_settings.h everywhere fc_interface.h is included.
Move the sset_type enum and the server_setting_id type to fc_types.h and
include them to fc_interface.h from there.

See hrm Feature #655355
------------------------------------------------------------------------
r35300 | cazfi | 2017-04-26 19:14:40 +0100 (Wed, 26 Apr 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh
   M /trunk/windows/installer_cross/winbuild.sh

Support building installer_cross from a git repository

See hrm Feature #655148

------------------------------------------------------------------------
r35297 | cazfi | 2017-04-26 17:24:05 +0100 (Wed, 26 Apr 2017) | 4 lines
Changed paths:
   M /trunk/m4/no-client.m4

Fail --enable-client=gtk3.22 at configure time when gtk3 not present

See hrm Bug #654979

------------------------------------------------------------------------
r35295 | sveinung | 2017-04-26 12:58:29 +0100 (Wed, 26 Apr 2017) | 8 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help for the "Provoking" utype flag.

Auto document the "Provoking" unit type flag. The current text may confuse
users unaware that autoattack must be turned on. Explaining what autoattack
is would make the text even longer. Use hrm Feature #654853 to check if
autoattack is enabled. Only show the help text if it is.

See hrm Feature #655118
------------------------------------------------------------------------
r35293 | sveinung | 2017-04-25 22:13:00 +0100 (Tue, 25 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/server_settings.c
   M /trunk/common/server_settings.h

Server setting module bool value checker.

Make it easy to check the value of Boolean server settings that aren't sent
in PACKET_GAME_INFO by adding a boolean server setting value checker to the
server_settings module.

See hrm Feature #654853
------------------------------------------------------------------------
r35290 | cazfi | 2017-04-25 17:40:09 +0100 (Tue, 25 Apr 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_legacy/cleanup_checkout.sh
   M /trunk/windows/installer_msys2/cleanup_checkout.sh

Support VERSION_REVTYPE git builds on cleanup_checkout.sh

See hrm Feature #654688

------------------------------------------------------------------------
r35289 | igx31 | 2017-04-24 19:55:46 +0100 (Mon, 24 Apr 2017) | 3 lines
Changed paths:
   M /branches/S2_5/translations/freeciv/fr.po
   M /branches/S2_5/translations/nations/fr.po
   M /branches/S2_6/translations/freeciv/fr.po
   M /branches/S2_6/translations/nations/fr.po
   M /branches/S2_6/translations/ruledit/fr.po
   M /branches/S3_0/translations/core/fr.po
   M /branches/S3_0/translations/nations/fr.po
   M /branches/S3_0/translations/ruledit/fr.po
   M /trunk/translations/core/fr.po
   M /trunk/translations/nations/fr.po
   M /trunk/translations/ruledit/fr.po

Updated French translations


------------------------------------------------------------------------
r35287 | sveinung | 2017-04-24 03:47:27 +0100 (Mon, 24 Apr 2017) | 8 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/fc_interface.c
   M /trunk/common/fc_interface.h
   M /trunk/server/srv_main.c

Boolean server setting value access.

Add a function that gives access to the value of bool server settings to
fc_interface. This can be used to implement a ServerSetting requirement
type. It can also be used to check the value of Boolean server settings that
aren't sent in PACKET_GAME_INFO.

See hrm Feature #654153
------------------------------------------------------------------------
r35284 | cazfi | 2017-04-23 21:22:22 +0100 (Sun, 23 Apr 2017) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Remove comment indicating that root Makefile.am would handle config.rpath

------------------------------------------------------------------------
r35281 | cazfi | 2017-04-23 20:12:58 +0100 (Sun, 23 Apr 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.msys2
   M /trunk/windows/installer_msys2/Makefile

Support multiple make jobs in msys2 installer build

See hrm Feature #653645

------------------------------------------------------------------------
r35279 | sveinung | 2017-04-23 14:05:00 +0100 (Sun, 23 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/Makefile.am
   A /trunk/common/server_settings.c
   M /trunk/common/server_settings.h

Populate the server setting module.

Build server setting access functions on top of the functions exported in
the interface.

See hrm Feature #653904
------------------------------------------------------------------------
r35276 | cazfi | 2017-04-22 21:53:44 +0100 (Sat, 22 Apr 2017) | 2 lines
Changed paths:
   M /trunk/utility/ioz.h

Update comment to speak of freeciv_config.h instead of fc_config.h

------------------------------------------------------------------------
r35275 | cazfi | 2017-04-21 22:57:12 +0100 (Fri, 21 Apr 2017) | 6 lines
Changed paths:
   M /trunk/configure.ac

Fix build when --enable-sys-tolua-cmd=test does not find tolua

Reported by Sveinung Kvilhaugsvik

See hrm bug #653989

------------------------------------------------------------------------
r35270 | sveinung | 2017-04-21 01:56:09 +0100 (Fri, 21 Apr 2017) | 11 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/fc_interface.c
   M /trunk/common/fc_interface.h
   M /trunk/common/server_settings.h
   M /trunk/server/srv_main.c

Shared server setting access.

Server settings are stored and accessed differently in the client and in the
server. Introduce primitives for server setting access that works both in
client code and in server code. The plan is to build more complex access on
top of them.

Only access to the common (non value type specific) part of a setting is
included here.

See hrm Feature #653552
------------------------------------------------------------------------
r35269 | sveinung | 2017-04-20 22:40:10 +0100 (Thu, 20 Apr 2017) | 5 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset
   M /trunk/data/webperimental/terrain.ruleset

webperimental: enable restrictinfra by default...

...but limit it to railroads.

See hrm Feature #653510
------------------------------------------------------------------------
r35268 | sveinung | 2017-04-20 22:18:34 +0100 (Thu, 20 Apr 2017) | 27 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/civ2civ3/units.ruleset
   M /trunk/data/sandbox/README.sandbox
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/sandbox/units.ruleset

civ2civ3: import some game options from sandbox.

- Avoid overpowered diplomats at the start of the game. Remove reduced bribe
  cost of settlers.
- Remove Illegal_Action_Move_Cost.
- Allow explorers to establish embassies like in sandbox. Allow explorers to
  investigate cities. Restore explorer cost from 20 to 30, so they cost the
  same as diplomats who can also perform those actions. Update the help text
  of Explorer. The ability to perform those actions means that the Partisan
  no longer obsoletes the Explorer.
- Allow the harmless actions "Establish Embassy" and "Investigate City"
  while the actor unit is inside a ship.
- Allow using a caravan to help a team mate build a wonder (like sandbox).
- Make caravan actions coherent by having them require some movement left
  like actions as suggested by Sveinung.
- Sync sandbox with the new changes. (Includes making "Enter Marketplace"
  coherent even if it doesn't appear in civ2civ3)
- sandbox: remove the Writing requirement for the Explorer to establish an
  embassy. The rule permitting explorers to establish embassies was imported
  to the civ2civ3 based sandbox from the classic based experimental. In
  classic (and therefore experimental) Writing is required to build a
  Diplomat. But in civ2civ3 (and therefore sandbox) a Diplomat can be built
  once Alphabet is known.

Patch by David Fernandez <bardo@gna>

See hrm Feature #650794
------------------------------------------------------------------------
r35265 | sveinung | 2017-04-20 12:27:23 +0100 (Thu, 20 Apr 2017) | 5 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3

"same than" -> "same as".

Patch by David Fernandez <bardo@gna>

See hrm Feature #653364
------------------------------------------------------------------------
r35264 | cazfi | 2017-04-19 19:15:07 +0100 (Wed, 19 Apr 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/dependencies/tolua-5.2/src/Makefile.am

Build tolua cmd only if sys tolua not used

See hrm Feature #652961

------------------------------------------------------------------------
r35258 | sveinung | 2017-04-18 06:17:18 +0100 (Tue, 18 Apr 2017) | 3 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help for building action city protection.

See gna patch #7043
------------------------------------------------------------------------
r35257 | sveinung | 2017-04-18 06:17:10 +0100 (Tue, 18 Apr 2017) | 3 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help for action city target building need.

See gna patch #7042
------------------------------------------------------------------------
r35256 | sveinung | 2017-04-18 06:17:01 +0100 (Tue, 18 Apr 2017) | 3 lines
Changed paths:
   M /trunk/common/unit.c
   M /trunk/common/unit.h

Remove the unused function is_diplomat_unit().

See hrm Feature #651952
------------------------------------------------------------------------
r35255 | sveinung | 2017-04-18 06:16:51 +0100 (Tue, 18 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/requirements.c
   M /trunk/common/requirements.h

Universal is relevant to a requirement checker.

Introduce universal_is_relevant_to_requirement(). It uses the requirements
module's universal_found functions to see if a universal is relevant to a
requirement.

See hrm Feature #651673
------------------------------------------------------------------------
r35254 | cazfi | 2017-04-16 17:23:59 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/m4/gtk3x-client.m4

Require gtk+-3.90 for gtk3x-client

See hrm Feature #649666

------------------------------------------------------------------------
r35253 | cazfi | 2017-04-16 17:04:51 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/gui_main.c

Drop parameters from gtk_init() call

See hrm Feature #649543

------------------------------------------------------------------------
r35252 | cazfi | 2017-04-16 16:59:58 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/editgui.c

Replace gtk_toggle_button_set_mode() calls with modern constructs

See hrm Feature #649542

------------------------------------------------------------------------
r35251 | cazfi | 2017-04-16 16:54:58 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-gtk-4.0/chatline.c
   M /trunk/client/gui-gtk-4.0/choice_dialog.c
   M /trunk/client/gui-gtk-4.0/citizensinfo.c
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/cityrep.c
   M /trunk/client/gui-gtk-4.0/cma_fe.c
   M /trunk/client/gui-gtk-4.0/dialogs.c
   M /trunk/client/gui-gtk-4.0/diplodlg.c
   M /trunk/client/gui-gtk-4.0/editgui.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-gtk-4.0/gamedlgs.c
   M /trunk/client/gui-gtk-4.0/gotodlg.c
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/happiness.c
   M /trunk/client/gui-gtk-4.0/helpdlg.c
   M /trunk/client/gui-gtk-4.0/inputdlg.c
   M /trunk/client/gui-gtk-4.0/inteldlg.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c
   M /trunk/client/gui-gtk-4.0/menu.c
   M /trunk/client/gui-gtk-4.0/optiondlg.c
   M /trunk/client/gui-gtk-4.0/pages.c
   M /trunk/client/gui-gtk-4.0/plrdlg.c
   M /trunk/client/gui-gtk-4.0/unitselect.c
   M /trunk/client/gui-gtk-4.0/unitselunitdlg.c
   M /trunk/client/gui-gtk-4.0/voteinfo_bar.c
   M /trunk/client/gui-gtk-4.0/wldlg.c

Replace gtk_widget_show_all() calls with modern constructs

See hrm Feature #649541

------------------------------------------------------------------------
r35249 | cazfi | 2017-04-16 16:29:30 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/tools/mpgui_gtk4.c

Make freeciv-mp-gtk3x compatible with gtk+-3.90

See hrm Feature #649665

------------------------------------------------------------------------
r35247 | cazfi | 2017-04-16 16:12:27 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/tools/Makefile.am
   M /trunk/tools/mpgui_gtk3.c
   M /trunk/tools/mpgui_gtk4.c

Build freeciv-mp-gtk3x out of mpgui_gtk4.c

See hrm Feature #649606

------------------------------------------------------------------------
r35243 | cazfi | 2017-04-16 11:02:06 +0100 (Sun, 16 Apr 2017) | 7 lines
Changed paths:
   M /trunk/configure.ac

Do not consider lack of gtk3 hard error when only testing

When testing which modpack installer gui to build, do not consider
lack of libgtk3 an hard error but move forward to testing next candidate.

See hrm bug #651009

------------------------------------------------------------------------
r35242 | jtn | 2017-04-16 10:17:18 +0100 (Sun, 16 Apr 2017) | 3 lines
Changed paths:
   M /trunk/doc/README.sound
   M /trunk/doc/de/BUGS.de
   M /trunk/doc/de/HOWTOPLAY.de
   M /trunk/doc/de/INSTALL.de
   M /trunk/doc/fr/BUGS.fr
   M /trunk/doc/fr/HOWTOPLAY.fr
   M /trunk/doc/it/HOWTOPLAY.it
   M /trunk/doc/it/INSTALL.it
   M /trunk/doc/ja/BUGS.ja
   M /trunk/doc/ja/HOWTOPLAY.ja
   M /trunk/doc/nl/BUGS.nl
   M /trunk/doc/nl/HOWTOPLAY.nl
   M /trunk/doc/sv/HOWTOPLAY.sv
   M /trunk/tools/modinst.h

Replace download.gna.org with files.freeciv.org.

See hrm bug #652494.
------------------------------------------------------------------------
r35235 | sveinung | 2017-04-12 14:54:12 +0100 (Wed, 12 Apr 2017) | 3 lines
Changed paths:
   M /trunk/common/server_settings.h
   M /trunk/server/settings.c
   M /trunk/server/stdinhand.c
   M /trunk/tools/civmanual.c
   M /trunk/tools/ruleutil/rulesave.c

Count the number of server setting types.

See hrm Feature #651514
------------------------------------------------------------------------
r35234 | sveinung | 2017-04-12 14:53:59 +0100 (Wed, 12 Apr 2017) | 8 lines
Changed paths:
   M /trunk/common/Makefile.am
   A /trunk/common/server_settings.h
   M /trunk/server/settings.c
   M /trunk/server/settings.h
   M /trunk/server/stdinhand.c
   M /trunk/tools/civmanual.c
   M /trunk/tools/ruleutil/rulesave.c

Move server setting kind enum to common.

Move the enum sset_type to common. This makes common code (like a
requirement type) that deals with server settings possible. Host it in the
new module server_settings. Rename sset_type's members so they get a unique
prefix.

See hrm Feature #651397
------------------------------------------------------------------------
r35224 | sveinung | 2017-04-12 10:55:46 +0100 (Wed, 12 Apr 2017) | 17 lines
Changed paths:
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset

civ2civ3: adapt game starting options to v2.6.

- Add one diplomat as starting unit, so you have an alternative if your
  explorer dies, or the option to create an early embassy.
- Set 6 AIs by default (was 12). This halves the map size (set to tiles per
  player).
- Halve razechance by setting it to 10 (default is 20). (Like in some
  longturn games)
- Set revolentype to "Random, max always quicker". (Like in variant2)
- Reduce the size of glacier poles by setting temperature. Set flatpoles to
  0 so they do not always look the same.
- Adjust property_ocean_depth of oceanic terrain so there are less coastal
  oceans (values copied from variant2).

Patch by David Fernandez <bardo@gna>

See hrm Feature #650801
------------------------------------------------------------------------
r35223 | sveinung | 2017-04-12 10:55:24 +0100 (Wed, 12 Apr 2017) | 8 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/sandbox/README.sandbox

civ2civ3: make outer workable tiles stealable.

Import sandbox's rule that a city's outer workable tiles can be stolen, but
not its inner tiles.

Patch by David Fernandez <bardo@gna> (README file messing by me)

See hrm Feature #651450
------------------------------------------------------------------------
r35222 | sveinung | 2017-04-12 10:55:03 +0100 (Wed, 12 Apr 2017) | 9 lines
Changed paths:
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/sandbox/game.ruleset

Improve some achievement related texts.

Hrm Feature #650794's improvements of civ2civ3 achievement texts applied to
both sandbox and civ2civ3. Texts copied from Experimental.

Reported by wotan <wotan@gna>
Patch by David Fernandez <bardo@gna>

See gna bug #25589
------------------------------------------------------------------------
r35221 | sveinung | 2017-04-12 10:54:41 +0100 (Wed, 12 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/actions.c

A visible unit may forbid a stack tgt action.

A unit the player is able to see may make a unit stack targeted action
illegal. Make action_prob_vs_units() use this fact to eliminate false
positives.

See hrm Feature #651396
------------------------------------------------------------------------
r35220 | sveinung | 2017-04-12 10:53:58 +0100 (Wed, 12 Apr 2017) | 6 lines
Changed paths:
   M /trunk/server/savecompat.c

Use 3.0 devel sg compatibility while it is there.

Freeciv 3.1 still has 3.0 development version save game compatibility code.
Use it.

See hrm Feature #651394
------------------------------------------------------------------------
r35219 | sveinung | 2017-04-12 10:53:44 +0100 (Wed, 12 Apr 2017) | 3 lines
Changed paths:
   M /trunk/server/settings.h

settings.h: add header group label comments.

See hrm Feature #651392
------------------------------------------------------------------------
r35217 | sveinung | 2017-04-10 13:13:50 +0100 (Mon, 10 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/unittype.c

Homogenize ustate unit action cache creator.

Make the unit state unit action cache creator function more like the other
unit action cache creators by moving the setting of ACTION_ANY below the
setting of ACTION_HOSTILE.

See hrm Feature #650568
------------------------------------------------------------------------
r35212 | sveinung | 2017-04-06 09:19:57 +0100 (Thu, 06 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/unittype.c

Homogenize diplrel unit action cache creator.

Make the diplrel unit action cache creator function more like the other unit
action cache creators by renaming its unit index variable.

See hrm Feature #650078
------------------------------------------------------------------------
r35211 | sveinung | 2017-04-06 09:19:49 +0100 (Thu, 06 Apr 2017) | 5 lines
Changed paths:
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: Mountain vision bonus.

Give land units a vision bonus on top of Mountains like civ2civ3 does.

See hrm Feature #650075
------------------------------------------------------------------------
r35210 | sveinung | 2017-04-06 09:19:12 +0100 (Thu, 06 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c

Detect city blocks unit stack tgt action.

Don't offer to do a unit stack targeted action against the units that may be
hidden in a city when the action can't be done to unit stacks inside a city.

See hrm Feature #650074
------------------------------------------------------------------------
r35203 | sveinung | 2017-04-05 15:22:30 +0100 (Wed, 05 Apr 2017) | 3 lines
Changed paths:
   M /trunk/common/unittype.c
   M /trunk/common/unittype.h

Cache target CityTile state action legality.

See hrm Feature #649824
------------------------------------------------------------------------
r35202 | sveinung | 2017-04-05 15:22:23 +0100 (Wed, 05 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/player.c
   M /trunk/common/player.h

Make it possible to check if 0 units is certain.

Allow checking if a player can reason that a tile without any reported units
really has no units on it. The presence of units is reported by the units
them self or by an occupied city.

See hrm Feature #649819
------------------------------------------------------------------------
r35201 | sveinung | 2017-04-05 15:22:14 +0100 (Wed, 05 Apr 2017) | 5 lines
Changed paths:
   M /trunk/common/requirements.h
   M /trunk/common/unittype.c

Stop sharing requirement_unit_state_ereq().

Have it live in common/unittype.c where it is used.

See hrm Feature #649817
------------------------------------------------------------------------
r35200 | sveinung | 2017-04-05 15:22:01 +0100 (Wed, 05 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/unittype.c

Diplrel action cache: non hostile isn't hostile.

Stop the diplrel utype action cache from saying that a diplrel allows a
hostile action when it allows a non hostile action.

See hrm Bug #649816
------------------------------------------------------------------------
r35198 | sveinung | 2017-04-04 13:44:46 +0100 (Tue, 04 Apr 2017) | 1 line
Changed paths:
   M /trunk/common/actions.c

Comment grammer fix
------------------------------------------------------------------------
r35196 | sveinung | 2017-04-03 15:47:34 +0100 (Mon, 03 Apr 2017) | 1 line
Changed paths:
   M /trunk/common/player.c

Comment grammar fix
------------------------------------------------------------------------
r35195 | cazfi | 2017-04-02 17:24:54 +0100 (Sun, 02 Apr 2017) | 7 lines
Changed paths:
   M /trunk/client/Makefile.am
   M /trunk/configure.ac
   M /trunk/m4/gtk3x-client.m4

Plug gtk3x-client to build

It builds against gtk+-3.89.2.
It only builds. It doesn't work yet.

See hrm Feature #647936

------------------------------------------------------------------------
r35193 | cazfi | 2017-04-02 09:53:40 +0100 (Sun, 02 Apr 2017) | 4 lines
Changed paths:
   A /trunk/tools/mpgui_gtk4.c (from /trunk/tools/mpgui_gtk3.c:35192)

Copy mpgui_gtk3.c as baseline of mpgui_gtk4.c development

See hrm Task #649536

------------------------------------------------------------------------
r35192 | cazfi | 2017-04-02 09:41:40 +0100 (Sun, 02 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/mapview.c

Drop gdk_window_process_updates() call

See hrm Feature #647935

------------------------------------------------------------------------
r35191 | cazfi | 2017-04-01 21:40:00 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/themes.c

Drop third parameter from gtk_css_provider_load_from_file() call

See hrm Feature #647928

------------------------------------------------------------------------
r35186 | sveinung | 2017-04-01 21:14:14 +0100 (Sat, 01 Apr 2017) | 5 lines
Changed paths:
   M /trunk/doc/README.actions

README.actions: server option spelling fix.

The server setting is called unreachableprotects, not unreachable_protects.

See hrm Bug #648798
------------------------------------------------------------------------
r35185 | sveinung | 2017-04-01 21:13:25 +0100 (Sat, 01 Apr 2017) | 3 lines
Changed paths:
   M /trunk/server/rscompat.c

rscompat: the "Provoking" uflag was added in 3.0.

See hrm Bug #648789
------------------------------------------------------------------------
r35184 | sveinung | 2017-04-01 21:13:16 +0100 (Sat, 01 Apr 2017) | 12 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/actions.c
   M /trunk/common/fc_interface.c
   M /trunk/common/fc_interface.h
   M /trunk/server/srv_main.c

Make target-city-must-be-known precise.

The rule that a city must be known to a player before he can perform an
action to it used to be content when the player knew the city's tile. It was
therefore possible to act against an unknown city founded at a tile observed
before the city was founded.

Add player_tile_city_id_get() to the Freeciv interface. This makes it
possible to check if the city it self is known. Use it to make the rule
precise.

See Feature #648787
------------------------------------------------------------------------
r35183 | sveinung | 2017-04-01 21:13:05 +0100 (Sat, 01 Apr 2017) | 1 line
Changed paths:
   M /trunk/server/savegame3.c

Comment improvement
------------------------------------------------------------------------
r35182 | cazfi | 2017-04-01 21:00:05 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/mapview.c

Add third parameter to gdk_window_begin_draw_frame() calls

See hrm Feature #647934

------------------------------------------------------------------------
r35181 | cazfi | 2017-04-01 19:10:54 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c

Drop deprecated gtk_widget_set_app_paintable() calls

See hrm Feature #647932

------------------------------------------------------------------------
r35180 | cazfi | 2017-04-01 18:23:21 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/colors.c

Remove use of GdkVisual

See hrm Feature #647933

------------------------------------------------------------------------
r35179 | cazfi | 2017-04-01 13:33:13 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/cma_fe.c

Drop gtk_button_set_image_position() call

See hrm Feature #647931

------------------------------------------------------------------------
r35178 | cazfi | 2017-04-01 11:50:22 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/mapview.c

Drop fourth parameter from gtk_css_provider_load_from_data() calls

See hrm Feature #647927

------------------------------------------------------------------------
r35177 | cazfi | 2017-04-01 10:58:52 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/choice_dialog.c
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/cma_fe.c
   M /trunk/client/gui-gtk-4.0/dialogs.c
   M /trunk/client/gui-gtk-4.0/diplodlg.c
   M /trunk/client/gui-gtk-4.0/editgui.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/happiness.c
   M /trunk/client/gui-gtk-4.0/helpdlg.c
   M /trunk/client/gui-gtk-4.0/inteldlg.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c
   M /trunk/client/gui-gtk-4.0/pages.c
   M /trunk/client/gui-gtk-4.0/unitselect.c

Replace gtk_container_set_border_width() with modern constructs

See hrm Feature #647929

------------------------------------------------------------------------
r35176 | cazfi | 2017-04-01 10:20:07 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/chatline.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/voteinfo_bar.c

Replace gtk_button_set_image() with modern constructs

See hrm Feature #647930

------------------------------------------------------------------------
r35175 | cazfi | 2017-04-01 09:17:50 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/chatline.c
   M /trunk/client/gui-gtk-4.0/editgui.c
   M /trunk/client/gui-gtk-4.0/gamedlgs.c
   M /trunk/client/gui-gtk-4.0/gotodlg.c
   M /trunk/client/gui-gtk-4.0/inputdlg.c
   M /trunk/client/gui-gtk-4.0/optiondlg.c
   M /trunk/client/gui-gtk-4.0/unitselect.c

Drop fifth parameter from gtk_box_pack_start() calls

See hrm Feature #647926

------------------------------------------------------------------------
r35172 | cazfi | 2017-03-31 16:53:21 +0100 (Fri, 31 Mar 2017) | 4 lines
Changed paths:
   M /trunk/dependencies/luasql/README
   M /trunk/dependencies/luasql/Version
   M /trunk/dependencies/luasql/src/ls_mysql.c
   M /trunk/dependencies/luasql/src/ls_postgres.c
   M /trunk/dependencies/luasql/src/ls_sqlite3.c
   M /trunk/dependencies/luasql/src/luasql.c

Updated included luasql files to luasql-2.3.5 level.

See hrm Feature #648391

------------------------------------------------------------------------
r35171 | cazfi | 2017-03-31 14:21:32 +0100 (Fri, 31 Mar 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_main.h

Gtk3x-client identifies itself as one

See hrm Feature #637962

------------------------------------------------------------------------
r35168 | sveinung | 2017-03-28 21:00:40 +0100 (Tue, 28 Mar 2017) | 6 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset

webperimental: allow airlift to and from allies.

Set the default value for the airliftingstyle setting so it allows
airlifting to and from allied cities by default.

See hrm Feature #647963
------------------------------------------------------------------------
r35167 | sveinung | 2017-03-28 21:00:30 +0100 (Tue, 28 Mar 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/server/unithand.c

unit_get_actions: stop city existence leakage.

Stop leaking if a previously observed city still exists when responding to
a request for action probabilities in handle_unit_get_actions().

See gna bug #25282
------------------------------------------------------------------------
r35165 | cazfi | 2017-03-28 16:57:29 +0100 (Tue, 28 Mar 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-gtk-4.0/canvas.c
   M /trunk/client/gui-gtk-4.0/chatline.c
   M /trunk/client/gui-gtk-4.0/choice_dialog.c
   M /trunk/client/gui-gtk-4.0/citizensinfo.c
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/cityrep.c
   M /trunk/client/gui-gtk-4.0/cma_fe.c
   M /trunk/client/gui-gtk-4.0/colors.c
   M /trunk/client/gui-gtk-4.0/connectdlg.c
   M /trunk/client/gui-gtk-4.0/dialogs.c
   M /trunk/client/gui-gtk-4.0/diplodlg.c
   M /trunk/client/gui-gtk-4.0/editgui.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-gtk-4.0/finddlg.c
   M /trunk/client/gui-gtk-4.0/gamedlgs.c
   M /trunk/client/gui-gtk-4.0/gotodlg.c
   M /trunk/client/gui-gtk-4.0/graphics.c
   M /trunk/client/gui-gtk-4.0/graphics.h
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/happiness.c
   M /trunk/client/gui-gtk-4.0/happiness.h
   M /trunk/client/gui-gtk-4.0/helpdlg.c
   M /trunk/client/gui-gtk-4.0/inputdlg.c
   M /trunk/client/gui-gtk-4.0/inteldlg.c
   M /trunk/client/gui-gtk-4.0/luaconsole.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c
   M /trunk/client/gui-gtk-4.0/mapview.c
   M /trunk/client/gui-gtk-4.0/mapview.h
   M /trunk/client/gui-gtk-4.0/menu.c
   M /trunk/client/gui-gtk-4.0/messagedlg.c
   M /trunk/client/gui-gtk-4.0/messagewin.c
   M /trunk/client/gui-gtk-4.0/optiondlg.c
   M /trunk/client/gui-gtk-4.0/pages.c
   M /trunk/client/gui-gtk-4.0/plrdlg.c
   M /trunk/client/gui-gtk-4.0/repodlgs.c
   M /trunk/client/gui-gtk-4.0/soundset_dlg.c
   M /trunk/client/gui-gtk-4.0/spaceshipdlg.c
   M /trunk/client/gui-gtk-4.0/sprite.c
   M /trunk/client/gui-gtk-4.0/theme_dlg.c
   M /trunk/client/gui-gtk-4.0/themes.c
   M /trunk/client/gui-gtk-4.0/tileset_dlg.c
   M /trunk/client/gui-gtk-4.0/transportdlg.c
   M /trunk/client/gui-gtk-4.0/unitselect.c
   M /trunk/client/gui-gtk-4.0/unitselunitdlg.c
   M /trunk/client/gui-gtk-4.0/voteinfo_bar.c
   M /trunk/client/gui-gtk-4.0/wldlg.c

Set gui-gtk-4.0 include dir comments correctly

See hrm Feature #647950

------------------------------------------------------------------------
r35164 | cazfi | 2017-03-28 16:35:31 +0100 (Tue, 28 Mar 2017) | 4 lines
Changed paths:
   M /trunk/client/Makefile.am
   M /trunk/client/gui-gtk-3.22/Makefile.am
   M /trunk/configure.ac
   M /trunk/m4/gtk3.22-client.m4

Clean up gtk3.22-client bootstrap variables

See hrm Feature #647949

------------------------------------------------------------------------
r35163 | cazfi | 2017-03-26 18:43:36 +0100 (Sun, 26 Mar 2017) | 4 lines
Changed paths:
   A /trunk/client/gui-gtk-4.0 (from /trunk/client/gui-gtk-3.22:35162)

Copied gui-gtk-3.22 as baseline of gui-gtk-4.0

See hrm Feature #637945

------------------------------------------------------------------------
r35160 | sveinung | 2017-03-26 15:33:14 +0100 (Sun, 26 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/control.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/packhand.c
   M /trunk/common/networking/packets.def
   M /trunk/fc_version
   M /trunk/server/unithand.c

packet_unit_get_actions: don't specify tgt city.

Drop the unit_get_actions packet's ability to specify city id. There is
never more than one city at a tile. Take the city from the tile.

See hrm Feature #647692
------------------------------------------------------------------------
r35159 | sveinung | 2017-03-26 15:33:04 +0100 (Sun, 26 Mar 2017) | 7 lines
Changed paths:
   M /trunk/server/unithand.c

Check that target is at target tile.

Have handle_unit_get_actions() check that target unit and target city is
located at the target tile. Assuming this makes it safe to just check the
tile.

See hrm Feature #647175
------------------------------------------------------------------------
r35156 | sveinung | 2017-03-24 11:44:49 +0000 (Fri, 24 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/unithand.c

Always initialize probabilities to ACTPROB_NA.

Simplify handle_unit_get_actions() by always initializing the unit_actions
packet's probabilities field to ACTPROB_NA.

See hrm Feature #647145
------------------------------------------------------------------------
r35155 | sveinung | 2017-03-24 11:44:40 +0000 (Fri, 24 Mar 2017) | 8 lines
Changed paths:
   M /trunk/server/settings.c

Allow non hack users to disable timeout.

A non hack user may enable timeout by setting it to a value above 30
seconds. Let him disable it too.

Requested by drdogbot7 at the Freeciv forum.

See hrm Feature #647101
------------------------------------------------------------------------
r35151 | sveinung | 2017-03-22 15:31:32 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-sdl2/action_dialog.c

SDL2 client: add "Upgrade Unit" to act sel dlg.

Add a button for the "Upgrade Unit" action to the action selection dialog.
This makes the SDL2 client's action selection dialog cover all actions.

See hrm Feature #646483
------------------------------------------------------------------------
r35150 | sveinung | 2017-03-22 15:31:23 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame3.c

"Able to save all actions" checks actions.

Make the assertion that all actions can be saved in a unit order check the
max number of actions. This prepares it for generic actions.

See hrm Feature #646480
------------------------------------------------------------------------
r35149 | sveinung | 2017-03-22 15:31:14 +0000 (Wed, 22 Mar 2017) | 5 lines
Changed paths:
   M /trunk/client/helpdata.c

helpdata: generate block help for all actions.

Prepare help text generation for action blocked_by for generic actions.

See hrm Feature #646479
------------------------------------------------------------------------
r35144 | sveinung | 2017-03-22 11:02:10 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/dialogs.cpp

Qt client: add "Upgrade Unit" to act sel dlg.

Add a button for the "Upgrade Unit" action to the action selection dialog.
This makes the Qt client's action selection dialog cover all actions.

See hrm Feature #646168
------------------------------------------------------------------------
r35143 | sveinung | 2017-03-22 11:02:02 +0000 (Wed, 22 Mar 2017) | 8 lines
Changed paths:
   M /trunk/client/climisc.c

act_prob_cache size is ruleset number of actions.

The action probabilities are copied into it using action_iterate. It will
therefore never have to hold more than NUM_ACTIONS actions. This change can
therefore go in before Freeciv stops transferring action probabilities for
non existing actions after actions have been made generic.

See hrm Feature #646167
------------------------------------------------------------------------
r35142 | sveinung | 2017-03-22 11:01:52 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/unithand.c

Simplify "interpret move as action" handling.

Get the explanation why no action is possible when the client asks what
actions the unit can perform against the target tile.

See hrm Feature #645941
------------------------------------------------------------------------
r35141 | sveinung | 2017-03-22 11:01:41 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame3.c

Document "able to save all actions" assertion.

Document the absence of an off by one error in the assertion that all
actions can be saved in a unit order.

See hrm Bug #645817
------------------------------------------------------------------------
r35134 | sveinung | 2017-03-20 10:34:27 +0000 (Mon, 20 Mar 2017) | 1 line
Changed paths:
   M /trunk/common/actions.c

Comment fact fix
------------------------------------------------------------------------
r35133 | sveinung | 2017-03-20 10:34:19 +0000 (Mon, 20 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c

Gtk clients: add "Upgrade Unit" to act sel dlg.

Add a button for the "Upgrade Unit" action to the action selection dialog.
This makes the GTK clients' action selection dialog cover all actions.

See hrm Feature #645832
------------------------------------------------------------------------
r35132 | sveinung | 2017-03-20 10:34:10 +0000 (Mon, 20 Mar 2017) | 5 lines
Changed paths:
   M /trunk/server/advisors/advdata.c
   M /trunk/server/unithand.c

Assert that value isn't ACTION_COUNT.

Add assertions to switch cases that shouldn't end up handling ACTION_COUNT.

See hrm Feature #645814
------------------------------------------------------------------------
r35131 | sveinung | 2017-03-20 10:34:01 +0000 (Mon, 20 Mar 2017) | 3 lines
Changed paths:
   M /trunk/common/actions.c

Assert what failed rather than FALSE.

See hrm Feature #645804
------------------------------------------------------------------------
r35130 | sveinung | 2017-03-20 10:33:52 +0000 (Mon, 20 Mar 2017) | 3 lines
Changed paths:
   M /trunk/common/actions.c

Prepare action storage for generic actions.

See hrm Feature #645783
------------------------------------------------------------------------
r35127 | sveinung | 2017-03-19 10:07:26 +0000 (Sun, 19 Mar 2017) | 11 lines
Changed paths:
   M /trunk/data/alien/game.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset

Restore "Recycle Unit"'s DiplRel rules.

Hrm Feature #644449 made it legal to do "Recycle Unit" to an adjacent city.
It is possible to be adjacent to non allied cities. This accidentally
removed the old implicit rules that only an allied city could have its
production helped with "Recycle Unit". Restore the old rules by making them
explicit.

Reported by Christian Knoke <chrisk>

See gna bug #25597
------------------------------------------------------------------------
r35126 | sveinung | 2017-03-19 10:06:58 +0000 (Sun, 19 Mar 2017) | 8 lines
Changed paths:
   M /trunk/common/actions.c

action_prob_vs_X(): quick check target distance.

Make all the action_prob_vs_X() functions fail fast if the target is to far
away. This makes the behavior of action_prob_vs_units() (action probability
against unit stack) standard so the remaining action_prob_vs_X() functions
becomes ready for target specific unknowns.

See hrm Feature #644053
------------------------------------------------------------------------
r35124 | sveinung | 2017-03-17 12:02:25 +0000 (Fri, 17 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/ruleset.c

Load action enabler action by action rule name.

Use the action's rule name. Stop assuming that action rule names will remain
hard coded.

See hrm Feature #645313
------------------------------------------------------------------------
r35120 | sveinung | 2017-03-16 16:57:42 +0000 (Thu, 16 Mar 2017) | 3 lines
Changed paths:
   M /trunk/server/savegame3.c

Prepare action order saving for generic actions.

See hrm Feature #644963
------------------------------------------------------------------------
r35119 | sveinung | 2017-03-16 16:56:26 +0000 (Thu, 16 Mar 2017) | 3 lines
Changed paths:
   M /trunk/client/packhand.c
   M /trunk/server/unithand.c

Clarify "no action" in action details requests.

See hrm Feature #644959
------------------------------------------------------------------------
r35118 | sveinung | 2017-03-16 16:56:18 +0000 (Thu, 16 Mar 2017) | 3 lines
Changed paths:
   M /trunk/tools/ruledit/tab_enablers.cpp
   M /trunk/tools/ruleutil/rulesave.c

ruledit: clarify action counting.

See hrm Feature #644930
------------------------------------------------------------------------
r35115 | sveinung | 2017-03-15 11:30:24 +0000 (Wed, 15 Mar 2017) | 3 lines
Changed paths:
   M /trunk/client/packhand.c

Clarify "no action" in client side auto act.

See hrm Feature #644616
------------------------------------------------------------------------
r35114 | sveinung | 2017-03-15 11:30:16 +0000 (Wed, 15 Mar 2017) | 3 lines
Changed paths:
   M /trunk/common/networking/packets.def
   M /trunk/server/unithand.c

Prepare PACKET_UNIT_ACTIONS for generic actions.

See hrm Feature #644615
------------------------------------------------------------------------
r35109 | sveinung | 2017-03-14 09:39:20 +0000 (Tue, 14 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/control.c
   M /trunk/client/goto.c
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/mapctrl_common.c
   M /trunk/client/packhand.c
   M /trunk/server/savecompat.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c

Clarify "no action" in unit order.

Use ACTION_NONE inn all cases that specifies that a unit order has no
action. This is clearer than ACTION_COUNT.

See hrm Feature #644455
------------------------------------------------------------------------
r35108 | sveinung | 2017-03-14 09:39:12 +0000 (Tue, 14 Mar 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/doc/README.actions

Rule change: "Recycle Unit" to adjacent city.

Make the action "Recycle Unit" consistent with "Help Wonder" by permitting
it to be done to an adjacent city.

See hrm Feature #644449
------------------------------------------------------------------------
r35107 | sveinung | 2017-03-14 09:39:03 +0000 (Tue, 14 Mar 2017) | 11 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/networking/packets.def
   M /trunk/server/ruleset.c
   M /trunk/tools/ruleutil/rulesave.c

Prepare action counting for generic actions.

Make it possible to distinguish the number of actions in the current
ruleset from the maximum number of actions. This will be needed when actions
becomes generic.

Introduce the distinction in action auto performers. Introduce the
distinction in action_iterate. Other areas should be clarified in follow up
patches.

See hrm Feature #644446
------------------------------------------------------------------------
r35106 | sveinung | 2017-03-14 09:38:50 +0000 (Tue, 14 Mar 2017) | 7 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/client/control.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/unittype.c
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c

Prepare action ID validation for generic actions.

Rename the function action_id_is_valid() to action_id_exists(). Make it
about the action with the given id, not about the action result. Use
gen_action_is_valid() for action results.

See hrm Feature #644444
------------------------------------------------------------------------
r35104 | sveinung | 2017-03-13 14:19:41 +0000 (Mon, 13 Mar 2017) | 10 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/doc/README.actions

Rule change: close "Recycle Unit" loop hole.

The action "Help Wonder" prevents the player from doing it in a city that
has enough shields to finish its current production. This protects against
a cheating player avoiding rules about what items can receive help from it
by receiving the help for a (finished) legal item and then build an item
that can't receive help from "Help Wonder". Give the action "Recycle Unit"
the same protection. This makes it consistent with "Help Wonder".

See hrm Feature #644056
------------------------------------------------------------------------
r35099 | sveinung | 2017-03-12 12:27:09 +0000 (Sun, 12 Mar 2017) | 7 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/server/ruleset.c
   M /trunk/tools/ruleutil/rulesave.c

Clarify action_auto_perf action list terminator.

Specify that the value that terminates action auto performers' action lists
is ACTION_NONE (no action). ACTION_COUNT, while currently the same value,
can be understood in other ways too.

See hrm Feature #644169
------------------------------------------------------------------------
r35098 | sveinung | 2017-03-12 12:27:00 +0000 (Sun, 12 Mar 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/metaknowledge.c
   M /trunk/common/metaknowledge.h
   M /trunk/utility/shared.c
   M /trunk/utility/shared.h

Define tristate "and" near tristate.

Rename the function tri_and() to fc_tristate_and() and define it where the
enum fc_tristate is defined.

See hrm Feature #644166
------------------------------------------------------------------------
r35097 | sveinung | 2017-03-12 12:26:51 +0000 (Sun, 12 Mar 2017) | 8 lines
Changed paths:
   M /trunk/tools/ruledit/tab_enablers.cpp

ruledit: new action enablers go last.

The action enabler list is sorted by action. A user doesn't expect the new
action enabler he just added to end up in the middle of the action enabler
list. Set the default action of a new action enabler to the last action so
it shows up at the end of the action enabler list.

See hrm Feature #644055
------------------------------------------------------------------------
r35094 | cazfi | 2017-03-12 08:46:24 +0000 (Sun, 12 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.22/mapview.c

Pass valid region to gdk_window_begin_draw_frame() calls.

Reported by Jochen Trumpf <jochent>

See gna bug #25529

------------------------------------------------------------------------
r35088 | sveinung | 2017-03-10 10:36:27 +0000 (Fri, 10 Mar 2017) | 8 lines
Changed paths:
   M /trunk/server/unithand.c

Remove redundant needs war explanation code.

It is impossible to do "Conquer City" to a city that contains any units.
This means that the target city can't contain a unit from a nation the actor
isn't at war with. Remove action specific action not enabled explanation
code that is supposed to detect this.

See hrm Feature #643526
------------------------------------------------------------------------
r35087 | sveinung | 2017-03-10 10:36:18 +0000 (Fri, 10 Mar 2017) | 3 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset

webperimental: turn off slow invasion.

See hrm Feature #643525
------------------------------------------------------------------------
r35086 | sveinung | 2017-03-09 20:41:32 +0000 (Thu, 09 Mar 2017) | 3 lines
Changed paths:
   M /trunk/server/unithand.c

Give the AI action decision want information.

See hrm Feature #643268
------------------------------------------------------------------------
r35085 | sveinung | 2017-03-09 20:41:20 +0000 (Thu, 09 Mar 2017) | 3 lines
Changed paths:
   M /trunk/server/unithand.c

Inline variables used only once.

See hrm Feature #643198
------------------------------------------------------------------------
r35084 | sveinung | 2017-03-09 20:41:13 +0000 (Thu, 09 Mar 2017) | 5 lines
Changed paths:
   M /trunk/server/unithand.c

Remove obsolete optimization.

Almost all units are actors in 3.0 and later.

See hrm Feature #643196
------------------------------------------------------------------------
r35080 | cazfi | 2017-03-08 16:40:21 +0000 (Wed, 08 Mar 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac

Updated BUG_URL to point to hostedredmine.com

See hrm Feature #637952

------------------------------------------------------------------------
r35077 | sveinung | 2017-03-08 16:10:08 +0000 (Wed, 08 Mar 2017) | 1 line
Changed paths:
   M /trunk/server/unithand.c

Comment spell fix: suiting -> suitable
------------------------------------------------------------------------
r35076 | sveinung | 2017-03-08 16:09:44 +0000 (Wed, 08 Mar 2017) | 17 lines
Changed paths:
   M /trunk/server/unithand.c

Don't advice a player to declare war on himself.

The player can ask what actions a unit can perform to targets located at a
specific tile in two ways. He can ask directly via the unit_get_actions
packet. Ordering the unit to move to the tile is sometimes interpreted as an
indirect question. When no action is possible the server will notify the
player. If able to it will try to explain why no action was possible.

An action may be impossible because the actor isn't at war with the target.
The server will consider this when trying to find an explanation why no
action could be performed. If declaring war may make an action legal it will
let the player know.

A player can't declare war on himself or on a team mate. Informing the
player that a war may make some action legal is therefore pointless.

See gna bug #25551
------------------------------------------------------------------------
r35072 | sveinung | 2017-03-01 10:19:34 +0000 (Wed, 01 Mar 2017) | 8 lines
Changed paths:
   M /trunk/server/unithand.c

Improve explanation for tile targeted actions.

A tile targeted action may be illegal because of the diplomatic relationship
the actor unit's owner has to the tile's owner. Have the processing of an
unit_do_action packet forward target tile owner information to the illegal
action handling.

See gna patch #8122
------------------------------------------------------------------------
r35071 | sveinung | 2017-03-01 10:19:27 +0000 (Wed, 01 Mar 2017) | 10 lines
Changed paths:
   M /trunk/server/unithand.c

Explain unexpected missing target.

Stop failing silently when an unit_do_action packet or an unit_action_query
packet with a missing target arrives.

A target could disappear at the same time the player presses a button in the
action selection dialog. A modified client may specify the target in a bad
way.

See gna patch #8121
------------------------------------------------------------------------
r35070 | sveinung | 2017-03-01 10:19:18 +0000 (Wed, 01 Mar 2017) | 7 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aisettler.c
   M /trunk/ai/default/daidomestic.c
   M /trunk/client/control.c
   M /trunk/client/helpdata.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/aisupport.c
   M /trunk/server/advisors/advbuilding.c
   M /trunk/server/advisors/advdata.c
   M /trunk/server/unithand.c

action_get_role(): take action struct.

The function action_get_role() took an action id rather than an action. Make
it take an action structure. Introduce action_id_get_role() for getting role
by ID.

See gna patch #8120
------------------------------------------------------------------------
r35069 | mir3x | 2017-02-28 06:34:11 +0000 (Tue, 28 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp

Qt client - fixed quickairlift unit type not shown after menu update

See gna bug #25533


------------------------------------------------------------------------
r35065 | mir3x | 2017-02-28 06:31:50 +0000 (Tue, 28 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/pages.cpp

Qt client - added connect to server on enter pressed in linedit in pregame

See gna patch #8118


------------------------------------------------------------------------
r35060 | cazfi | 2017-02-23 05:00:12 +0000 (Thu, 23 Feb 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/gui_main.c
   M /trunk/client/gui-gtk-3.22/gui_main.c

Fixed zoom out and in to work when '+' or '-' require 'shift'

Reported by Jochen Trumpf <jochent>

See gna bug #25237

------------------------------------------------------------------------
r35057 | cazfi | 2017-02-22 04:11:31 +0000 (Wed, 22 Feb 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-qt/repodlgs.cpp

Fixed 'might be used uninitialized' error from qt-client update_units().

See hrm bug #639513

------------------------------------------------------------------------
r35056 | mir3x | 2017-02-21 14:13:09 +0000 (Tue, 21 Feb 2017) | 6 lines
Changed paths:
   M /trunk/server/report.c

Fixed dead player scores not revealed on game over
Reported by Daniel Markstedt <dmarks>

See gna bug #17248


------------------------------------------------------------------------
r35053 | mir3x | 2017-02-21 14:09:14 +0000 (Tue, 21 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/pages.cpp
   M /trunk/client/gui-qt/repodlgs.cpp
   M /trunk/client/gui-qt/repodlgs.h
   M /trunk/data/themes/gui-qt/Classic/resource.qss
   M /trunk/data/themes/gui-qt/Necrophos/resource.qss
   M /trunk/data/themes/gui-qt/NightStalker/resource.qss

Qt client - new units report

See gna patch #8117


------------------------------------------------------------------------
r35050 | mir3x | 2017-02-16 20:03:59 +0000 (Thu, 16 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/pages.cpp

Qt client - rearranged page scenario

See gna patch #8116


------------------------------------------------------------------------
r35046 | mir3x | 2017-02-16 20:01:41 +0000 (Thu, 16 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/plrdlg.cpp

Qt client - fixed player dialog not showing new nations

See gna bug #25506


------------------------------------------------------------------------
r35040 | cazfi | 2017-02-16 04:57:55 +0000 (Thu, 16 Feb 2017) | 4 lines
Changed paths:
   M /trunk/bootstrap/generate_gitrev.sh

Replaced typo that caused unnecessary regeneration of fc_gitrev_gen.h

See gna bug #25508

------------------------------------------------------------------------
r35037 | cazfi | 2017-02-16 04:48:18 +0000 (Thu, 16 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/mapview_common.c

Set production text color correctly when city production display is
enabled without city name display being enabled.

See gna bug #25477

------------------------------------------------------------------------
r35035 | cazfi | 2017-02-15 16:17:28 +0000 (Wed, 15 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh

Add dlls needed by Qt based programs to relevant cross-built windows installers.

See gna patch #8106

------------------------------------------------------------------------
r35032 | mir3x | 2017-02-14 08:14:45 +0000 (Tue, 14 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/gui_main.cpp

Qt client - focus might be set incorrectly to map in some cases

See gna bug #25505


------------------------------------------------------------------------
r35029 | mir3x | 2017-02-14 08:11:38 +0000 (Tue, 14 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/gui_main.cpp

Qt client - Changed manual switching to PAGE_START only from PAGE_NETWORK.

See gna bug #25486


------------------------------------------------------------------------
r35023 | cazfi | 2017-02-13 20:16:42 +0000 (Mon, 13 Feb 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.msys2
   M /trunk/windows/installer_legacy/Makefile

Updated gnuwin/msys download URL.

See gna patch #8109

------------------------------------------------------------------------
r35020 | mir3x | 2017-02-12 19:11:06 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/chatline.cpp

Qt client - Fixed 'glued' links in chat.

See gna bug #25499


------------------------------------------------------------------------
r35017 | mir3x | 2017-02-12 19:08:22 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/diplodlg.cpp

Qt client - contrast colors in diplomacy dialog overriden by theme

See gna bug #25495


------------------------------------------------------------------------
r35014 | mir3x | 2017-02-12 19:05:46 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/helpdlg.cpp

Qt client - show nations flags in help tree

See gna patch #8113


------------------------------------------------------------------------
r35011 | mir3x | 2017-02-12 19:03:36 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/diplodlg.cpp

Qt client - added tooltip to diplomacy dialog about state beween civilizations

See gna patch #8114


------------------------------------------------------------------------
r35007 | mir3x | 2017-02-12 19:00:47 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/plrdlg.cpp

Qt client - added information about sharing vision to player dialog

See gna patch #8115


------------------------------------------------------------------------
r35003 | cazfi | 2017-02-11 07:32:01 +0000 (Sat, 11 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh

Add dlls needed by gtk3.22-client and sdl2-client to cross-built windows installers.

See gna patch #8106

------------------------------------------------------------------------
r35001 | cazfi | 2017-02-11 07:24:19 +0000 (Sat, 11 Feb 2017) | 4 lines
Changed paths:
   M /trunk/m4/gtk3.22-client.m4

Prevent things deprecated in glib 2.50 from gtk3.22-client

See gna patch #7705

------------------------------------------------------------------------
r34999 | sveinung | 2017-02-10 08:15:56 +0000 (Fri, 10 Feb 2017) | 3 lines
Changed paths:
   M /trunk/server/unittools.c

Drop custom target missing strings for orders.

See gna patch #8112
------------------------------------------------------------------------
r34997 | cazfi | 2017-02-10 04:58:35 +0000 (Fri, 10 Feb 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-3.22/mapview.c

Replaced deprecated gdk_cairo_create() calls with modern constructs in gtk3.22-client.

See gna patch #7964

------------------------------------------------------------------------
r34995 | cazfi | 2017-02-09 05:33:24 +0000 (Thu, 09 Feb 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/client/gui-gtk-3.22/citydlg.c
   M /trunk/client/gui-gtk-3.22/optiondlg.c
   M /trunk/client/gui-gtk-3.22/pages.c
   M /trunk/m4/gtk3.22-client.m4

Replaced deprecated gtk_menu_popup() calls with modern constructs in gtk3.22-client

See gna patch #7876

------------------------------------------------------------------------
r34992 | cazfi | 2017-02-08 04:52:49 +0000 (Wed, 08 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh
   M /trunk/windows/installer_cross/winbuild.sh

Added gui type specific part to the filenames created by winbuild.sh

See gna patch #8105

------------------------------------------------------------------------
r34991 | mir3x | 2017-02-07 15:59:34 +0000 (Tue, 07 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/sprite.cpp

Qt client - crop scaled hex sprites bigger by 1 pixel for scaled tileset.

See gna patch #8110


------------------------------------------------------------------------
r34988 | mir3x | 2017-02-07 15:55:06 +0000 (Tue, 07 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/dialogs.cpp

Qt client - find best transport from correct tile for transport dialog.

See gna bug #25492


------------------------------------------------------------------------
r34983 | cazfi | 2017-02-07 04:43:52 +0000 (Tue, 07 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/build_all_installers.sh

Added script to cross-build all installers.

See gna patch #8104

------------------------------------------------------------------------
r34980 | cazfi | 2017-02-06 05:10:26 +0000 (Mon, 06 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/create-freeciv-ruledit-nsi.sh
   A /trunk/windows/installer_cross/freeciv-ruledit.cmd
   M /trunk/windows/installer_cross/installer_build.sh

Added cross-building of Windows Installer for ruledit.

See gna patch #8098

------------------------------------------------------------------------
r34979 | mir3x | 2017-02-05 16:16:43 +0000 (Sun, 05 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/sprite.c
   M /trunk/client/gui-gtk-3.22/sprite.c
   M /trunk/client/gui-qt/qtg_cxxside.h
   M /trunk/client/gui-qt/sprite.cpp
   M /trunk/client/gui-sdl2/sprite.c
   M /trunk/client/gui-sdl2/themespec.c
   M /trunk/client/gui-stub/sprite.c
   M /trunk/client/gui_interface.c
   M /trunk/client/gui_interface.h
   M /trunk/client/include/sprite_g.h
   M /trunk/client/tilespec.c

Added option to scale tileset with bilinear algorithm

See gna patch #8108


------------------------------------------------------------------------
r34976 | mir3x | 2017-02-05 15:47:44 +0000 (Sun, 05 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/hudwidget.cpp

Qt client - fixed clang warning - 'has road' - Wsometimes-uninitialized

See gna bug #25487


------------------------------------------------------------------------
r34973 | mir3x | 2017-02-05 15:45:21 +0000 (Sun, 05 Feb 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/gui_main.cpp
   M /trunk/client/gui-qt/pages.cpp

Qt client - Fixed user not able connect to network server
            after failed connection to local server.

See gna bug #25486


------------------------------------------------------------------------
r34970 | mir3x | 2017-02-05 15:42:49 +0000 (Sun, 05 Feb 2017) | 6 lines
Changed paths:
   M /trunk/client/tilespec.c

Fixed some tileset variables which could be scaled 2 times.
Fixed wrong comparision.

See gna bug #25474


------------------------------------------------------------------------
r34967 | mir3x | 2017-02-05 15:38:18 +0000 (Sun, 05 Feb 2017) | 5 lines
Changed paths:
   M /trunk/common/aicore/path_finding.c

Fixed hidden int promotion in pf_pos_hash_val(...)

See gna bug #25449


------------------------------------------------------------------------
r34964 | mir3x | 2017-02-05 15:34:20 +0000 (Sun, 05 Feb 2017) | 7 lines
Changed paths:
   M /trunk/common/combat.c

Fixed rounded down terrain bonus in get_defense_power(const struct unit *punit)

Reported by 'unknown' and Marko Lindqvist <cazfi>

See gna bug #25432


------------------------------------------------------------------------
r34960 | cazfi | 2017-02-05 08:26:42 +0000 (Sun, 05 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/create-freeciv-sdl2-nsi.sh
   A /trunk/windows/installer_cross/freeciv-sdl2.cmd
   M /trunk/windows/installer_cross/installer_build.sh

Added cross-building of Windows Installer for sdl2-client.

See gna patch #8097

------------------------------------------------------------------------
r34959 | cazfi | 2017-02-04 20:28:47 +0000 (Sat, 04 Feb 2017) | 5 lines
Changed paths:
   M /trunk/data/experimental/effects.ruleset
   M /trunk/data/sandbox/game.ruleset

Corrected some occurrences of "Is foreign" as Diplomatic relation type to read
just "Foreign".

See gna bug #25489

------------------------------------------------------------------------
r34957 | cazfi | 2017-02-04 20:09:21 +0000 (Sat, 04 Feb 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac

Corrected setting initial value for gtk3x modpack variable.

See gna bug #25488

------------------------------------------------------------------------
r34954 | jtn | 2017-02-04 11:17:03 +0000 (Sat, 04 Feb 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-qt/fonts.h

Add declaration of QStringList to fonts.h, which uses it, to fix
compilation failure on some systems.

See gna bug #25491.
------------------------------------------------------------------------
r34951 | cazfi | 2017-02-04 08:33:49 +0000 (Sat, 04 Feb 2017) | 4 lines
Changed paths:
   M /trunk/tools/modinst.c

Respect DIR_SEPARATOR in path to modpack database file.

See bug #25485

------------------------------------------------------------------------
r34949 | cazfi | 2017-02-04 08:23:14 +0000 (Sat, 04 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/freeciv-mp-qt.cmd
   A /trunk/windows/installer_cross/freeciv-qt.cmd
   M /trunk/windows/installer_cross/installer_build.sh

Added cross-building of Windows Installer for Qt-client.

See patch #8096

------------------------------------------------------------------------
r34946 | sveinung | 2017-02-03 13:56:07 +0000 (Fri, 03 Feb 2017) | 9 lines
Changed paths:
   M /trunk/client/goto.c

Demote walk-through-enemy assertion to a warning.

A player can now give a "Go to and..." order while assuming that the enemy
at the tile the last regular move targets will be gone or converted by the
time the unit reaches it.

Reported by Christian Knoke <chrisk>

See patch #8101
------------------------------------------------------------------------
r34945 | sveinung | 2017-02-03 13:55:56 +0000 (Fri, 03 Feb 2017) | 17 lines
Changed paths:
   M /trunk/client/packhand.c

Fix automatic attack for "Conquer City".

The "Conquer City" action is an attack action. It is city targeted.

A potentially legal attack action should pop up the action selection dialog
if the popup_attack_actions client option is set or if another interesting
action is possible. If the "Pop up attack questions" is unset and no other
interesting action is possible the client should order the conquest without
asking the user.

Make the client able to order city targeted actions (like "Conquer City")
without asking the user.

Reported by wotan <wotan>
Debugged by Christian Knoke <chrisk>

See bug #25336
------------------------------------------------------------------------
r34943 | cazfi | 2017-02-03 05:00:48 +0000 (Fri, 03 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/freeciv-mp-gtk3.cmd
   M /trunk/windows/installer_cross/installer_build.sh

Added freeciv-mp-gtk3.cmd to cross-built gtk3.22-client Windows Installer.

See patch #8095

------------------------------------------------------------------------
r34940 | mir3x | 2017-02-02 19:56:59 +0000 (Thu, 02 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/tilespec.c

Fixed some tileset variables scaled 2 times

See bug #25474


------------------------------------------------------------------------
r34937 | mir3x | 2017-02-02 19:50:38 +0000 (Thu, 02 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/tilespec.c

Fixed memory leaks when rereading tileset.

See patch #8102


------------------------------------------------------------------------
r34931 | mir3x | 2017-02-02 19:44:22 +0000 (Thu, 02 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/tilespec.c
   M /trunk/client/tilespec.h

Added function to retrieve scale of current tileset

See patch #8093


------------------------------------------------------------------------
r34929 | mir3x | 2017-02-02 19:34:32 +0000 (Thu, 02 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/hudwidget.cpp
   M /trunk/client/gui-qt/mapview.cpp

Qt client - add movement cost to terrain tooltip

See patch #8099


------------------------------------------------------------------------
r34925 | cazfi | 2017-02-02 05:43:42 +0000 (Thu, 02 Feb 2017) | 4 lines
Changed paths:
   M /trunk/dependencies/lua-5.3/README
   M /trunk/dependencies/lua-5.3/Version
   M /trunk/dependencies/lua-5.3/doc/readme.html
   M /trunk/dependencies/lua-5.3/src/lauxlib.c
   M /trunk/dependencies/lua-5.3/src/lauxlib.h
   M /trunk/dependencies/lua-5.3/src/lbaselib.c
   M /trunk/dependencies/lua-5.3/src/lcode.c
   M /trunk/dependencies/lua-5.3/src/ldebug.c
   M /trunk/dependencies/lua-5.3/src/ldo.c
   M /trunk/dependencies/lua-5.3/src/lgc.c
   M /trunk/dependencies/lua-5.3/src/linit.c
   M /trunk/dependencies/lua-5.3/src/liolib.c
   M /trunk/dependencies/lua-5.3/src/lmathlib.c
   M /trunk/dependencies/lua-5.3/src/loadlib.c
   M /trunk/dependencies/lua-5.3/src/lobject.c
   M /trunk/dependencies/lua-5.3/src/lobject.h
   M /trunk/dependencies/lua-5.3/src/lopcodes.h
   M /trunk/dependencies/lua-5.3/src/loslib.c
   M /trunk/dependencies/lua-5.3/src/lparser.c
   M /trunk/dependencies/lua-5.3/src/lstate.h
   M /trunk/dependencies/lua-5.3/src/lstrlib.c
   M /trunk/dependencies/lua-5.3/src/ltable.c
   M /trunk/dependencies/lua-5.3/src/ltable.h
   M /trunk/dependencies/lua-5.3/src/ltm.c
   M /trunk/dependencies/lua-5.3/src/lua.h
   M /trunk/dependencies/lua-5.3/src/luaconf.h
   M /trunk/dependencies/lua-5.3/src/lualib.h
   M /trunk/dependencies/lua-5.3/src/lutf8lib.c
   M /trunk/dependencies/lua-5.3/src/lvm.h

Updated included lua to version 5.3.4

See patch #8100

------------------------------------------------------------------------
r34923 | cazfi | 2017-02-02 05:24:28 +0000 (Thu, 02 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/Freeciv.url
   A /trunk/windows/installer_cross/create-freeciv-gtk-qt-nsi.sh
   A /trunk/windows/installer_cross/freeciv-gtk3.22.cmd
   A /trunk/windows/installer_cross/freeciv-server.cmd
   A /trunk/windows/installer_cross/installer_build.sh
   A /trunk/windows/installer_cross/licenses
   A /trunk/windows/installer_cross/licenses/COPYING.installer

Added cross-building of gtk3.22-client Windows Installer based on crosser.

See patch #8089

------------------------------------------------------------------------
r34920 | cazfi | 2017-02-01 09:22:11 +0000 (Wed, 01 Feb 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Fixed loading score.specialists from the savegame.

Originally reported by Christian Knoke <chrisk>

See bug #25475

------------------------------------------------------------------------
r34916 | cazfi | 2017-02-01 08:38:22 +0000 (Wed, 01 Feb 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.msys2
   M /trunk/windows/installer_msys2/Makefile

Updated msys2 environment to 170126 level.

See patch #8085

------------------------------------------------------------------------
r34915 | mir3x | 2017-01-31 21:07:53 +0000 (Tue, 31 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/canvas.cpp
   M /trunk/client/gui-qt/citydlg.cpp
   M /trunk/client/gui-qt/fonts.cpp
   M /trunk/client/gui-qt/fonts.h
   M /trunk/client/gui-qt/gui_main.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/menu.h
   M /trunk/client/gui-qt/shortcuts.cpp
   M /trunk/client/gui-qt/shortcuts.h
   M /trunk/client/gui-qt/sprite.cpp

Qt client - added scaling tileset

See patch #8087


------------------------------------------------------------------------
r34910 | cazfi | 2017-01-30 10:10:53 +0000 (Mon, 30 Jan 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Always lookup unit orders related keys when loading a savegame.

Reported by Christian Knoke <chrisk>

See bug #25405

------------------------------------------------------------------------
r34909 | cazfi | 2017-01-30 04:41:08 +0000 (Mon, 30 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/settings.c

Fixed compile with bzip2 compression support disabled.

See bug #25470

------------------------------------------------------------------------
r34908 | cazfi | 2017-01-29 20:55:36 +0000 (Sun, 29 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

Added separate 'ruledit' gui type to winbuild.sh

See patch #8090

------------------------------------------------------------------------
r34907 | mir3x | 2017-01-29 20:36:38 +0000 (Sun, 29 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/menu.c
   M /trunk/client/gui-gtk-3.0/sprite.c
   M /trunk/client/gui-gtk-3.0/tileset_dlg.c
   M /trunk/client/gui-gtk-3.22/menu.c
   M /trunk/client/gui-gtk-3.22/sprite.c
   M /trunk/client/gui-gtk-3.22/tileset_dlg.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/fc_client.cpp
   M /trunk/client/gui-qt/fc_client.h
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/qtg_cxxside.h
   M /trunk/client/gui-qt/sprite.cpp
   M /trunk/client/gui-sdl2/sprite.c
   M /trunk/client/gui-sdl2/themespec.c
   M /trunk/client/gui-stub/sprite.c
   M /trunk/client/gui_interface.c
   M /trunk/client/gui_interface.h
   M /trunk/client/include/sprite_g.h
   M /trunk/client/packhand.c
   M /trunk/client/tilespec.c
   M /trunk/client/tilespec.h

Added scaling tileset

See patch #8086


------------------------------------------------------------------------
r34904 | mir3x | 2017-01-29 20:22:37 +0000 (Sun, 29 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/repodlgs.cpp
   M /trunk/client/gui-qt/repodlgs.h

Qt client - show tooltip in research diagram with 500msecs delay

See patch #8092


------------------------------------------------------------------------
r34901 | mir3x | 2017-01-29 20:18:09 +0000 (Sun, 29 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/repodlgs.cpp
   M /trunk/client/gui-qt/sidebar.cpp

Qt client - replace deprecated qSort with std::sort

See patch #8091


------------------------------------------------------------------------
r34895 | cazfi | 2017-01-29 19:50:49 +0000 (Sun, 29 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/transportdlg.c
   M /trunk/client/gui-gtk-3.22/transportdlg.c

Find "best" transport from correct tile for transport dialog.

Reported by Christian Knoke <chrisk>

See bug #25406

------------------------------------------------------------------------
r34894 | cazfi | 2017-01-26 05:19:07 +0000 (Thu, 26 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

Made it possible to build just one client with winbuild.sh

See patch #8088

------------------------------------------------------------------------
r34893 | mir3x | 2017-01-25 21:35:32 +0000 (Wed, 25 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/gui-qt/mapview.h

Qt client - Fixed unit autocentering when left clicking something outside 
active unit visible screen. 

See bug #25466


------------------------------------------------------------------------
r34888 | sveinung | 2017-01-25 12:05:45 +0000 (Wed, 25 Jan 2017) | 7 lines
Changed paths:
   M /trunk/server/citytools.c

Control city externals sending centrally.

The function player_can_see_city_externals() is used to reason about what a
player can see. Use it to control when a city's externally visible details
is sent too.

See patch #8082
------------------------------------------------------------------------
r34885 | sveinung | 2017-01-24 15:15:40 +0000 (Tue, 24 Jan 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/metaknowledge.c
   M /trunk/common/metaknowledge.h
   M /trunk/common/player.c
   M /trunk/common/player.h

Move city is seen check to player module.

Rename mke_can_see_city_externals() to player_can_see_city_externals() and
move it to the player module.

See patch #8081
------------------------------------------------------------------------
r34883 | cazfi | 2017-01-24 07:24:27 +0000 (Tue, 24 Jan 2017) | 4 lines
Changed paths:
   M /trunk/dependencies/tinycthread/Version
   M /trunk/dependencies/tinycthread/tinycthread.c
   M /trunk/dependencies/tinycthread/tinycthread.h

Updated included tinycthread to latest upstream commit.

See patch #8084

------------------------------------------------------------------------
r34881 | cazfi | 2017-01-21 20:34:18 +0000 (Sat, 21 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

Require crosser-1.2 for crosser based builds.

See patch #8078

------------------------------------------------------------------------
r34880 | mir3x | 2017-01-21 11:45:36 +0000 (Sat, 21 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/chatline.cpp
   M /trunk/client/gui-qt/chatline.h
   M /trunk/client/gui-qt/citydlg.cpp
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/diplodlg.cpp
   M /trunk/client/gui-qt/diplodlg.h
   M /trunk/client/gui-qt/fc_client.cpp
   M /trunk/client/gui-qt/fc_client.h
   M /trunk/client/gui-qt/fonts.h
   M /trunk/client/gui-qt/hudwidget.cpp
   M /trunk/client/gui-qt/mapview.h
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/messagewin.cpp
   M /trunk/client/gui-qt/messagewin.h
   M /trunk/client/gui-qt/optiondlg.cpp
   M /trunk/client/gui-qt/pages.cpp
   M /trunk/client/gui-qt/plrdlg.cpp
   M /trunk/client/gui-qt/ratesdlg.cpp
   M /trunk/client/gui-qt/ratesdlg.h
   M /trunk/client/gui-qt/shortcuts.h
   M /trunk/client/gui-qt/spaceshipdlg.cpp
   M /trunk/client/gui-qt/voteinfo_bar.cpp

Qt client - Added forward declarations in headers, added/removed includes

See patch #8083


------------------------------------------------------------------------
r34877 | mir3x | 2017-01-21 11:37:46 +0000 (Sat, 21 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/fonts.cpp

Qt client - Changed default font size to 14*(PPI/DPI)

See bug #25454


------------------------------------------------------------------------
r34874 | mir3x | 2017-01-21 11:35:12 +0000 (Sat, 21 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/listener.h

Qt client - fixed downcast of XXX which does not point to an object of type chat_listener

See bug #25451


------------------------------------------------------------------------
r34871 | cazfi | 2017-01-20 10:37:50 +0000 (Fri, 20 Jan 2017) | 4 lines
Changed paths:
   M /trunk/ai/classic/classicai.c
   M /trunk/ai/threxpr/texaimsg.h
   M /trunk/ai/threxpr/texaiplayer.c
   M /trunk/ai/threxpr/texaiworld.c
   M /trunk/ai/threxpr/texaiworld.h
   M /trunk/ai/threxpr/threxprai.c
   M /trunk/common/ai.h
   M /trunk/doc/README.AI_modules
   M /trunk/server/maphand.c

Sync main map tile terrain info to threxpr map.

See patch #8071

------------------------------------------------------------------------
r34867 | sveinung | 2017-01-18 21:48:14 +0000 (Wed, 18 Jan 2017) | 6 lines
Changed paths:
   M /trunk/common/metaknowledge.c
   M /trunk/common/tile.c
   M /trunk/common/tile.h

Move tile seen checker to the tile module.

Rename the function is_tile_seen() to tile_is_seen() and move it from the
metaknowledge module to the tile module.

See patch #8080
------------------------------------------------------------------------
r34866 | sveinung | 2017-01-18 21:48:05 +0000 (Wed, 18 Jan 2017) | 8 lines
Changed paths:
   M /trunk/common/scriptcore/tolua_game.pkg

Improve parameter name.

Patch #7973 should have renamed building_type_id to action_type_id after
copy/past. Do it now.

Reported by Jacob Nevins <jtn>

See bug #25450
------------------------------------------------------------------------
r34865 | cazfi | 2017-01-17 14:55:23 +0000 (Tue, 17 Jan 2017) | 4 lines
Changed paths:
   M /trunk/common/aicore/path_finding.c
   M /trunk/common/aicore/path_finding.h
   M /trunk/common/aicore/pf_tools.c

Added map to do path finding on to path finding parameters.

See patch #8079

------------------------------------------------------------------------
r34862 | sveinung | 2017-01-17 05:31:39 +0000 (Tue, 17 Jan 2017) | 3 lines
Changed paths:
   M /trunk/common/metaknowledge.c

Improve the comment header clarity...

...of the mke_can_see_city_externals() function.
------------------------------------------------------------------------
r34861 | mir3x | 2017-01-16 13:26:06 +0000 (Mon, 16 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/cityrepdata.c

Added city report columns for culture and history
Submitted by Jacob Nevins <jtn>

See patch #7669


------------------------------------------------------------------------
r34858 | mir3x | 2017-01-16 13:23:10 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/shortcuts.cpp
   M /trunk/client/gui-qt/shortcuts.h

Qt client - add configurable shortcut to toggle city full bar

See patch #8069


------------------------------------------------------------------------
r34855 | mir3x | 2017-01-16 13:17:36 +0000 (Mon, 16 Jan 2017) | 6 lines
Changed paths:
   M /trunk/m4/qt5.m4

Decide minimum version of Qt supported
Reported by Jacob Nevins <jtn>

See bug #25343


------------------------------------------------------------------------
r34852 | mir3x | 2017-01-16 13:03:42 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/themes.cpp

Qt client - fixed mismatched free/delete

See bug #25431


------------------------------------------------------------------------
r34849 | mir3x | 2017-01-16 13:01:16 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp

Qt client - fix build road/rail menu entry

See bug #25428


------------------------------------------------------------------------
r34846 | mir3x | 2017-01-16 12:57:46 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/ratesdlg.cpp

Qt client - fix position of tax rates dialog

See bug #25427


------------------------------------------------------------------------
r34842 | mir3x | 2017-01-16 12:54:28 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/utility/fciconv.c

Fix building without iconv

See bug #25430


------------------------------------------------------------------------
r34839 | mir3x | 2017-01-16 12:46:02 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/control.c
   M /trunk/client/gui-qt/mapctrl.cpp

quickselect - return focused unit before unit count check for SELECT_FOCUS

See bug #25425


------------------------------------------------------------------------
r34836 | mir3x | 2017-01-16 12:42:36 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/optiondlg.cpp
   M /trunk/client/gui-qt/optiondlg.h

Qt client - fixed heap-use-after-free in optiondlg

See bug #25440


------------------------------------------------------------------------
r34832 | cazfi | 2017-01-15 10:07:18 +0000 (Sun, 15 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_msys2/create-freeciv-gtk3.22-nsi.sh

Gtk3.22-client Windows installer uses correct name of the client.

See bug #25441

------------------------------------------------------------------------
r34831 | cazfi | 2017-01-15 00:07:08 +0000 (Sun, 15 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/agents/agents.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.0/chatline.c
   M /trunk/client/gui-gtk-3.0/editprop.c
   M /trunk/client/gui-gtk-3.0/mapctrl.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-3.22/chatline.c
   M /trunk/client/gui-gtk-3.22/editprop.c
   M /trunk/client/gui-gtk-3.22/mapctrl.c
   M /trunk/client/gui-qt/chatline.cpp
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/mapview_common.c
   M /trunk/client/packhand.c
   M /trunk/common/aicore/path_finding.c
   M /trunk/common/featured_text.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/common/scriptcore/api_game_find.c
   M /trunk/server/edithand.c
   M /trunk/server/generator/mapgen.c
   M /trunk/server/notify.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c

Added map parameter for index_to_tile()

See patch #8070

------------------------------------------------------------------------
r34830 | cazfi | 2017-01-15 00:03:56 +0000 (Sun, 15 Jan 2017) | 5 lines
Changed paths:
   M /trunk/tools/download.c
   M /trunk/tools/modinst.c
   M /trunk/tools/modinst.h
   M /trunk/tools/mpcli.c
   M /trunk/tools/mpdb.c
   M /trunk/tools/mpdb.h
   M /trunk/tools/mpgui_gtk3.c
   M /trunk/tools/mpgui_qt.cpp

Store information about installed modpacks to sqlite database instead
of registry file.

See patch #7956

------------------------------------------------------------------------
r34828 | cazfi | 2017-01-14 13:06:42 +0000 (Sat, 14 Jan 2017) | 4 lines
Changed paths:
   M /trunk/data/alio.tilespec
   M /trunk/data/amplio.tilespec
   M /trunk/data/amplio2.tilespec
   M /trunk/data/cimpletoon.tilespec
   M /trunk/data/hex2t.tilespec
   M /trunk/data/hexemplio.tilespec
   M /trunk/data/isophex.tilespec
   M /trunk/data/isotrident.tilespec
   M /trunk/data/toonhex.tilespec
   M /trunk/data/trident.tilespec

Made tileset comments about single intro gfx singular.

See patch #7360

------------------------------------------------------------------------
r34826 | cazfi | 2017-01-14 05:38:13 +0000 (Sat, 14 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_msys2/create-freeciv-gtk-qt-nsi.sh
   M /trunk/windows/installer_msys2/create-freeciv-ruledit-nsi.sh
   M /trunk/windows/installer_msys2/create-freeciv-sdl2-nsi.sh

Set unicode directive to nsi files.

See patch #7632

------------------------------------------------------------------------
r34825 | cazfi | 2017-01-13 06:44:05 +0000 (Fri, 13 Jan 2017) | 4 lines
Changed paths:
   M /trunk/ai/threxpr/Makefile.am
   M /trunk/ai/threxpr/texaiplayer.c
   M /trunk/ai/threxpr/texaiplayer.h
   A /trunk/ai/threxpr/texaiworld.c
   A /trunk/ai/threxpr/texaiworld.h
   M /trunk/ai/threxpr/threxprai.c
   M /trunk/common/map_types.h

Allocate map of its own to threxpr AI type.

See patch #8067

------------------------------------------------------------------------
r34824 | mir3x | 2017-01-12 10:25:27 +0000 (Thu, 12 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/data/themes/gui-qt/NightStalker/resource.qss

Qt client - fix default button in disband dialog
Reported by Gogo Gugelhupf <gogo>

See bug #25421


------------------------------------------------------------------------
r34821 | cazfi | 2017-01-12 10:15:33 +0000 (Thu, 12 Jan 2017) | 4 lines
Changed paths:
   M /trunk/common/map.c

Made map_allocate() to respect map parameter.

See bug #25418

------------------------------------------------------------------------
r34820 | mir3x | 2017-01-12 10:12:57 +0000 (Thu, 12 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/citydlg.cpp
   M /trunk/client/gui-qt/citydlg.h
   M /trunk/client/gui-qt/repodlgs.cpp

Qt client - use city_improvement_upkeep to calculate upkeep in city dialog
Reported by Gogo Gugelhupf <gogo>

See bug #25422


------------------------------------------------------------------------
r34817 | cazfi | 2017-01-12 10:11:19 +0000 (Thu, 12 Jan 2017) | 6 lines
Changed paths:
   M /trunk/configure.ac

Fixed typo in helptext of --enable-fcmp

Reported by Jacob Nevins <jtn>

See patch #7019

------------------------------------------------------------------------
r34816 | mir3x | 2017-01-12 09:31:18 +0000 (Thu, 12 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/pages.cpp

Qt client - remove right click menu from end turn sidebar
Reported by Gogo Gugelhupf <gogo>

See bug #25420


------------------------------------------------------------------------
r34813 | mir3x | 2017-01-11 18:16:52 +0000 (Wed, 11 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/gui-qt/mapview.cpp
   M /trunk/client/gui-qt/mapview.h
   M /trunk/client/gui-qt/menu.cpp

Qt client - fix keyboard goto

See bug #25419


------------------------------------------------------------------------
r34810 | mir3x | 2017-01-09 10:16:42 +0000 (Mon, 09 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/mapctrl.cpp

Qt client - allow keyboardless goto for units in stack

See patch #8064


------------------------------------------------------------------------
r34806 | mir3x | 2017-01-09 10:06:19 +0000 (Mon, 09 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/control.c
   M /trunk/client/control.h

Added SELECT_FOCUS to quickselect_type

See patch #8063


------------------------------------------------------------------------
r34801 | cazfi | 2017-01-09 09:40:42 +0000 (Mon, 09 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Fixed check that techonology vector has been loaded correctly from the savegame.

See bug #25416

------------------------------------------------------------------------
r34799 | cazfi | 2017-01-08 07:25:03 +0000 (Sun, 08 Jan 2017) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   D /trunk/m4/freetype2.m4

Dropped obsolete freetype2.m4

See patch #8068

------------------------------------------------------------------------
r34798 | cazfi | 2017-01-08 07:21:02 +0000 (Sun, 08 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/savecompat.h
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Use activities order from the savegame when loading it.

See patch #8066

------------------------------------------------------------------------
r34797 | cazfi | 2017-01-07 21:11:28 +0000 (Sat, 07 Jan 2017) | 5 lines
Changed paths:
   M /trunk/server/savecompat.c
   M /trunk/server/savecompat.h
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Added parameter telling if savegame is savegame2 or savegame3 to
compat conversion functions.

See patch #8065

------------------------------------------------------------------------
r34796 | mir3x | 2017-01-05 23:35:05 +0000 (Thu, 05 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/ratesdlg.cpp

Qt client - Fixed science rate not checked it's over available maximum rate.

See bug #25412


------------------------------------------------------------------------
r34793 | cazfi | 2017-01-05 19:58:05 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/packhand.c
   M /trunk/common/game.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/server/generator/mapgen.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/srv_main.c

Give map as parameter to map_init(), map_free(), and map_allocate()

See patch #8055

------------------------------------------------------------------------
r34792 | cazfi | 2017-01-05 17:56:18 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/Makefile.am
   D /trunk/server/legacysave.c
   D /trunk/server/legacysave.h
   M /trunk/server/savegame.c
   M /trunk/translations/core/POTFILES.in

Dropped legacysave support.

See patch #5591

------------------------------------------------------------------------
r34789 | cazfi | 2017-01-05 15:57:19 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/sprite.c
   M /trunk/client/gui-gtk-3.22/sprite.c

Consider '.png' supported even if there's no mime-type called 'png'

See patch #8062

------------------------------------------------------------------------
r34786 | cazfi | 2017-01-05 06:49:21 +0000 (Thu, 05 Jan 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

When loading saved game, always lookup action decision tiles.

Reported by Christian Knoke <chrisk>

See bug #25405

------------------------------------------------------------------------
r34785 | cazfi | 2017-01-05 06:32:01 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   D /trunk/windows/installer_legacy/create-freeciv-gtk2-nsi.sh
   D /trunk/windows/installer_msys2/create-freeciv-gtk2-nsi.sh

Dropped obsolete create-freeciv-gtk2-nsi.sh from svn.

See patch #8061

------------------------------------------------------------------------
r34784 | cazfi | 2017-01-05 06:28:17 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/options.c

Do not save gtk2-client options when they are no longer needed.

See patch #8060

------------------------------------------------------------------------
r34781 | cazfi | 2017-01-05 06:17:17 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/m4/debug.m4

Define QT_NO_DEBUG in fc_config.h, not compiler command line, when needed.

See patch #8054

------------------------------------------------------------------------
r34780 | cazfi | 2017-01-04 17:29:59 +0000 (Wed, 04 Jan 2017) | 4 lines
Changed paths:
   M /trunk/m4/gtk3.22-client.m4

Prevent things deprecated in gtk+ 3.20 from gtk3.22-client

See patch #7125

------------------------------------------------------------------------
r34779 | cazfi | 2017-01-02 21:51:00 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/common/player.h
   M /trunk/data/alien/game.ruleset
   M /trunk/data/civ1/effects.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/effects.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/effects.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/effects.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/server/cityturn.c
   M /trunk/server/rscompat.c
   M /trunk/server/rscompat.h
   M /trunk/server/ruleset.c

Renamed Diplomatic Relation type "Is Foreign" as just "Foreign"

See patch #7280

------------------------------------------------------------------------
r34778 | cazfi | 2017-01-02 19:25:28 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/climap.c
   M /trunk/client/overview_common.c
   M /trunk/client/packhand.c
   M /trunk/common/achievements.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/common/mapimg.c
   M /trunk/server/advisors/advdata.c
   M /trunk/server/advisors/autosettlers.c
   M /trunk/server/barbarian.c
   M /trunk/server/citytools.c
   M /trunk/server/generator/fracture_map.c
   M /trunk/server/generator/height_map.c
   M /trunk/server/generator/mapgen.c
   M /trunk/server/generator/mapgen_utils.c
   M /trunk/server/generator/mapgen_utils.h
   M /trunk/server/generator/startpos.c
   M /trunk/server/generator/temperature_map.c
   M /trunk/server/legacysave.c
   M /trunk/server/maphand.c
   M /trunk/server/plrhand.c
   M /trunk/server/sanitycheck.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/score.c
   M /trunk/server/srv_main.c

Give map as parameter to whole_map_iterate()

See patch #8052

------------------------------------------------------------------------
r34777 | cazfi | 2017-01-02 19:20:52 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/settings.c

Deprecated compresstype bzip2.

See patch #7112

------------------------------------------------------------------------
r34776 | cazfi | 2017-01-02 19:15:10 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/m4/debug.m4

Dropped obsolete DEBUG macro

See patch #7555

------------------------------------------------------------------------
r34775 | cazfi | 2017-01-02 19:10:47 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/options.c

Removed unused descriptions for gtk2-client options.

See patch #7624

------------------------------------------------------------------------
r34774 | cazfi | 2017-01-02 19:08:10 +0000 (Mon, 02 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-gtk-3.22/editgui.c
   M /trunk/client/gui-gtk-3.22/gui_main.c
   M /trunk/client/gui-gtk-3.22/voteinfo_bar.c

Use gtk_widget_set_focus_on_click() instead of deprecated gtk_button_set_focus_on_click()
in gtk3.22-client.

See patch #7222

------------------------------------------------------------------------
r34772 | cazfi | 2017-01-02 15:26:46 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   M /trunk/windows/installer_msys2/Makefile
   D /trunk/windows/installer_msys2/create-freeciv-gtk3-nsi.sh
   D /trunk/windows/installer_msys2/freeciv-gtk3.cmd

Dropped Windows installer for gtk3-client, superceded by gtk3.22-client installer.

See patch #8056

------------------------------------------------------------------------
r34771 | cazfi | 2017-01-02 10:39:29 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/data/Makefile.am
   D /trunk/data/experimental/Makefile.am
   M /trunk/translations/core/POTFILES.in

Dropped experimental ruleset from the tarball.

See patch #7625

------------------------------------------------------------------------
r34770 | cazfi | 2017-01-01 23:24:53 +0000 (Sun, 01 Jan 2017) | 5 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/configure.ac
   M /trunk/doc/README.packaging

Made sqlite3 hard requirement.
Sqlite3 based player authentication is enabled by default.

See patch #7379

------------------------------------------------------------------------
r34769 | cazfi | 2017-01-01 23:20:46 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/ai/threaded/taicity.c
   M /trunk/ai/threaded/taicity.h
   M /trunk/ai/threaded/taiplayer.c

Refactor threaded AI to make it more similar to threxpr.

See patch #7559

------------------------------------------------------------------------
r34768 | cazfi | 2017-01-01 23:18:44 +0000 (Sun, 01 Jan 2017) | 5 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/autogen.sh
   M /trunk/common/Makefile.am
   M /trunk/doc/README.packaging

Set EXTRA_foo_DEPENDENCIES instead of foo_DEPENDENCIES.
Bumped minimum automake requirement to 1.11.3

See patch #7871

------------------------------------------------------------------------
r34767 | cazfi | 2017-01-01 23:14:45 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/client/audio_sdl.c
   M /trunk/client/gui-gtk-3.0/gui_main.c
   M /trunk/client/gui-gtk-3.22/gui_main.c
   M /trunk/client/gui-qt/gui_main.cpp
   M /trunk/doc/README.packaging
   D /trunk/m4/sdl.m4
   M /trunk/m4/sound.m4

Dropped sdl1.2-mixer support.

See patch #6246

------------------------------------------------------------------------
r34766 | cazfi | 2017-01-01 23:12:28 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac

Remove attempt to create Makefile to some gtk2 related directories.

See patch #7019

------------------------------------------------------------------------
r34765 | cazfi | 2017-01-01 23:05:22 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/Makefile.am
   M /trunk/bootstrap/Makefile.am
   D /trunk/bootstrap/freeciv-gtk2.appdata.xml.in
   D /trunk/bootstrap/freeciv-gtk2.desktop.in
   D /trunk/bootstrap/freeciv-mp-gtk2.appdata.xml.in
   D /trunk/bootstrap/freeciv-mp-gtk2.desktop.in
   M /trunk/client/Makefile.am
   D /trunk/client/gui-gtk-2.0
   M /trunk/common/fc_types.h
   M /trunk/configure.ac
   M /trunk/data/Makefile.am
   D /trunk/data/freeciv.rc-2.0
   D /trunk/data/gtk2_menus.xml
   M /trunk/data/themes/Makefile.am
   D /trunk/data/themes/gui-gtk-2.0
   M /trunk/doc/BUGS
   M /trunk/doc/HACKING
   M /trunk/doc/INSTALL.Cygwin
   M /trunk/doc/README
   M /trunk/doc/README.packaging
   M /trunk/doc/man/Makefile.am
   M /trunk/doc/man/freeciv-client.6.in
   D /trunk/doc/man/freeciv-gtk2.6
   M /trunk/doc/man/freeciv-modpack.6.in
   D /trunk/doc/man/freeciv-mp-gtk2.6
   M /trunk/m4/debug.m4
   D /trunk/m4/gtk-2.0.m4
   D /trunk/m4/gtk2-client.m4
   M /trunk/scripts/diff_ignore
   M /trunk/tools/Makefile.am
   D /trunk/tools/mpgui_gtk2.c
   M /trunk/translations/core/POTFILES.in
   M /trunk/utility/fciconv.h
   M /trunk/windows/Makefile.am
   M /trunk/windows/installer_cross/winbuild.sh
   M /trunk/windows/installer_legacy/Makefile
   D /trunk/windows/installer_legacy/freeciv-gtk2.cmd
   D /trunk/windows/installer_legacy/freeciv-mp-gtk2.cmd
   M /trunk/windows/installer_msys2/Makefile
   D /trunk/windows/installer_msys2/freeciv-gtk2.cmd
   D /trunk/windows/installer_msys2/freeciv-mp-gtk2.cmd

Dropped gtk2 guis.

See patch #7019

------------------------------------------------------------------------
r34764 | cazfi | 2017-01-01 22:57:16 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/luascript/script_client.c
   M /trunk/client/luascript/script_client.h
   M /trunk/common/featured_text.c
   M /trunk/common/featured_text.h
   M /trunk/common/scriptcore/tolua_common_a.pkg
   M /trunk/doc/man/freeciv-client.6.in
   M /trunk/doc/man/freeciv-manual.6.in
   M /trunk/doc/man/freeciv-modpack.6.in
   M /trunk/doc/man/freeciv-server.6.in
   M /trunk/server/scripting/script_fcdb.c
   M /trunk/server/scripting/script_server.c
   M /trunk/utility/deprecations.c
   M /trunk/utility/deprecations.h
   M /trunk/utility/log.c
   M /trunk/utility/log.h

Added log level LOG_WARN

See patch #7373

------------------------------------------------------------------------
r34763 | cazfi | 2017-01-01 22:47:54 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac

Dropped obsolete WIN32_NATIVE macro

See patch #7499

------------------------------------------------------------------------
r34762 | cazfi | 2017-01-01 22:38:48 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/client/gui-gtk-3.22/citydlg.c
   M /trunk/client/gui-gtk-3.22/cityrep.c
   M /trunk/client/gui-gtk-3.22/gui_main.c
   M /trunk/client/gui-gtk-3.22/happiness.c
   M /trunk/client/gui-gtk-3.22/mapctrl.c
   M /trunk/m4/gtk3.22-client.m4

Replaced deprecated uses of GdkDeviceManager with GdkSeat in gtk3.22-client

See patch #7221

------------------------------------------------------------------------
r34759 | cazfi | 2017-01-01 22:23:56 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/common/unittype.h
   M /trunk/data/alien/buildings.ruleset
   M /trunk/data/alien/cities.ruleset
   M /trunk/data/alien/effects.ruleset
   M /trunk/data/alien/game.ruleset
   M /trunk/data/alien/governments.ruleset
   M /trunk/data/alien/nations.ruleset
   M /trunk/data/alien/styles.ruleset
   M /trunk/data/alien/techs.ruleset
   M /trunk/data/alien/terrain.ruleset
   M /trunk/data/alien/units.ruleset
   M /trunk/data/civ1/buildings.ruleset
   M /trunk/data/civ1/cities.ruleset
   M /trunk/data/civ1/effects.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ1/governments.ruleset
   M /trunk/data/civ1/nations.ruleset
   M /trunk/data/civ1/styles.ruleset
   M /trunk/data/civ1/techs.ruleset
   M /trunk/data/civ1/terrain.ruleset
   M /trunk/data/civ1/units.ruleset
   M /trunk/data/civ2/buildings.ruleset
   M /trunk/data/civ2/cities.ruleset
   M /trunk/data/civ2/effects.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2/governments.ruleset
   M /trunk/data/civ2/nations.ruleset
   M /trunk/data/civ2/styles.ruleset
   M /trunk/data/civ2/techs.ruleset
   M /trunk/data/civ2/terrain.ruleset
   M /trunk/data/civ2/units.ruleset
   M /trunk/data/civ2civ3/buildings.ruleset
   M /trunk/data/civ2civ3/cities.ruleset
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/civ2civ3/governments.ruleset
   M /trunk/data/civ2civ3/nations.ruleset
   M /trunk/data/civ2civ3/styles.ruleset
   M /trunk/data/civ2civ3/techs.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/civ2civ3/units.ruleset
   M /trunk/data/classic/buildings.ruleset
   M /trunk/data/classic/cities.ruleset
   M /trunk/data/classic/effects.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/classic/governments.ruleset
   M /trunk/data/classic/nations.ruleset
   M /trunk/data/classic/styles.ruleset
   M /trunk/data/classic/techs.ruleset
   M /trunk/data/classic/terrain.ruleset
   M /trunk/data/classic/units.ruleset
   M /trunk/data/experimental/buildings.ruleset
   M /trunk/data/experimental/cities.ruleset
   M /trunk/data/experimental/effects.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/experimental/governments.ruleset
   M /trunk/data/experimental/nations.ruleset
   M /trunk/data/experimental/styles.ruleset
   M /trunk/data/experimental/techs.ruleset
   M /trunk/data/experimental/terrain.ruleset
   M /trunk/data/experimental/units.ruleset
   M /trunk/data/multiplayer/buildings.ruleset
   M /trunk/data/multiplayer/cities.ruleset
   M /trunk/data/multiplayer/effects.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/multiplayer/governments.ruleset
   M /trunk/data/multiplayer/nations.ruleset
   M /trunk/data/multiplayer/styles.ruleset
   M /trunk/data/multiplayer/techs.ruleset
   M /trunk/data/multiplayer/terrain.ruleset
   M /trunk/data/multiplayer/units.ruleset
   M /trunk/data/sandbox/buildings.ruleset
   M /trunk/data/sandbox/cities.ruleset
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/sandbox/governments.ruleset
   M /trunk/data/sandbox/nations.ruleset
   M /trunk/data/sandbox/styles.ruleset
   M /trunk/data/sandbox/techs.ruleset
   M /trunk/data/sandbox/terrain.ruleset
   M /trunk/data/sandbox/units.ruleset
   M /trunk/data/stub/buildings.ruleset
   M /trunk/data/stub/cities.ruleset
   M /trunk/data/stub/effects.ruleset
   M /trunk/data/stub/game.ruleset
   M /trunk/data/stub/governments.ruleset
   M /trunk/data/stub/nations.ruleset
   M /trunk/data/stub/styles.ruleset
   M /trunk/data/stub/techs.ruleset
   M /trunk/data/stub/terrain.ruleset
   M /trunk/data/stub/units.ruleset
   M /trunk/data/webperimental/buildings.ruleset
   M /trunk/data/webperimental/cities.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/data/webperimental/governments.ruleset
   M /trunk/data/webperimental/nations.ruleset
   M /trunk/data/webperimental/styles.ruleset
   M /trunk/data/webperimental/techs.ruleset
   M /trunk/data/webperimental/terrain.ruleset
   M /trunk/data/webperimental/units.ruleset
   M /trunk/server/rscompat.c
   M /trunk/server/rscompat.h
   M /trunk/server/ruleset.c
   M /trunk/server/ruleset.h
   M /trunk/tools/ruleutil/rulesave.c

Bumped ruleset format for 3.1 development.

See patch #7776

------------------------------------------------------------------------
r34758 | cazfi | 2017-01-01 22:19:04 +0000 (Sun, 01 Jan 2017) | 5 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/server/savecompat.c

Added macro FREECIV_DEV_SAVE_COMPAT_3_1 to be used where the compatibility code
is specific to 3.1 development.

See patch #7372

------------------------------------------------------------------------
r34757 | cazfi | 2017-01-01 22:16:43 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/doc/BUGS
   M /trunk/doc/README
   M /trunk/doc/README.packaging
   M /trunk/doc/README.rulesets
   M /trunk/doc/README.tilesets
   M /trunk/fc_version
   M /trunk/server/rscompat.h
   M /trunk/server/savecompat.c
   M /trunk/translations/Strings.txt
   M /trunk/windows/installer_legacy/Makefile
   M /trunk/windows/installer_msys2/Makefile

Prepared trunk for 3.1 development.

See patch #7760
